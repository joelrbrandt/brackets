/*!
 * jQuery JavaScript Library v1.7
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Nov 3 16:18:21 2011 -0400
 */(function(a,b){function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function M(){return!1}function N(){return!0}function V(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function W(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(R.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function X(a){var b=Y.split(" "),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function lb(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function mb(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function nb(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function ob(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function pb(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function qb(a){var b=(a.nodeName||"").toLowerCase();b==="input"?pb(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),pb)}function rb(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(ib,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function Eb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?zb:Ab;if(d>0)return c!=="border"&&f.each(e,function(){c||(d-=parseFloat(f.css(a,"padding"+this))||0),c==="margin"?d+=parseFloat(f.css(a,c+this))||0:d-=parseFloat(f.css(a,"border"+this+"Width"))||0}),d+"px";d=Bb(a,b,b);if(d<0||d==null)d=a.style[b]||0;return d=parseFloat(d)||0,c&&f.each(e,function(){d+=parseFloat(f.css(a,"padding"+this))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+this+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+this))||0)}),d+"px"}function _b(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(Rb),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function ac(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===Vb,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=ac(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=ac(a,c,d,e,"*",g)),l}function bc(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function cc(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||Gb.test(a)?d(a,e):cc(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)cc(a+"["+e+"]",b[e],c,d);else d(a,b)}function dc(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function ec(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function kc(){try{return new a.XMLHttpRequest}catch(b){}}function lc(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function uc(){return setTimeout(vc,0),tc=f.now()}function vc(){tc=b}function wc(a,b){var c={};return f.each(sc.concat.apply([],sc.slice(0,b)),function(){c[this]=a}),c}function xc(a){if(!mc[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){nc||(nc=c.createElement("iframe"),nc.frameBorder=nc.width=nc.height=0),b.appendChild(nc);if(!oc||!nc.createElement)oc=(nc.contentWindow||nc.contentDocument).document,oc.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),oc.close();d=oc.createElement(a),oc.body.appendChild(d),e=f.css(d,"display"),b.removeChild(nc)}mc[a]=e}return mc[a]}function Ac(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function K(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(K,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/\d/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/ig,x=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},z=d.userAgent,A,B,C,D=Object.prototype.toString,E=Object.prototype.hasOwnProperty,F=Array.prototype.push,G=Array.prototype.slice,H=String.prototype.trim,I=Array.prototype.indexOf,J={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=i.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=n.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7",length:0,size:function(){return this.length},toArray:function(){return G.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?F.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),B.add(a),this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:F,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;B.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").unbind("ready")}},bindReady:function(){if(B)return;B=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",C,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",C),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&K()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return a!=null&&m.test(a)&&!isNaN(a)},type:function(a){return a==null?String(a):J[D.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!E.call(a,"constructor")&&!E.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||E.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(o.test(b.replace(p,"@").replace(q,"]").replace(r,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(x,"ms-").replace(w,y)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:H?function(a){return a==null?"":H.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?F.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(I)return I.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=G.call(arguments,2),g=function(){return a.apply(c,f.concat(G.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),A=e.uaMatch(z),A.browser&&(e.browser[A.browser]=!0,e.browser.version=A.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?C=function(){c.removeEventListener("DOMContentLoaded",C,!1),e.ready()}:c.attachEvent&&(C=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",C),e.ready())}),typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return e}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&o.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments)},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}var b=i.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var a=c.createElement("div"),b=c.documentElement,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a.setAttribute("className","t"),a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>",d=a.getElementsByTagName("*"),e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=a.getElementsByTagName("input")[0],k={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,unknownElems:!!a.getElementsByTagName("nav").length,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:a.className!=="t",enctype:!!c.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,k.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,k.optDisabled=!h.disabled;try{delete a.test}catch(v){k.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){k.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),k.radioValue=i.value==="t",i.setAttribute("checked","checked"),a.appendChild(i),l=c.createDocumentFragment(),l.appendChild(a.lastChild),k.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="",a.style.width=a.style.paddingLeft="1px",m=c.getElementsByTagName("body")[0],o=c.createElement(m?"div":"body"),p={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},m&&f.extend(p,{position:"absolute",left:"-999px",top:"-999px"});for(t in p)o.style[t]=p[t];o.appendChild(a),n=m||b,n.insertBefore(o,n.firstChild),k.appendChecked=i.checked,k.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,k.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",k.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",q=a.getElementsByTagName("td"),u=q[0].offsetHeight===0,q[0].style.display="",q[1].style.display="none",k.reliableHiddenOffsets=u&&q[0].offsetHeight===0,a.innerHTML="",c.defaultView&&c.defaultView.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",a.appendChild(j),k.reliableMarginRight=(parseInt((c.defaultView.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(a.attachEvent)for(t in{submit:1,change:1,focusin:1})s="on"+t,u=s in a,u||(a.setAttribute(s,"return;"),u=typeof a[s]=="function"),k[t+"Bubbles"]=u;return f(function(){var a,b,d,e,g,h,i=1,j="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",n="style='"+j+"border:5px solid #000;padding:0;'",p="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>";m=c.getElementsByTagName("body")[0];if(!m)return;a=c.createElement("div"),a.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+i+"px",m.insertBefore(a,m.firstChild),o=c.createElement("div"),o.style.cssText=j+l,o.innerHTML=p,a.appendChild(o),b=o.firstChild,d=b.firstChild,g=b.nextSibling.firstChild.firstChild,h={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:g.offsetTop===5},d.style.position="fixed",d.style.top="20px",h.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",b.style.overflow="hidden",b.style.position="relative",h.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,h.doesNotIncludeMarginInBodyOffset=m.offsetTop!==i,m.removeChild(a),o=a=null,f.extend(k,h)}),o.innerHTML="",n.removeChild(o),o=l=g=h=m=j=a=i=null,k}(),f.boxModel=f.support.boxModel;var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[f.expando]:a[f.expando]&&f.expando,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[f.expando]=n=++f.uuid:n=f.expando),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);return g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h,i)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[f.expando]:f.expando;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)?b=b:b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" "));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[f.expando]:a.removeAttribute?a.removeAttribute(f.expando):a[f.expando]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h)),h===b&&d[1]?this.data(d[0]):h):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);return m(),d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length)return g?(c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(q,""):d==null?"":d)):b;return e=f.isFunction(a),this.each(function(d){var g=f(this),h;if(this.nodeType!==1)return;e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;return!a||j===3||j===8||j===2?b:e&&c in f.attrFn?f(a)[c](d):"getAttribute"in a?(i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w)),d!==b?d===null?(f.removeAttr(a,c),b):h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d):h&&"get"in h&&i&&(g=h.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)):f.prop(a,c,d)},removeAttr:function(a,b){var c,d,e,g,h=0;if(a.nodeType===1){d=(b||"").split(p),g=d.length;for(;h<g;h++)e=d[h].toLowerCase(),c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1)}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;return!a||i===3||i===8||i===2?b:(h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c])},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/\.(.*)$/,A=/^(?:textarea|input|select)$/i,B=/\./g,C=/ /g,D=/[^\w\s.|`]/g,E=/^([^\.]*)?(?:\.(.+))?$/,F=/\bhover(\.\S+)?/,G=/^key/,H=/^(?:mouse|contextmenu)|click/,I=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,J=function(a){var b=I.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},K=function(a,b){return(!b[1]||a.nodeName
.toLowerCase()===b[1])&&(!b[2]||a.id===b[2])&&(!b[3]||b[3].test(a.className))},L=function(a){return f.event.special.hover?a:a.replace(F,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=L(c).split(" ");for(k=0;k<c.length;k++){l=E.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,namespace:n.join(".")},p),g&&(o.quick=J(g),!o.quick&&f.expr.match.POS.test(g)&&(o.isPositional=!0)),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d){var e=f.hasData(a)&&f._data(a),g,h,i,j,k,l,m,n,o,p,q;if(!e||!(m=e.events))return;b=L(b||"").split(" ");for(g=0;g<b.length;g++){h=E.exec(b[g])||[],i=h[1],j=h[2];if(!i){j=j?"."+j:"";for(l in m)f.event.remove(a,l+j,c,d);return}n=f.event.special[i]||{},i=(d?n.delegateType:n.bindType)||i,p=m[i]||[],k=p.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;if(c||j||d||n.remove)for(l=0;l<p.length;l++){q=p[l];if(!c||c.guid===q.guid)if(!j||j.test(q.namespace))if(!d||d===q.selector||d==="**"&&q.selector)p.splice(l--,1),q.selector&&p.delegateCount--,n.remove&&n.remove.call(a,q)}else p.length=0;p.length===0&&k!==p.length&&((!n.teardown||n.teardown.call(a,j)===!1)&&f.removeEvent(a,i,e.handle),delete m[i])}f.isEmptyObject(m)&&(o=e.handle,o&&(o.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"",(g||!e)&&c.preventDefault();if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,n=null;for(m=e.parentNode;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length;l++){m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d);if(c.isPropagationStopped())break}return c.type=h,c.isDefaultPrevented()||(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=(f.event.special[c.type]||{}).handle,j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click"))for(m=c.target;m!=this;m=m.parentNode||this){o={},q=[];for(k=0;k<e;k++)r=d[k],s=r.selector,t=o[s],r.isPositional?t=(t||(o[s]=f(s))).index(m)>=0:t===b&&(t=o[s]=r.quick?K(m,r.quick):f(m).is(s)),t&&q.push(r);q.length&&j.push({elem:m,matches:q})}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){p=j[k],c.currentTarget=p.elem;for(l=0;l<p.matches.length&&!c.isImmediatePropagationStopped();l++){r=p.matches[l];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=(i||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},focus:{delegateType:"focusin",noBubble:!0},blur:{delegateType:"focusout",noBubble:!0},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?N:M):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=N;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=N;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=N,this.stopPropagation()},isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]=f.event.special[b]={delegateType:b,bindType:b,handle:function(a){var b=this,c=a.relatedTarget,d=a.handleObj,e=d.selector,g,h;if(!c||d.origType===a.type||c!==b&&!f.contains(b,c))g=a.type,a.type=d.origType,h=d.handler.apply(this,arguments),a.type=g;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(A.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;A.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),A.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=M;else if(!e)return this;return g===1&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=M),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.bind(b,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),G.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),H.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw"Syntax error, unrecognized expression: "+a};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=m(b[3],null,null,c)}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var O=/Until$/,P=/^(?:parents|prevUntil|prevAll)/,Q=/,/,R=/^.[^:#\[\.,]*$/,S=Array.prototype.slice,T=f.expr.match.POS,U={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(W(this,a,!1),"not",a)},filter:function(a){return this.pushStack(W(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?T.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=T.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(V(c[0])||V(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c),g=S.call(arguments);return O.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!U[a]?f.unique(e):e,(this.length>1||Q.test(d))&&P.test(a)&&(e=e.reverse()),this.pushStack(e,a,g.join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var Y="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",Z=/ jQuery\d+="(?:\d+|null)"/g,$=/^\s+/,_=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ab=/<([\w:]+)/,bb=/<tbody/i,cb=/<|&#?\w+;/,db=/<(?:script|style)/i,eb=/<(?:script|object|embed|option|style)/i,fb=new RegExp("<(?:"+Y.replace(" ","|")+")","i"),gb=/checked\s*(?:[^=]|=\s*.checked.)/i,hb=/\/(java|ecma)script/i,ib=/^\s*<!(?:\[CDATA\[|\-\-)/,jb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},kb=X(c);jb.optgroup=jb.option,jb.tbody=jb.tfoot=jb.colgroup=jb.caption=jb.thead,jb.th=jb.td,f.support.htmlSerialize||(jb._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f(arguments[0]);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f(arguments[0]).toArray()),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d
.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Z,""):null;if(typeof a=="string"&&!db.test(a)&&(f.support.leadingWhitespace||!$.test(a))&&!jb[(ab.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(_,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&gb.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?lb(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,rb)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!eb.test(j)&&(f.support.checkClone||!gb.test(j))&&!f.support.unknownElems&&fb.test(j)&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,g,h;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){nb(a,d),e=ob(a),g=ob(d);for(h=0;e[h];++h)g[h]&&nb(e[h],g[h])}if(b){mb(a,d);if(c){e=ob(a),g=ob(d);for(h=0;e[h];++h)mb(e[h],g[h])}}return e=g=null,d},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!cb.test(k))k=b.createTextNode(k);else{k=k.replace(_,"<$1></$2>");var l=(ab.exec(k)||["",""])[1].toLowerCase(),m=jb[l]||jb._default,n=m[0],o=b.createElement("div");b===c?kb.appendChild(o):X(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=bb.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&$.test(k)&&o.insertBefore(b.createTextNode($.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)qb(k[i]);else qb(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||hb.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var sb=/alpha\([^)]*\)/i,tb=/opacity=([^)]*)/,ub=/([A-Z]|^ms)/g,vb=/^-?\d+(?:px)?$/i,wb=/^-?\d/,xb=/^([\-+])=([\-+.\de]+)/,yb={position:"absolute",visibility:"hidden",display:"block"},zb=["Left","Right"],Ab=["Top","Bottom"],Bb,Cb,Db;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Bb(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];h=typeof d,h==="string"&&(g=xb.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(Bb)return Bb(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?Eb(a,b,d):(f.swap(a,yb,function(){e=Eb(a,b,d)}),e)},set:function(a,b){if(!vb.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return tb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(sb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=sb.test(g)?g.replace(sb,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=Bb(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(Cb=function(a,c){var d,e,g;c=c.replace(ub,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return b;if(g=e.getComputedStyle(a,null))d=g.getPropertyValue(c),d===""&&!f.contains(a.ownerDocument.documentElement,a)&&(d=f.style(a,c));return d}),c.documentElement.currentStyle&&(Db=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!vb.test(f)&&wb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),Bb=Cb||Db,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var Fb=/%20/g,Gb=/\[\]$/,Hb=/\r?\n/g,Ib=/#.*$/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Kb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Lb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/\?/,Pb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Qb=/^(?:select|textarea)/i,Rb=/\s+/,Sb=/([?&])_=[^&]*/,Tb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ub=f.fn.load,Vb={},Wb={},Xb,Yb,Zb=["*/"]+["*"];try{Xb=e.href}catch($b){Xb=c.createElement("a"),Xb.href="",Xb=Xb.href}Yb=Tb.exec(Xb.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&Ub)return Ub.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(Pb,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Qb.test(this.nodeName)||Kb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(Hb,"\r\n")}}):{name:b.name,value:c.replace(Hb,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.bind(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?bc(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),bc(a,b),a},ajaxSettings:{url:Xb,isLocal:Lb.test(Yb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Zb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:_b(Vb),ajaxTransport:_b(Wb),ajax:function(a,c){function w(a,c,l,m){if(s===2)return;s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?dc(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=ec(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=Jb.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(Ib,"").replace(Nb,Yb[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(Rb),d.crossDomain==null&&(r=Tb.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==Yb[1]&&r[2]==Yb[2]&&(r[3]||(r[1]==="http:"?80:443))==(Yb[3]||(Yb[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),ac(Vb,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Mb.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(Ob.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(Sb,"$1_="+x);d.url=y+(y===d.url?(Ob.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+Zb+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(!d.beforeSend||d.beforeSend.call(e,v,d)!==!1&&s!==2){for(u in{success:1,error:1,complete:1})v[u](d[u]);p=ac(Wb,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){s<2?w(-1,z):f.error(z)}}return v}return v.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)cc(g,a[g],c,e);return d.join("&").replace(Fb,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var fc=f.now(),gc=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+fc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(gc.test(b.url)||e&&gc.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(gc,l),b.url===j&&(e&&(k=k.replace(gc,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var hc=a.ActiveXObject?function(){for(var a in jc)jc[a](0,1)}:!1,ic=0,jc;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&kc()||lc()}:kc,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,hc&&delete jc[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++ic,hc&&(jc||(jc={},f(a).unload(hc)),jc[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var mc={},nc,oc,pc=/^(?:toggle|show|hide)$/,qc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,rc,sc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],tc;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(wc("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",xc(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(wc("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(wc("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||xc(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],pc.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=qc.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:wc("show",1),slideUp:wc("hide",1),slideToggle:wc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=tc||uc(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!rc&&(rc=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=tc||uc(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(rc),rc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now))}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var yc=/^t(?:able|d|h)$/i,zc=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=Ac(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!yc.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=zc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!zc.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=Ac(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=Ac(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f})(window);var CodeMirror=function(){function a(d,e){function bc(a){return a>=0&&a<wb.size}function dc(a){return u(wb,a)}function ec(a,b){Ob=!0;var c=b-a.height;for(var d=a;d;d=d.parent)d.height+=c}function fc(a){var b={line:0,ch:0};vc(b,{line:wb.size-1,ch:dc(wb.size-1).text.length},db(a),b,b),Ib=!0}function gc(a){var b=[];return wb.iter(0,wb.size,function(a){b.push(a.text)}),b.join("\n")}function hc(){if(Db!=S.scrollTop||Eb!=gb.scrollLeft)Db=S.scrollTop,Eb=gb.scrollLeft,Sc([]),f.fixedGutter&&(jb.style.left=gb.scrollLeft+"px"),f.onScroll&&f.onScroll(cc)}function ic(a){function l(a){Math.abs(j-a.clientY)>5&&(k=j>a.clientY?-1:1,j=a.clientY);var b=Xd(a,!0,k);if(b&&!X(b,g)){yb||rc(),g=b,Yc(d,b),Ib=!1;var c=Rc();if(b.line>=c.to||b.line<c.from)h=setTimeout(je(function(){l(a)}),150)}}Xc(K(a,"shiftKey"));for(var b=I(a);b!=D;b=b.parentNode)if(b.parentNode==hb&&b!=ib||b.getAttribute(A))return;for(var b=I(a);b!=D;b=b.parentNode)if(b.parentNode==kb)return f.onGutterClick&&f.onGutterClick(cc,bb(kb.childNodes,b)+Sb,a),F(a);var d=Xd(a);switch(J(a)){case 3:O&&!c&&Yd(a);return;case 2:d&&_c(d.line,d.ch,!0);return}if(!d){I(a)==gb&&F(a);return}yb||rc();var e=+(new Date);if(Cb&&Cb.time>e-400&&X(Cb.pos,d))return F(a),setTimeout(Mc,20),id(d.line);if(Bb&&Bb.time>e-400&&X(Bb.pos,d))return Cb={time:e,pos:d},F(a),hd(d);Bb={time:e,pos:d};var g=d,h;if(N&&!f.readOnly&&!X(zb.from,zb.to)&&!Y(d,zb.from)&&!Y(zb.to,d)){Q&&(lb.draggable=!0);var i=L(z,"mouseup",je(function(b){Q&&(lb.draggable=!1),Fb=!1,i(),Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)<10&&(F(b),_c(d.line,d.ch,!0),Mc())}),!0);Fb=!0;return}F(a),_c(d.line,d.ch,!0);var j=a.clientY,k,m=L(z,"mousemove",je(function(a){clearTimeout(h),F(a),l(a)}),!0),i=L(z,"mouseup",je(function(a){clearTimeout(h);var b=Xd(a);b&&Yc(d,b),F(a),Mc(),Ib=!0,m(),i()}),!0)}function jc(a){for(var b=I(a);b!=D;b=b.parentNode){if(b.parentNode==kb)return F(a);if(b.getAttribute(A))return}var c=Xd(a);if(!c)return;Cb={time:+(new Date),pos:c},F(a),hd(c)}function kc(a){a.preventDefault();var b=Xd(a,!0),c=a.dataTransfer.files;if(!b||f.readOnly)return;if(c&&c.length&&window.FileReader&&window.File){function d(a,c){var d=new FileReader;d.onload=function(){g[c]=d.result,++h==e&&(b=bd(b),je(function(){var a=Bc(g.join(""),b,b);Yc(b,a)})())},d.readAsText(a)}var e=c.length,g=Array(e),h=0;for(var i=0;i<e;++i)d(c[i],i)}else try{var g=a.dataTransfer.getData("Text");if(g){var j=zb.from,k=zb.to;Yc(b,b),Fb&&Bc("",j,k),Cc(g),Mc()}}catch(a){}}function lc(a){var b=Fc();_(b),a.dataTransfer.setDragImage($,0,0),a.dataTransfer.setData("Text",b)}function mc(a){function g(){return c.call?c.call(null,cc):c}var b=fb[K(a,"keyCode")],c=i[f.keyMap].auto,d,e;if(b==null||a.altGraphKey)return c&&(f.keyMap=g()),null;K(a,"altKey")&&(b="Alt-"+b),K(a,"ctrlKey")&&(b="Ctrl-"+b),K(a,"metaKey")&&(b="Cmd-"+b),K(a,"shiftKey")&&(d=j("Shift-"+b,f.extraKeys,f.keyMap))?e=!0:d=j(b,f.extraKeys,f.keyMap),typeof d=="string"&&(h.propertyIsEnumerable(d)?d=h[d]:d=null),c&&(d||!k(a))&&(f.keyMap=g());if(!d)return!1;var l=Ab;try{f.readOnly&&(Hb=!0),e&&(Ab=null),d(cc)}finally{Ab=l,Hb=!1}return F(a),!0}function oc(a){yb||rc(),P&&a.keyCode==27&&(a.returnValue=!1);if(f.onKeyEvent&&f.onKeyEvent(cc,E(a)))return;var b=K(a,"keyCode");Xc(b==16||K(a,"shiftKey"));var d=mc(a);window.opera&&(nc=d?b:null,!d&&b==88&&K(a,c?"metaKey":"ctrlKey")&&Cc(""))}function pc(a){if(f.onKeyEvent&&f.onKeyEvent(cc,E(a)))return;var b=K(a,"keyCode"),c=K(a,"charCode");if(window.opera&&b==nc){nc=null,F(a);return}if(window.opera&&!a.which&&mc(a))return;if(f.electricChars&&vb.electricChars&&f.smartIndent&&!f.readOnly){var d=String.fromCharCode(c==null?b:c);vb.electricChars.indexOf(d)>-1&&setTimeout(je(function(){kd(zb.to.line,"smart")}),75)}Ic()}function qc(a){if(f.onKeyEvent&&f.onKeyEvent(cc,E(a)))return;K(a,"keyCode")==16&&(Ab=null)}function rc(){if(f.readOnly=="nocursor")return;yb||(f.onFocus&&f.onFocus(cc),yb=!0,D.className.search(/\bCodeMirror-focused\b/)==-1&&(D.className+=" CodeMirror-focused"),Nb||Lc(!0)),Hc(),Zd()}function sc(){yb&&(f.onBlur&&f.onBlur(cc),yb=!1,Vb&&je(function(){Vb&&(Vb(),Vb=null)})(),D.className=D.className.replace(" CodeMirror-focused","")),clearInterval(ub),setTimeout(function(){yb||(Ab=null)},150)}function tc(a){return a>0&&
a<1?a=1:a>-1&&a<0?a=-1:a=Math.round(a),a}function uc(a){var b=0,c=0;a.type==="DOMMouseScroll"?a.axis===a.HORIZONTAL_AXIS?b=-a.detail*8:a.axis===a.VERTICAL_AXIS&&(c=-a.detail*8):a.wheelDeltaX!==undefined&&a.wheelDeltaY!==undefined?(b=a.wheelDeltaX/3,c=a.wheelDeltaY/3):a.wheelDelta!==undefined&&(c=a.wheelDelta/3);var d=!1;b=tc(b),c=tc(c);if(b>0&&gb.scrollLeft>0||b<0&&gb.scrollLeft+gb.clientWidth<gb.scrollWidth)gb.scrollLeft-=b,d=!0;if(c>0&&S.scrollTop>0||c<0&&S.scrollTop+S.clientHeight<S.scrollHeight)S.scrollTop-=c,d=!0;d&&H(a)}function vc(a,b,c,d,e){if(Hb)return;if(_b){var g=[];wb.iter(a.line,b.line+1,function(a){g.push(a.text)}),_b.addChange(a.line,c.length,g);while(_b.done.length>f.undoDepth)_b.done.shift()}zc(a,b,c,d,e)}function wc(a,b,c){var d=a.pop(),e=d?d.length:0,f=[];for(var g=c>0?0:e-1,h=c>0?e:-1;g!=h;g+=c){var i=d[g],j=[],k=i.start+i.added;wb.iter(i.start,k,function(a){j.push(a.text)}),f.push({start:i.start,added:i.old.length,old:j});var l=bd({line:i.start+i.old.length-1,ch:ab(j[j.length-1],i.old[i.old.length-1])});zc({line:i.start,ch:0},{line:k-1,ch:dc(k-1).text.length},i.old,l,l)}Ib=!0,b.push(f)}function xc(){wc(_b.done,_b.undone,-1)}function yc(){wc(_b.undone,_b.done,1)}function zc(a,b,c,d,e){function y(a){return a<=Math.min(b.line,b.line+s)?a:a+s}if(Hb)return;var g=!1,h=Wb.length;f.lineWrapping||wb.iter(a.line,b.line,function(a){if(a.text.length==h)return g=!0,!0});if(a.line!=b.line||c.length>1)Ob=!0;var i=b.line-a.line,j=dc(a.line),k=dc(b.line);if(a.ch==0&&b.ch==0&&c[c.length-1]==""){var l=[],m=null;a.line?(m=dc(a.line-1),m.fixMarkEnds(k)):k.fixMarkStarts();for(var n=0,o=c.length-1;n<o;++n)l.push(q.inheritMarks(c[n],m));i&&wb.remove(a.line,i,Pb),l.length&&wb.insert(a.line,l)}else if(j==k)if(c.length==1)j.replace(a.ch,b.ch,c[0]);else{k=j.split(b.ch,c[c.length-1]),j.replace(a.ch,null,c[0]),j.fixMarkEnds(k);var l=[];for(var n=1,o=c.length-1;n<o;++n)l.push(q.inheritMarks(c[n],j));l.push(k),wb.insert(a.line+1,l)}else if(c.length==1)j.replace(a.ch,null,c[0]),k.replace(null,b.ch,""),j.append(k),wb.remove(a.line+1,i,Pb);else{var l=[];j.replace(a.ch,null,c[0]),k.replace(null,b.ch,c[c.length-1]),j.fixMarkEnds(k);for(var n=1,o=c.length-1;n<o;++n)l.push(q.inheritMarks(c[n],j));i>1&&wb.remove(a.line+1,i-1,Pb),wb.insert(a.line+1,l)}if(f.lineWrapping){var p=gb.clientWidth/Ud()-3;wb.iter(a.line,a.line+c.length,function(a){if(a.hidden)return;var b=Math.ceil(a.text.length/p)||1;b!=a.height&&ec(a,b)})}else wb.iter(a.line,n+c.length,function(a){var b=a.text;b.length>h&&(Wb=b,h=b.length,Xb=null,g=!1)}),g&&(h=0,Wb="",Xb=null,wb.iter(0,wb.size,function(a){var b=a.text;b.length>h&&(h=b.length,Wb=b)}));var r=[],s=c.length-i-1;for(var n=0,t=xb.length;n<t;++n){var u=xb[n];u<a.line?r.push(u):u>b.line&&r.push(u+s)}var v=a.line+Math.min(c.length,500);ce(a.line,v),r.push(v),xb=r,ee(100),Kb.push({from:a.line,to:b.line+1,diff:s});var w={from:a,to:b,text:c};if(Lb){for(var x=Lb;x.next;x=x.next);x.next=w}else Lb=w;Zc(d,e,y(zb.from.line),y(zb.to.line)),Ac()}function Ac(){var a=Rd(),b=gb.clientHeight,c=Qc(!0);S.style.display=c>b?"block":"none",S.style.height=b+"px",gb.clientHeight&&(T.style.height=c+"px"),ib.style.top=Rb-S.scrollTop+"px"}function Bc(a,b,c){function d(d){if(Y(d,b))return d;if(!Y(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,g=d.ch;return d.line==c.line&&(g+=a[a.length-1].length-(c.ch-(c.line==b.line?b.ch:0))),{line:f,ch:g}}b=bd(b),c?c=bd(c):c=b,a=db(a);var e;return Dc(a,b,c,function(a){return e=a,{from:d(zb.from),to:d(zb.to)}}),e}function Cc(a,b){Dc(db(a),zb.from,zb.to,function(a){return b=="end"?{from:a,to:a}:b=="start"?{from:zb.from,to:zb.from}:{from:zb.from,to:a}})}function Dc(a,b,c,d){var e=a.length==1?a[0].length+b.ch:a[a.length-1].length,f=d({line:b.line+a.length-1,ch:e});vc(b,c,a,f.from,f.to)}function Ec(a,b){var c=a.line,d=b.line;if(c==d)return dc(c).text.slice(a.ch,b.ch);var e=[dc(c).text.slice(a.ch)];return wb.iter(c+1,d,function(a){e.push(a.text)}),e.push(dc(d).text.slice(0,b.ch)),e.join("\n")}function Fc(){return Ec(zb.from,zb.to)}function Hc(){if(Gc)return;sb.set(f.pollInterval,function(){fe(),Kc(),yb&&Hc(),ge()})}function Ic(){function b(){fe();var c=Kc();!c&&!a?(a=!0,sb.set(60,b)):(Gc=!1,Hc()),ge()}var a=!1;Gc=!0,sb.set(20,b)}function Kc(){if(Nb||!yb||eb(R)||f.readOnly)return!1;var a=R.value;if(a==Jc)return!1;Ab=null;var b=0,c=Math.min(Jc.length,a.length);while(b<c&&Jc[b]==a[b])++b;return b<Jc.length?zb.from={line:zb.from.line,ch:zb.from.ch-(Jc.length-b)}:Gb&&X(zb.from,zb.to)&&(zb.to={line:zb.to.line,ch:Math.min(dc(zb.to.line).text.length,zb.to.ch+(a.length-b))}),Cc(a.slice(b),"end"),Jc=a,!0}function Lc(a){X(zb.from,zb.to)?a&&(Jc=R.value=""):(Jc="",R.value=Fc(),W(R))}function Mc(){f.readOnly!="nocursor"&&R.focus()}function Nc(){if(!nb.getBoundingClientRect)return;var a=nb.getBoundingClientRect();if(P&&a.top==a.bottom)return;var b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(a.top<0||a.bottom>b)&&Oc()}function Oc(){var a=Ld(zb.inverted?zb.from:zb.to),b=f.lineWrapping?Math.min(a.x,lb.offsetWidth):a.x;return Pc(b,a.y,b,a.yBot)}function Pc(a,b,c,d){var e=Wd(),g=Vd(),h=Rd();b+=g,d+=g,a+=e,c+=e;var i=gb.clientHeight,j=S.scrollTop,k=!1,l=!0;b<j?(S.scrollTop=Math.max(0,b-2*h),k=!0):d>j+i&&(S.scrollTop=d+h-i,k=!0);var m=gb.clientWidth,n=gb.scrollLeft,o=f.fixedGutter?jb.clientWidth:0;return a<n+o?(a<50&&(a=0),gb.scrollLeft=Math.max(0,a-10-o),k=!0):c>m+n-3&&(gb.scrollLeft=c+10-m,k=!0,c>hb.clientWidth&&(l=!1)),k&&hc(),l}function Qc(a){var b=0;for(var c=0;c<Yb.length;c++)b+=Yb[c].height;var d=wb.height*Rd()+b;return a&&(d+=2*Vd()),d}function Rc(){var a=-ib.offsetTop-Vd();return{from:Md(0,a).line,to:Md(0,a+gb.clientHeight).line}}function Sc(a,b){if(!gb.clientWidth){Sb=Tb=Rb=0;return}var c=Rc();if(a!==!0&&a.length==0&&c.from>Sb&&c.to<Tb){Ac();return}var d=Math.max(c.from-20,0),e=Math.min(wb.size,c.to+20);Sb<d&&d-Sb<20&&(d=Sb),Tb>e&&Tb-e<20&&(e=Math.min(wb.size,Tb));var g=a===!0?[]:Tc([{from:Sb,to:Tb,domStart:0}],a),h=0;for(var i=0;i<g.length;++i){var j=g[i];j.from<d&&(j.domStart+=d-j.from,j.from=d),j.to>e&&(j.to=e),j.from>=j.to?g.splice(i--,1):h+=j.to-j.from}if(h==e-d){Ac();return}g.sort(function(a,b){return a.domStart-b.domStart});var k=Rd(),l=jb.style.display;pb.style.display="none",Uc(d,e,g),pb.style.display=jb.style.display="";var m=d!=Sb||e!=Tb||Ub!=gb.clientHeight+k;m&&(Ub=gb.clientHeight+k),Sb=d,Tb=e,Rb=Ld({line:d,ch:0}).y,Ac();if(f.lineWrapping){Xb=gb.clientWidth;var n=pb.firstChild,o=!1;wb.iter(Sb,Tb,function(a){if(!a.hidden){var b=Math.round(n.offsetHeight/k)||1;a.height!=b&&(ec(a,b),Ob=o=!0)}n=n.nextSibling,yd(n)&&(n=n.nextSibling)}),o&&(hb.style.height=wb.height*k+2*Vd()+"px")}else Xb==null&&(Xb=Hd(Wb)),Xb>gb.clientWidth?(lb.style.width=Xb+"px",hb.style.width="",hb.style.width=gb.scrollWidth+"px"):lb.style.width=hb.style.width="";jb.style.display=l,(m||Ob)&&Vc(),Wc();var p=[],q=0;for(i=0;i<Yb.length;i++){var r=Yb[i],s,t;r.exists()?(s=r.getLineNumber(),t=r.node,s>=d&&s<e?(t.style.position="absolute",t.style.zIndex=10,t.style.top=Vd()+Ld({line:s,ch:r.getLine().text.length-1},!0).yBot+"px",t.style.minWidth="100%",r.show(ib),q++):r.hide()):p.push(r)}for(i=0;i<p.length;i++)vd(p[i].id,!0);if(pb.childNodes.length-q!=Tb-Sb)throw new Error("BAD PATCH! "+JSON.stringify(g)+" size="+(Tb-Sb)+" nodes="+pb.childNodes.length);return!b&&f.onUpdate&&f.onUpdate(cc),!0}function Tc(a,b){for(var c=0,d=b.length||0;c<d;++c){var e=b[c],f=[],g=e.diff||0;for(var h=0,i=a.length;h<i;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g,domStart:j.domStart}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from,domStart:j.domStart}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g,domStart:j.domStart+(e.to-j.from)}))}a=f}return a}function Uc(a,b,c){if(!c.length)pb.innerHTML="";else{function d(a){var b=a.nextSibling;return a.parentNode.removeChild(a),b}var e=0,f=pb.firstChild,g;for(var h=0;h<c.length;++h){var i=c[h];while(i.domStart>e)f=d(f),yd(f)&&(f=d(f)),e++;for(var j=0,k=i.to-i.from;j<k;++j)f=f.nextSibling,yd(f)&&(f=f.nextSibling),e++}while(f)f=d(f)}var l=c.shift(),f=pb.firstChild,j=a,m=z.createElement("div"),n,o=null;wb.iter(a,b,function(a){l&&l.to==j&&(l=c.shift());if(!l||l.from>j){if(a.hidden)var b=m.innerHTML="<pre></pre>";else{var b="<pre>"+a.getHTML(od)+"</pre>";a.className&&(b='<div style="position: relative"><pre class="'+a.className+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+b+"</div>")}m.innerHTML=b,o||(o=z.createDocumentFragment()),o.appendChild(m.firstChild),inline=Ad(a),inline&&o.appendChild(inline.createPlaceholder(z))}else o&&(pb.insertBefore(o,f),o=null),f=f.nextSibling,yd(f)&&(f=f.nextSibling);++j}),o&&pb.insertBefore(o,f)}function Vc(){if(!f.gutter&&!f.lineNumbers)return;var a=ib.offsetHeight,b=gb.clientHeight;jb.style.height=(a-b<2?b:a)+"px";var c=[],d=Sb;wb.iter(Sb,Math.max(Tb,Sb+1),function(a){if(a.hidden)c.push("<pre></pre>");else{var b=a.gutterMarker,e=f.lineNumbers?d+f.firstLineNumber:null;b&&b.text?e=b.text.replace("%N%",e!=null?e:""):e==null&&(e=" "),c.push(b&&b.style?'<pre class="'+b.style+'">':"<pre>",e);for(var g=1;g<a.height;++g)c.push("<br/>&#160;");c.push("</pre>");var h=Ad(a);h&&c.push(h.createPlaceholderHTML(z))}++d}),jb.style.display="none",kb.innerHTML=c.join("");var e=kb.firstChild;while(e&&e.childNodes.length==0)e=e.nextSibling;if(e){var g=String(wb.size).length,h=V(e),i="";while(h.length+i.length<g)i+=" ";i&&e.insertBefore(z.createTextNode(i),e.firstChild)}jb.style.display="",lb.style.marginLeft=jb.offsetWidth+"px",Ob=!1}function Wc(){var a=X(zb.from,zb.to),b=Ld(zb.from,!0),c=a?b:Ld(zb.to,!0),d=zb.inverted?b:c,e=Rd(),g=U(D),h=U(pb);G.style.top=Math.max(0,Math.min(gb.offsetHeight,d.y+h.top-g.top))+"px",G.style.left=Math.max(0,Math.min(gb.offsetWidth,d.x+h.left-g.left))+"px";if(a)nb.style.top=d.y+"px",nb.style.left=(f.lineWrapping?Math.min(d.x,lb.offsetWidth):d.x)+"px",nb.style.display="",ob.style.display="none";else{var i=b.y==c.y,j="";function k(a,b,c,d){j+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+b+"px; right: "+c+"px; height: "+d+'px"></div>'}if(zb.from.ch&&b.y>=0){var l=i?lb.clientWidth-c.x:0;k(b.x,b.y,l,e)}var m=Math.max(0,b.y+(zb.from.ch?e:0)),n=Math.min(c.y,lb.clientHeight)-m;n>.2*e&&k(0,m,0,n),(!i||!zb.from.ch)&&c.y<lb.clientHeight-.5*e&&k(0,c.y,lb.clientWidth-c.x,e),ob.innerHTML=j,nb.style.display="none",ob.style.display=""}}function Xc(a){a?Ab=Ab||(zb.inverted?zb.to:zb.from):Ab=null}function Yc(a,b){var c=Ab&&bd(Ab);c&&(Y(c,a)?a=c:Y(b,c)&&(b=c)),Zc(a,b),Jb=!0}function Zc(a,b,c,d){fd=null,c==null&&(c=zb.from.line,d=zb.to.line);if(X(zb.from,a)&&X(zb.to,b))return;if(Y(b,a)){var e=b;b=a,a=e}a.line!=c&&(a=$c(a,c,zb.from.ch)),b.line!=d&&(b=$c(b,d,zb.to.ch)),X(a,b)?zb.inverted=!1:X(a,zb.to)?zb.inverted=!1:X(b,zb.from)&&(zb.inverted=!0),zb.from=a,zb.to=b,Mb=!0}function $c(a,b,c){function d(b){var d=a.line+b,e=b==1?wb.size:-1;while(d!=e){var f=dc(d);if(!f.hidden){var g=a.ch;if(g>c||g>f.text.length)g=f.text.length;return{line:d,ch:g}}d+=b}}var e=dc(a.line);return e.hidden?a.line>=b?d(1)||d(-1):d(-1)||d(1):a}function _c(a,b,c){var d=bd({line:a,ch:b||0});(c?Yc:Zc)(d,d)}function ad(a){return Math.max(0,Math.min(a,wb.size-1))}function bd(a){if(a.line<0)return{line:0,ch:0};if(a.line>=wb.size)return{line:wb.size-1,ch:dc(wb.size-1).text.length};var b=a.ch,c=dc(a.line).text.length;return b==null||b>c?{line:a.line,ch:c}:b<0?{line:a.line,ch:0}:a}function cd(a,b){function g(){for(var b=d+a,c=a<0?-1:wb.size;b!=c;b+=a){var e=dc(b);if(!e.hidden)return d=b,f=e,!0}}function h(b){if(e==(a<0?0:f.text.length)){if(!!b||!g())return!1;e=a<0?f.text.length:0}else e+=a;return!0}var c=zb.inverted?zb.from:zb.to,d=c.line,e=c.ch,f=dc(d);if(b=="char")h();else if(b=="column")h(!0);else if(b=="word"){var i=!1;for(;;){if(a<0&&!h())break;if(cb(f.text.charAt(e)))i=!0;else if(i){a<0&&(a=1,h());break}if(a>0&&!h())break}}return{line:d,ch:e}}function dd(a,b){var c=a<0?zb.from:zb.to;if(Ab||X(zb.from,zb.to))c=cd(a,b);_c(c.line,c.ch,!0)}function ed(a,b){X(zb.from,zb.to)?a<0?Bc("",cd(a,b),zb.to):Bc("",zb.from,cd(a,b)):Bc("",zb.from,zb.to),Jb=!0}function gd(a,b){var c=0,d=Ld(zb.inverted?zb.from:zb.to,!0);fd!=null&&(d.x=fd),b=="page"?c=Math.min(gb.clientHeight,window.innerHeight||document.documentElement.clientHeight):b=="line"&&(c=Rd());var e=Md(d.x,d.y+c*a+2,a);_c(e.line,e.ch,!0),fd=d.x}function hd(a){var b=dc(a.line).text,c=a.ch,d=a.ch;while(c>0&&cb(b.charAt(c-1)))--c;while(d<b.length&&cb(b.charAt(d)))++d;Yc({line:a.line,ch:c},{line:a.line,ch:d})}function id(a){Yc({line:a,ch:0},bd({line:a+1,ch:0}))}function jd(a){if(X(zb.from,zb.to))return kd(zb.from.line,a);var b=zb.to.line-(zb.to.ch?0:1);for(var c=zb.from.line;c<=b;++c)kd(c,a)}function kd(a,b){b||(b="add");if(b=="smart")if(!vb.indent)b="prev";else var c=be(a);var d=dc(a),e=d.indentation(f.tabSize),g=d.text.match(/^\s*/)[0],h;b=="prev"?a?h=dc(a-1).indentation(f.tabSize):h=0:b=="smart"?h=vb.indent(c,d.text.slice(g.length),d.text):b=="add"?h=e+f.indentUnit:b=="subtract"&&(h=e-f.indentUnit),h=Math.max(0,h);var i=h-e;if(!i){if(zb.from.line!=a&&zb.to.line!=a)return;var j=g}else{var j="",k=0;if(f.indentWithTabs)for(var l=Math.floor(h/f.tabSize);l;--l)k+=f.tabSize,j+="	";while(k<h)++k,j+=" "}Bc(j,{line:a,ch:0},{line:a,ch:g.length})}function ld(){vb=a.getMode(f,f.mode),wb.iter(0,wb.size,function(a){a.stateAfter=null}),xb=[0],ee()}function md(){var a=f.gutter||f.lineNumbers;jb.style.display=a?"":"none",a?Ob=!0:pb.parentNode.style.marginLeft=0}function nd(a,b){if(f.lineWrapping){D.className+=" CodeMirror-wrap";var c=gb.clientWidth/Ud()-3;wb.iter(0,wb.size,function(a){if(a.hidden)return;var b=Math.ceil(a.text.length/c)||1;b!=1&&ec(a,b)}),lb.style.width=hb.style.width=""}else D.className=D.className.replace(" CodeMirror-wrap",""),Xb=null,Wb="",wb.iter(0,wb.size,function(a){a.height!=1&&!a.hidden&&ec(a,1),a.text.length>Wb.length&&(Wb=a.text)});Kb.push({from:0,to:wb.size})}function od(a){var b=f.tabSize-a%f.tabSize;for(var c='<span class="cm-tab">',d=0;d<b;++d)c+=" ";return{html:c+"</span>",width:b}}function pd(){gb.className=gb.className.replace(/\s*cm-s-\w+/g,"")+f.theme.replace(/(^|\s)\s*/g," cm-s-")}function qd(){this.set=[]}function rd(a,b,c){function e(a,b,c,e){dc(a).addMark(new o(b,c,e,d.set))}a=bd(a),b=bd(b);var d=new qd;if(a.line==b.line)e(a.line,a.ch,b.ch,c);else{e(a.line,a.ch,null,c);for(var f=a.line+1,g=b.line;f<g;++f)e(f,null,null,c);e(b.line,null,b.ch,c)}return Kb.push({from:a.line,to:b.line+1}),d}function sd(a){a=bd(a);var b=new p(a.ch);return dc(a.line).addMark(b),b}function td(a,b,c,d){var e;for(e=0;e<Yb.length;e++)if(Yb[e].exists()){var f=Yb[e].getLineNumber();if(f==a.line){vd(Yb[e].id);break}if(f>a.line)break}var g=sd(a);if(!$b){$b=z.createElement("style"),$b.type="text/css";var h=z.getElementsByTagName("head")[0]||z.documentElement;h.appendChild($b)}var i=new C(Zb++,g,b,$b.sheet,d);for(e=0;e<Yb.length;e++)if(Yb[e].exists()&&Yb[e].getLineNumber()>a.line)break;return Yb.splice(e,0,i),c&&i.setHeight(c),Ob=!0,Sc(!0),ud(i),i.id}function ud(a){var b=a.node.offsetTop+Rb-Vd();Pc(0,b,0,b+a.height)}function vd(a,b){for(var c=0;c<Yb.length;c++)if(Yb[c].id==a)break;if(c<Yb.length){var d=Yb[c];Yb.splice(c,1),d.destroy(),Ob=!0,b||Sc(!0),Yb.length==0&&($b.parentNode.removeChild($b),$b=null)}}function wd(a,b,c){var d=zd(a);d&&(d.setHeight(b),Ob=!0,Sc(!0),c&&ud(d))}function xd(a){var b=zd(a);if(b)return{node:b.node,height:b.height,line:b.getLineNumber()}}function yd(a){return a&&a.getAttribute(B)}function zd(a){for(var b=0;b<Yb.length;b++)if(Yb[b].exists()&&Yb[b].id==a)return Yb[b];return null}function Ad(a){var b=v(a);for(var c=0;c<Yb.length;c++)if(Yb[c].exists()){if(Yb[c].getLine()==a)return Yb[c];if(Yb[c].getLineNumber()>b)break}return null}function Bd(a,b,c){return typeof a=="number"&&(a=dc(ad(a))),a.gutterMarker={text:b,style:c},Ob=!0,a}function Cd(a){typeof a=="number"&&(a=dc(ad(a))),a.gutterMarker=null,Ob=!0}function Dd(a,b){var c=a,d=a;return typeof a=="number"?d=dc(ad(a)):c=v(a),c==null?null:b(d,c)?(Kb.push({from:c,to:c+1}),d):null}function Ed(a,b){return Dd(a,function(a){if(a.className!=b)return a.className=b,!0})}function Fd(a,b){return Dd(a,function(a,c){if(a.hidden!=b){a.hidden=b,ec(a,b?0:1);var d=zb.from.line,e=zb.to.line;if(b&&(d==c||e==c)){var f=d==c?$c({line:d,ch:0},d,0):zb.from,g=e==c?$c({line:e,ch:0},e,0):zb.to;Zc(f,g)}return Ob=!0}})}function Gd(a){if(typeof a=="number"){if(!bc(a))return null;var b=a;a=dc(a);if(!a)return null}else{var b=v(a);if(b==null)return null}var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className}}function Hd(a){return mb.innerHTML="<pre><span>x</span></pre>",mb.firstChild.firstChild.firstChild.nodeValue=a,mb.firstChild.firstChild.offsetWidth||10}function Id(a,b){function e(a){return mb.innerHTML="<pre><span>"+c.getHTML(od,a)+"</span></pre>",mb.firstChild.firstChild.offsetWidth}if(b<=0)return 0;var c=dc(a),d=c.text,f=0,g=0,h=d.length,i,j=Math.min(h,Math.ceil(b/Ud()));for(;;){var k=e(j);if(!(k<=b&&j<h)){i=k,h=j;break}j=Math.min(h,Math.ceil(j*1.2))}if(b>i)return h;j=Math.floor(h*.8),k=e(j),k<b&&(f=j,g=k);for(;;){if(h-f<=1)return i-b>b-g?f:h;var l=Math.ceil((f+h)/2),m=e(l);m>b?(h=l,i=m):(f=l,g=m)}}function Kd(a,b){if(b==0)return{top:0,left:0};var c="";if(f.lineWrapping){var d=a.text.indexOf(" ",b+2);c=_(a.text.slice(b+1,d<0?a.text.length:d+(P?5:0)))}mb.innerHTML="<pre>"+a.getHTML(od,b)+'<span id="CodeMirror-temp-'+Jd+'">'+_(a.text.charAt(b)||" ")+"</span>"+c+"</pre>";var e=document.getElementById("CodeMirror-temp-"+Jd),g=e.offsetTop,h=e.offsetLeft;if(P&&g==0&&h==0){var i=document.createElement("span");i.innerHTML="x",e.parentNode.insertBefore(i,e.nextSibling),g=i.offsetTop}return{top:g,left:h}}function Ld(a,b){var c,d=Rd(),e=d*x(wb,a.line)-(b?S.scrollTop+ib.offsetTop:0);for(var g=0;g<Yb.length;g++){var h=Yb[g];if(h.exists()){if(!(h.getLineNumber()<a.line))break;e+=h.height}}if(a.ch==0)c=0;else{var i=Kd(dc(a.line),a.ch);c=i.left,f.lineWrapping&&(e+=Math.max(0,i.top))}return{x:c,y:e,yBot:e+d}}function Md(a,b,c){function q(a){var b=Kd(m,a);if(o){var c=Math.round(b.top/d);return Math.max(0,b.left+(c-p)*gb.clientWidth)}return b.left}b+=S.scrollTop+ib.offsetTop,b<0&&(b=0);var d=Rd(),e,g=0,h;for(var i=0;i<Yb.length;i++){var j=Yb[i];if(j.exists()){e=g+d*x(wb,j.getLineNumber()+1);if(e>b)break;if(e+j.height>b){b=e,c&&c<0&&(b-=d);break}g+=j.height}}b-=g;var k=Ud(),h=Math.floor(b/d),l=w(wb,h);if(l>=wb.size)return{line:wb.size-1,ch:dc(wb.size-1).text.length};var m=dc(l),n=m.text,o=f.lineWrapping,p=o?h-x(wb,l):0;if(a<=0&&p==0)return{line:l,ch:0};var r=0,s=0,t=n.length,u,v=Math.min(t,Math.ceil((a+p*gb.clientWidth*.9)/k));for(;;){var y=q(v);if(!(y<=a&&v<t)){u=y,t=v;break}v=Math.min(t,Math.ceil(v*1.2))}if(a>u)return{line:l,ch:t};v=Math.floor(t*.8),y=q(v),y<a&&(r=v,s=y);for(;;){if(t-r<=1)return{line:l,ch:u-a>a-s?r:t};var z=Math.ceil((r+t)/2),A=q(z);A>a?(t=z,u=A):(r=z,s=A)}}function Nd(a){var b=Ld(a,!0),c=U(lb);return{x:c.left+b.x,y:c.top+b.y,yBot:c.top+b.yBot}}function Rd(){if(Qd==null){Qd="<pre>";for(var a=0;a<49;++a)Qd+="x<br/>";Qd+="x</pre>"}var b=pb.clientHeight;return b==Pd?Od:(Pd=b,mb.innerHTML=Qd,Od=mb.firstChild.offsetHeight/50||1,mb.innerHTML="",Od)}function Ud(){return gb.clientWidth==Td?Sd:(Td=gb.clientWidth,Sd=Hd("x"))}function Vd(){return lb.offsetTop}function Wd(){return lb.offsetLeft}function Xd(a,b,c){var d=U(gb,!0),e,f;try{e=a.clientX,f=a.clientY}catch(a){return null}if(!b&&(e-d.left>gb.clientWidth||f-d.top>gb.clientHeight))return null;var g=U(lb,!0);return Md(e-g.left,f-g.top,c)}function Yd(a){function e(){var a=db(R.value).join("\n");a!=d&&je(Cc)(a,"end"),G.style.position="relative",R.style.cssText=c,Nb=!1,Lc(!0),Hc()}var b=Xd(a);if(!b||window.opera)return;(X(zb.from,zb.to)||Y(b,zb.from)||!Y(b,zb.to))&&je(_c)(b.line,b.ch);var c=R.style.cssText;G.style.position="absolute",R.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Nb=!0;var d=R.value=Fc();Mc(),W(R);if(O){H(a);var f=L(window,"mouseup",function(){f(),setTimeout(e,20)},!0)}else setTimeout(e,50)}function Zd(){clearInterval(ub);var a=!0;nb.style.visibility="",ub=setInterval(function(){nb.style.visibility=(a=!a)?"":"hidden"},650)}function _d(a){function p(a,b,c){if(!a.text)return;var d=a.styles,e=g?0:a.text.length-1,f;for(var i=g?0:d.length-2,j=g?d.length:-2;i!=j;i+=2*h){var k=d[i];if(d[i+1]!=null&&d[i+1]!=m){e+=h*k.length;continue}for(var l=g?0:k.length-1,p=g?k.length:-1;l!=p;l+=h,e+=h)if(e>=b&&e<c&&o.test(f=k.charAt(l))){var q=$d[f];if(q.charAt(1)==">"==g)n.push(f);else{if(n.pop()!=q.charAt(0))return{pos:e,match:!1};if(!n.length)return{pos:e,match:!0}}}}}var b=zb.inverted?zb.from:zb.to,c=dc(b.line),d=b.ch-1,e=d>=0&&$d[c.text.charAt(d)]||$d[c.text.charAt(++d)];if(!e)return;var f=e.charAt(0),g=e.charAt(1)==">",h=g?1:-1,i=c.styles;for(var j=d+1,k=0,l=i.length;k<l;k+=2)if((j-=i[k].length)<=0){var m=i[k+1];break}var n=[c.text.charAt(d)],o=/[(){}[\]]/;for(var k=b.line,l=g?Math.min(k+100,wb.size):Math.max(-1,k-100);k!=l;k+=h){var c=dc(k),q=k==b.line,r=p(c,q&&g?d+1:0,q&&!g?d:c.text.length);if(r)break}r||(r={pos:null,match:!1});var m=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=rd({line:b.line,ch:d},{line:b.line,ch:d+1},m),t=r.pos!=null&&rd({line:k,ch:r.pos},{line:k,ch:r.pos+1},m),u=je(function(){s.clear(),t&&t.clear()});a?setTimeout(u,800):Vb=u}function ae(a){var b,c;for(var d=a,e=a-40;d>e;--d){if(d==0)return 0;var g=dc(d-1);if(g.stateAfter)return d;var h=g.indentation(f.tabSize);if(c==null||b>h)c=d-1,b=h}return c}function be(a){var b=ae(a),c=b&&dc(b-1).stateAfter;return c?c=l(vb,c):c=m(vb),wb.iter(b,a,function(a){a.highlight(vb,c,f.tabSize),a.stateAfter=l(vb,c)}),b<a&&Kb.push({from:b,to:a}),a<wb.size&&!dc(a).stateAfter&&xb.push(a),c}function ce(a,b){var c=be(a);wb.iter(a,b,function(a){a.highlight(vb,c,f.tabSize),a.stateAfter=l(vb,c)})}function de(){var a=+(new Date)+f.workTime,b=xb.length;while(xb.length){if(!dc(Sb).stateAfter)var c=Sb;else var c=xb.pop();if(c>=wb.size)continue;var d=ae(c),e=d&&dc(d-1).stateAfter;e?e=l(vb,e):e=m(vb);var g=0,h=vb.compareStates,i=!1,j=d,k=!1;wb.iter(j,wb.size,function(b){var d=b.stateAfter;if(+(new Date)>a)return xb.push(j),ee(f.workDelay),i&&Kb.push({from:c,to:j+1}),k=!0;var m=b.highlight(vb,e,f.tabSize);m&&(i=!0),b.stateAfter=l(vb,e);if(h){if(d&&h(d,e))return!0}else if(m!==!1||!d)g=0;else if(++g>3&&(!vb.indent||vb.indent(d,"")==vb.indent(e,"")))return!0;++j});if(k)return;i&&Kb.push({from:c,to:j+1})}b&&f.onHighlightComplete&&f.onHighlightComplete(cc)}function ee(a){if(!xb.length)return;tb.set(a,je(de))}function fe(){Ib=Jb=Lb=null,Kb=[],Mb=!1,Qb=!1,Pb=[]}function ge(){var a=!1,b;Mb&&!Qb&&(a=!Oc()),Kb.length?b=Sc(Kb,!0):(Mb&&Wc(),Ob&&Vc()),a&&!Qb&&Oc(),Mb&&(Nc(),Zd()),yb&&!Nb&&(Ib===!0||Ib!==!1&&Mb)&&Lc(Jb),Mb&&f.matchBrackets&&setTimeout(je(function(){Vb&&(Vb(),Vb=null),X(zb.from,zb.to)&&_d(!1)}),20);var c=Lb,d=Pb;Mb&&f.onCursorActivity&&f.onCursorActivity(cc),c&&f.onChange&&cc&&f.onChange(cc,c);for(var e=0;e<d.length;++e)d[e](cc);b&&f.onUpdate&&f.onUpdate(cc)}function je(a){return function(){he++||fe();try{var b=a.apply(this,arguments)}finally{--he||ge()}return b}}var f={},n=a.defaults;for(var r in n)n.hasOwnProperty(r)&&(f[r]=(e&&e.hasOwnProperty(r)?e:n)[r]);var z=f.document,D=z.createElement("div");D.className="CodeMirror"+(f.lineWrapping?" CodeMirror-wrap":""),D.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',d.appendChild?d.appendChild(D):d(D);var G=D.firstChild,R=G.firstChild,S=G.nextSibling,T=S.firstChild,gb=D.lastChild,hb=gb.firstChild,ib=hb.firstChild,jb=ib.firstChild,kb=jb.firstChild,lb=jb.nextSibling.firstChild,mb=lb.firstChild,nb=mb.nextSibling,ob=nb.nextSibling,pb=ob.nextSibling;pd(),b&&(R.style.width="0px"),Q||(lb.draggable=!0),lb.style.outline="none",f.tabindex!=null&&(R.tabIndex=f.tabindex),!f.gutter&&!f.lineNumbers&&(jb.style.display="none");var qb=/Mac OS X 10\D([\d+])\D/.exec(navigator.userAgent);qb&&qb[1]&&Number(qb[1])>=7&&(S.offsetWidth<=1?S.className+=" cm-sb-overlap":S.className+=" cm-sb-nonoverlap"),/MSIE [1-8]\b/.test(navigator.userAgent)&&(S.className+=" cm-sb-ie",ob.style.display="inline");try{Hd("x")}catch(rb){throw rb.message.match(/runtime/i)&&(rb=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),rb}var sb=new M,tb=new M,ub,vb,wb=new t([new s([new q("")])]),xb,yb;ld();var zb={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Ab,Bb,Cb,Db=0,Eb=0,Fb,Gb=!1,Hb=!1,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb=0,Sb=0,Tb=0,Ub=0,Vb,Wb="",Xb,Yb=[],Zb=1,$b;je(function(){fc(f.value||""),Ib=!1})();var _b=new y;L(gb,"mousedown",je(ic)),L(gb,"dblclick",je(jc)),L(lb,"dragstart",lc),L(lb,"selectstart",F),O||L(gb,"contextmenu",Yd),L(gb,"scroll",hc),L(S,"scroll",hc),L(S,"mousedown",function(){setTimeout(Mc,0)}),L(window,"resize",function(){Sc(!0)}),L(R,"keyup",je(qc)),L(R,"input",Ic),L(R,"keydown",je(oc)),L(R,"keypress",je(pc)),L(R,"focus",rc),L(R,"blur",sc),L(gb,"dragenter",H),L(gb,"dragover",H),L(gb,"drop",je(kc)),L(gb,"paste",function(){Mc(),Ic()}),L(R,"paste",Ic),L(R,"cut",je(function(){f.readOnly||Cc("")})),L(gb,"mousewheel",uc),L(gb,"DOMMouseScroll",uc);var ac;try{ac=z.activeElement==R}catch(rb){}ac?setTimeout(rc,20):sc();var cc=D.CodeMirror={getValue:gc,setValue:je(fc),getSelection:Fc,replaceSelection:je(Cc),focus:function(){Mc(),rc(),Ic()},setOption:function(a,b){var c=f[a];f[a]=b,a=="mode"||a=="indentUnit"?ld():a=="readOnly"&&b=="nocursor"?(sc(),R.blur()):a=="readOnly"&&!b?Lc(!0):a=="theme"?pd():a=="lineWrapping"&&c!=b?je(nd)():a=="tabSize"&&Sc(!0);if(a=="lineNumbers"||a=="gutter"||a=="firstLineNumber"||a=="theme")md(),Sc(!0)},getOption:function(a){return f[a]},undo:je(xc),redo:je(yc),indentLine:je(function(a,b){typeof b!="string"&&(b==null?b=f.smartIndent?"smart":"prev":b=b?"add":"subtract"),bc(a)&&kd(a,b)}),indentSelection:je(jd),historySize:function(){return{undo:_b.done.length,redo:_b.undone.length}},clearHistory:function(){_b=new y},matchBrackets:je(function(){_d(!0)}),getTokenAt:je(function(a){return a=bd(a),dc(a.line).getTokenAt(vb,be(a.line),a.ch)}),getStateAfter:function(a){return a=ad(a==null?wb.size-1:a),be(a+1)},cursorCoords:function(a){return a==null&&(a=zb.inverted),Nd(a?zb.from:zb.to)},charCoords:function(a){return Nd(bd(a))},coordsChar:function(a){var b=U(lb);return Md(a.x-b.left,a.y-b.top)},markText:je(rd),setBookmark:sd,setMarker:je(Bd),clearMarker:je(Cd),setLineClass:je(Ed),hideLine:je(function(a){return Fd(a,!0)}),showLine:je(function(a){return Fd(a,!1)}),onDeleteLine:function(a,b){if(typeof a=="number"){if(!bc(a))return null;a=dc(a)}return(a.handlers||(a.handlers=[])).push(b),a},lineInfo:Gd,addWidget:function(a,b,c,d,e){a=Ld(bd(a));var f=a.yBot,g=a.x;b.style.position="absolute",hb.appendChild(b);if(d=="over")f=a.y;else if(d=="near"){var h=Math.max(gb.offsetHeight,Qc()),i=Math.max(hb.clientWidth,lb.clientWidth)-Wd();a.yBot+b.offsetHeight>h&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight),g+b.offsetWidth>i&&(g=i-b.offsetWidth)}b.style.top=f+Vd()+"px",b.style.left=b.style.right="",e=="right"?(g=hb.clientWidth-b.offsetWidth,b.style.right="0px"):(e=="left"?g=0:e=="middle"&&(g=(hb.clientWidth-b.offsetWidth)/2),b.style.left=g+Wd()+"px"),c&&Pc(g,f,g+b.offsetWidth,f+b.offsetHeight)},addInlineWidget:td,removeInlineWidget:vd,setInlineWidgetHeight:wd,getInlineWidgetInfo:xd,totalHeight:Qc,lineCount:function(){return wb.size},clipPos:bd,getCursor:function(a){return a==null&&(a=zb.inverted),Z(a?zb.from:zb.to)},somethingSelected:function(){return!X(zb.from,zb.to)},setCursor:je(function(a,b,c){b==null&&typeof a.line=="number"?_c(a.line,a.ch,c):_c(a,b,c)}),setSelection:je(function(a,b,c,d){d!=null&&(Qb=d),(c?Yc:Zc)(bd(a),bd(b||a))}),getLine:function(a){if(bc(a))return dc(a).text},getLineHandle:function(a){if(bc(a))return dc(a)},setLine:je(function(a,b){bc(a)&&Bc(b,{line:a,ch:0},{line:a,ch:dc(a).text.length})}),removeLine:je(function(a){bc(a)&&Bc("",{line:a,ch:0},bd({line:a+1,ch:0}))}),replaceRange:je(Bc),getRange:function(a,b){return Ec(bd(a),bd(b))},execCommand:function(a){return h[a](cc)},moveH:je(dd),deleteH:je(ed),moveV:je(gd),toggleOverwrite:function(){Gb?(Gb=!1,nb.className=nb.className.replace(" CodeMirror-overwrite","")):(Gb=!0,nb.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;return wb.iter(0,wb.size,function(d){var e=d.text.length+1;if(e>a)return c=a,!0;a-=e,++b}),bd({line:b,ch:c})},indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var b=a.ch;return wb.iter(0,a.line,function(a){b+=a.text.length+1}),b},scrollTo:function(a,b){a!=null&&(gb.scrollLeft=a),b!=null&&(S.scrollTop=b),Sc([])},operation:function(a){return je(a)()},refresh:function(){S.scrollHeight>Db&&(S.scrollTop=Db),Sc(!0)},getInputField:function(){return R},getWrapperElement:function(){return D},getScrollerElement:function(){return gb},getGutterElement:function(){return jb}},nc=null,Gc=!1,Jc="",fd=null;qd.prototype.clear=je(function(){var a=Infinity,b=-Infinity;for(var c=0,d=this.set.length;c<d;++c){var e=this.set[c],f=e.marked;if(!f||!e.parent)continue;var g=v(e);a=Math.min(a,g),b=Math.max(b,g);for(var h=0;h<f.length;++h)f[h].set==this.set&&f.splice(h--,1)}a!=Infinity&&Kb.push({from:a,to:b+1})}),qd.prototype.find=function(){var a,b;for(var c=0,d=this.set.length;c<d;++c){var e=this.set[c],f=e.marked;for(var g=0;g<f.length;++g){var h=f[g];if(h.set==this.set)if(h.from!=null||h.to!=null){var i=v(e);i!=null&&(h.from!=null&&(a={line:i,ch:h.from}),h.to!=null&&(b={line:i,ch:h.to}))}}}return{from:a,to:b}};var Jd=Math.floor(Math.random()*16777215).toString(16),Od,Pd,Qd,Sd,Td=0,$d={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},he=0;for(var ke in g)g.propertyIsEnumerable(ke)&&!cc.propertyIsEnumerable(ke)&&(cc[ke]=g[ke]);return cc}function j(a,b,c){function d(a,b,c){var e=b[a];if(e!=null)return e;c==null&&(c=b.fallthrough);if(c==null)return b.catchall;if(typeof c=="string")return d(a,i[c]);for(var f=0,g=c.length;f<g;++f){e=d(a,i[c[f]]);if(e!=null)return e}return null}return b?d(a,b,c):d(a,i[c])}function k(a){var b=fb[K(a,"keyCode")];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function l(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function m(a,b,c){return a.startState?a.startState(b,c):!0}function n(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8}function o(a,b,c,d){this.from=a,this.to=b,this.style=c,this.set=d}function p(a){this.from=a,this.to=a,this.line=null}function q(a,b){this.styles=b||[a,null],this.text=a,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function r(a,b,c,d){for(var e=0,f=0,g=0;f<b;e+=2){var h=c[e],i=f+h.length;g==0?(i>a&&d.push(h.slice(a-f,Math.min(h.length,b-f)),c[e+1]),i>=a&&(g=1)):g==1&&(i>b?d.push(h.slice(0,b-f),c[e+1]):d.push(h,c[e+1])),f=i}}function s(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function t(a){this.children=a;var b=0,c=0;for(var d=0,e=a.length;d<e;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function u(a,b){while(!a.lines)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(b<e){a=d;break}b-=e}return a.lines[b]}function v(a){if(a.parent==null)return null;var b=a.parent,c=bb(b.lines,a);for(var d=b.parent;d;b=d,d=d.parent)for(var e=0,f=d.children.length;;++e){if(d.children[e]==b)break;c+=d.children[e].chunkSize()}return c}function w(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],g=f.height;if(b<g){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;d<e;++d){var h=a.lines[d],i=h.height;if(b<i)break;b-=i}return c+d}function x(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],g=f.chunkSize
();if(b<g){a=f;continue a}b-=g,c+=f.height}return c}while(!a.lines);for(var d=0;d<b;++d)c+=a.lines[d].height;return c}function y(){this.time=0,this.done=[],this.undone=[]}function C(a,b,c,d,e){this.id=a,this.bookmark=b,this.node=c,this.height=0,this.destroyCallback=e;var f=d.insertRule("."+this.getInlineWidgetClass()+"{height: 0}",d.cssRules.length);this.styleRule=d.cssRules.item(f),this.styleSheet=d;var g=c.getAttribute("class")||"";c.setAttribute("class",g+" "+z+" "+this.getInlineWidgetClass()),c.setAttribute(A,a)}function D(){H(this)}function E(a){return a.stop||(a.stop=D),a}function F(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function G(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function H(a){F(a),G(a)}function I(a){return a.target||a.srcElement}function J(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function K(a,b){var c=a.override&&a.override.hasOwnProperty(b);return c?a.override[b]:a[b]}function L(a,b,c,d){if(typeof a.addEventListener=="function"){a.addEventListener(b,c,!1);if(d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};a.attachEvent("on"+b,e);if(d)return function(){a.detachEvent("on"+b,e)}}}function M(){this.id=null}function S(a,b,c){b==null&&(b=a.search(/[^\s\u00a0]/),b==-1&&(b=a.length));for(var d=0,e=0;d<b;++d)a.charAt(d)=="	"?e+=c-e%c:++e;return e}function T(a){return a.currentStyle?a.currentStyle:window.getComputedStyle(a,null)}function U(a,b){var c=a.ownerDocument.body,d=0,e=0,f=!1;for(var g=a;g;g=g.offsetParent){var h=g.offsetLeft,i=g.offsetTop;g==c?(d+=Math.abs(h),e+=Math.abs(i)):(d+=h,e+=i),b&&T(g).position=="fixed"&&(f=!0)}var j=b&&!f?null:c;for(var g=a.parentNode;g!=j;g=g.parentNode)g.scrollLeft!=null&&(d-=g.scrollLeft,e-=g.scrollTop);return{left:d,top:e}}function V(a){return a.textContent||a.innerText||a.nodeValue||""}function W(a){b?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function X(a,b){return a.line==b.line&&a.ch==b.ch}function Y(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function Z(a){return{line:a.line,ch:a.ch}}function _(a){return $.textContent=a,$.innerHTML}function ab(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;c>=0&&d>=0;--c,--d)if(a.charAt(c)!=b.charAt(d))break;return d+1}function bb(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function cb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}a.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var b=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),c=b||/Mac/.test(navigator.platform),d=/Win/.test(navigator.platform),e={},f={};a.defineMode=function(b,c){!a.defaults.mode&&b!="null"&&(a.defaults.mode=b),e[b]=c},a.defineMIME=function(a,b){f[a]=b},a.getMode=function(b,c){typeof c=="string"&&f.hasOwnProperty(c)&&(c=f[c]);if(typeof c=="string")var d=c,g={};else if(c!=null)var d=c.name,g=c;var h=e[d];return h?h(b,g||{}):(window.console&&console.warn("No mode "+d+" found, falling back to plain text."),a.getMode(b,"text/plain"))},a.listModes=function(){var a=[];for(var b in e)e.propertyIsEnumerable(b)&&a.push(b);return a},a.listMIMEs=function(){var a=[];for(var b in f)f.propertyIsEnumerable(b)&&a.push({mime:b,mode:f[b]});return a};var g=a.extensions={};a.defineExtension=function(a,b){g[a]=b};var h=a.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1},!1,!0)},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!X(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):a.replaceRange("",b,d?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),d=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=d&&b.ch?0:d,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end"),a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},i=a.keyMap={};i.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},i.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},i.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},i["default"]=c?i.macDefault:i.pcDefault,i.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.fromTextArea=function(b,c){function d(){b.value=h.getValue()}c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex);if(b.form){var e=L(b.form,"submit",d,!0);if(typeof b.form.submit=="function"){var f=b.form.submit;function g(){d(),b.form.submit=f,b.form.submit(),b.form.submit=g}b.form.submit=g}}b.style.display="none";var h=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return h.save=d,h.getTextArea=function(){return b},h.toTextArea=function(){d(),b.parentNode.removeChild(h.getWrapperElement()),b.style.display="",b.form&&(e(),typeof b.form.submit=="function"&&(b.form.submit=f))},h},a.copyState=l,a.startState=m,n.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if(typeof a=="string")var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){var b=this.pos;while(this.eat(a));return this.pos>b},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return S(this.string,this.start,this.tabSize)},indentation:function(){return S(this.string,null,this.tabSize)},match:function(a,b,c){if(typeof a!="string"){var e=this.string.slice(this.pos).match(a);return e&&b!==!1&&(this.pos+=e[0].length),e}function d(a){return c?a.toLowerCase():a}if(d(this.string).indexOf(d(a),this.pos)==this.pos)return b!==!1&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=n,o.prototype={attach:function(a){this.set.push(a)},detach:function(a){var b=bb(this.set,a);b>-1&&this.set.splice(b,1)},split:function(a,b){if(this.to<=a&&this.to!=null)return null;var c=this.from<a||this.from==null?null:this.from-a+b,d=this.to==null?null:this.to-a+b;return new o(c,d,this.style,this.set)},dup:function(){return new o(null,null,this.style,this.set)},clipTo:function(a,b,c,d,e){this.from!=null&&this.from>=b&&(this.from=Math.max(d,this.from)+e),this.to!=null&&this.to>b&&(this.to=d<this.to?this.to+e:b),a&&d>this.from&&(d<this.to||this.to==null)&&(this.from=null),c&&(b<this.to||this.to==null)&&(b>this.from||this.from==null)&&(this.to=null)},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(a){return this.set==a.set}},p.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,d,e){(a||b<this.from)&&(c||d>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(d,this.from)+e)},sameSet:function(a){return!1},find:function(){return!this.line||!this.line.parent?null:{line:v(this.line),ch:this.from}},clear:function(){if(this.line){var a=bb(this.line.marked,this);a!=-1&&this.line.marked.splice(a,1),this.line=null}}},q.inheritMarks=function(a,b){var c=new q(a),d=b&&b.marked;if(d)for(var e=0;e<d.length;++e)if(d[e].to==null&&d[e].style){var f=c.marked||(c.marked=[]),g=d[e],h=g.dup();f.push(h),h.attach(c)}return c},q.prototype={replace:function(a,b,c){var d=[],e=this.marked,f=b==null?this.text.length:b;r(0,a,this.styles,d),c&&d.push(c,null),r(f,this.text.length,this.styles,d),this.styles=d,this.text=this.text.slice(0,a)+c+this.text.slice(f),this.stateAfter=null;if(e){var g=c.length-(f-a);for(var h=0;h<e.length;++h){var i=e[h];i.clipTo(a==null,a||0,b==null,f,g),i.isDead()&&(i.detach(this),e.splice(h--,1))}}},split:function(a,b){var c=[b,null],d=this.marked;r(a,this.text.length,this.styles,c);var e=new q(b+this.text.slice(a),c);if(d)for(var f=0;f<d.length;++f){var g=d[f],h=g.split(a,b.length);h&&(e.marked||(e.marked=[]),e.marked.push(h),h.attach(e),h==g&&d.splice(f--,1))}return e},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;this.text+=a.text,r(0,a.text.length,a.styles,this.styles);if(d)for(var e=0;e<d.length;++e)d[e].to==null&&(d[e].to=b);if(c&&c.length){d||(this.marked=d=[]);a:for(var e=0;e<c.length;++e){var f=c[e];if(!f.from)for(var g=0;g<d.length;++g){var h=d[g];if(h.to==b&&h.sameSet(f)){h.to=f.to==null?null:f.to+b,h.isDead()&&(h.detach(this),c.splice(e--,1));continue a}}d.push(f),f.attach(this),f.from+=b,f.to!=null&&(f.to+=b)}}},fixMarkEnds:function(a){var b=this.marked,c=a.marked;if(!b)return;for(var d=0;d<b.length;++d){var e=b[d],f=e.to==null;if(f&&c)for(var g=0;g<c.length;++g)if(c[g].sameSet(e)){f=!1;break}f&&(e.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(!a)return;for(var b=0;b<a.length;++b)a[b].from==null&&(a[b].from=0)},addMark:function(a){a.attach(this),this.marked==null&&(this.marked=[]),this.marked.push(a),this.marked.sort(function(a,b){return(a.from||0)-(b.from||0)})},highlight:function(a,b,c){var d=new n(this.text,c),e=this.styles,f=0,g=!1,h=e[0],i;this.text==""&&a.blankLine&&a.blankLine(b);while(!d.eol()){var j=a.token(d,b),k=this.text.slice(d.start,d.pos);d.start=d.pos,f&&e[f-1]==j?e[f-2]+=k:k&&(!g&&(e[f+1]!=j||f&&e[f-2]!=i)&&(g=!0),e[f++]=k,e[f++]=j,i=h,h=e[f]);if(d.pos>5e3){e[f++]=this.text.slice(d.pos),e[f++]=null;break}}return e.length!=f&&(e.length=f,g=!0),f&&e[f-2]!=i&&(g=!0),g||(e.length<5&&this.text.length<10?null:!1)},getTokenAt:function(a,b,c){var d=this.text,e=new n(d);while(e.pos<c&&!e.eol()){e.start=e.pos;var f=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),className:f||null,state:b}},indentation:function(a){return S(this.text,null,a)},getHTML:function(a,b){function f(b,f){if(!b)return;d&&P&&b.charAt(0)==" "&&(b=" "+b.slice(1)),d=!1;if(b.indexOf("	")==-1){e+=b.length;var g=_(b)}else{var g="";for(var h=0;;){var i=b.indexOf("	",h);if(i==-1){g+=_(b.slice(h)),e+=b.length-h;break}e+=i-h;var j=a(e);g+=_(b.slice(h,i))+j.html,e+=j.width,h=i+1}}f?c.push('<span class="',f,'">',g,"</span>"):c.push(g)}function k(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var c=[],d=!0,e=0,g=this.styles,h=this.text,i=this.marked,j=h.length;b!=null&&(j=Math.min(b,j));if(!h&&b==null)f(" ");else if(!i||!i.length)for(var l=0,m=0;m<j;l+=2){var n=g[l],o=g[l+1],p=n.length;m+p>j&&(n=n.slice(0,j-m)),m+=p,f(n,k(o))}else{var q=0,l=0,r="",o,s=0,t=i[0].from||0,u=[],v=0;function w(){var a;while(v<i.length&&((a=i[v]).from==q||a.from==null))a.style!=null&&u.push(a),++v;t=v<i.length?i[v].from:Infinity;for(var b=0;b<u.length;++b){var c=u[b].to||Infinity;c==q?u.splice(b--,1):t=Math.min(c,t)}}var x=0;while(q<j){t==q&&w();var y=Math.min(j,t);for(;;){if(r){var z=q+r.length,A=o;for(var B=0;B<u.length;++B)A=(A?A+" ":"")+u[B].style;f(z>y?r.slice(0,y-q):r,A);if(z>=y){r=r.slice(y-q),q=y;break}q=z}r=g[l++],o=k(g[l++])}}}return c.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}},s.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;d<e;++d){var f=this.lines[d];this.height-=f.height,f.cleanUp();if(f.handlers)for(var g=0;g<f.handlers.length;++g)c.push(f.handlers[g])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c,this.lines.splice.apply(this.lines,[a,0].concat(b));for(var d=0,e=b.length;d<e;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;a<d;++a)if(c(this.lines[a]))return!0}},t.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){var g=Math.min(b,f-a),h=e.height;e.remove(a,g,c),this.height-=h-e.height,f==g&&(this.children.splice(d--,1),e.parent=null);if((b-=g)==0)break;a=0}else a-=f}if(this.size-b<25){var i=[];this.collapse(i),this.children=[new s(i)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){var c=0;for(var d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<=g){f.insertHeight(a,b,c);if(f.lines&&f.lines.length>50){while(f.lines.length>50){var h=f.lines.splice(f.lines.length-25,25),i=new s(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(this.children.length<=10)return;var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new t(b);if(!a.parent){var d=new t(a.children);d.parent=a,a.children=[d,c],a=d}else{a.size-=c.size,a.height-=c.height;var e=bb(a.parent.children,a);a.parent.children.splice(e+1,0,c)}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<g){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if((b-=h)==0)break;a=0}else a-=g}}},y.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+(new Date),e=this.done[this.done.length-1],f=e&&e[e.length-1],g=d-this.time;if(g>400||!f)this.done.push([{start:a,added:b,old:c}]);else if(f.start>a+c.length||f.start+f.added<a-f.added+f.old.length)e.push({start:a,added:b,old:c});else{var h=0;if(a<f.start){for(var i=f.start-a-1;i>=0;--i)f.old.unshift(c[i]);h=Math.min(0,b-c.length),f.added+=f.start-a+h,f.start=a}else f.start<a&&(h=a-f.start,b+=h);for(var i=f.added-h,j=c.length;i<j;++i)f.old.push(c[i]);f.added<b&&(f.added=b)}this.time=d}};var z="CM-inline",A="data-cm-inline",B="data-cm-placeholder";C.prototype={exists:function(){return this.bookmark.line!==null},getLine:function(){return this.bookmark.line},getLineNumber:function(){return this.bookmark.line?v(this.bookmark.line):null},setHeight:function(a){this.height=a,this.styleRule.style.height=this.height+"px"},show:function(a){this.node.parentNode!==a&&(this.node.parentNode&&this.parentNode.removeChild(this.node),a.appendChild(this.node))},hide:function(){this.node.parentNode&&this.node.parentNode.removeChild(this.node)},getInlineWidgetClass:function(){return z+"-"+this.id},createPlaceholder:function(a){var b=a.createElement("div");return b.setAttribute("class",z+" "+this.getInlineWidgetClass()),b.setAttribute(B,this.id),b},createPlaceholderHTML:function(a){var b=a.createElement("div");return b.appendChild(this.createPlaceholder(a)),b.innerHTML},destroy:function(){this.bookmark.clear(),this.node.parentNode&&this.node.parentNode.removeChild(this.node);for(var a=0;a<this.styleSheet.cssRules.length;a++)if(this.styleSheet.cssRules.item(a)==this.rule){this.styleSheet.deleteRule(a);break}this.destroyCallback&&this.destroyCallback(this.id)}},a.e_stop=H,a.e_preventDefault=F,a.e_stopPropagation=G,a.connect=L,M.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}};var N=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var a=document.createElement("div");return"draggable"in a}(),O=/gecko\/\d{7}/i.test(navigator.userAgent),P=/MSIE \d/.test(navigator.userAgent),Q=/WebKit\//.test(navigator.userAgent),R="\n";(function(){var a=document.createElement("textarea");a.value="foo\nbar",a.value.indexOf("\r")>-1&&(R="\r\n")})(),document.documentElement.getBoundingClientRect!=null&&(U=function(a,b){try{var c=a.getBoundingClientRect();c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(window.pageYOffset==null){var e=document.documentElement||document.body.parentNode;e.scrollTop==null&&(e=document.body),c.top+=e.scrollTop,c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var $=document.createElement("pre");_("a")=="\na"?_=function(a){return $.textContent=a,$.innerHTML.slice(1)}:_("	")!="	"&&(_=function(a){return $.innerHTML="",$.appendChild(document.createTextNode(a)),$.innerHTML}),a.htmlEscape=_;var db="\n\nb".split(/\n/).length!=3?function(a){var b=0,c,d=[];while((c=a.indexOf("\n",b))>-1)d.push(a.slice(b,a.charAt(c-1)=="\r"?c-1:c)),b=c+1;return d.push(a.slice(b)),d}:function(a){return a.split(/\r?\n/)};a.splitLines=db;var eb=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:b.compareEndPoints("StartToEnd",b)!=0};a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var fb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return a.keyNames=fb,function(){for(var a=0;a<10;a++)fb[a+48]=String(a);for(var a=65;a<=90;a++)fb[a]=String.fromCharCode(a);for(var a=1;a<=12;a++)fb[a+111]=fb[a+63235]="F"+a}(),a}();(function(){function a(a,b){var c=a.getWrapperElement(),d=c.insertBefore(document.createElement("div"),c.firstChild);return d.className="CodeMirror-dialog",d.innerHTML="<div>"+b+"</div>",d}CodeMirror.defineExtension("openDialog",function(b,c){function g(){if(e)return;e=!0,d.parentNode.removeChild(d)}var d=a(this,b),e=!1,f=this,h=d.getElementsByTagName("input")[0];return h&&(CodeMirror.connect(h,"keydown",function(a){if(a.keyCode==13||a.keyCode==27)CodeMirror.e_stop(a),g(),f.focus(),a.keyCode==13&&c(h.value)}),h.focus(),CodeMirror.connect(h,"blur",g)),g}),CodeMirror.defineExtension("openConfirm",function(b,c){function i(){if(f)return;f=!0,d.parentNode.removeChild(d),g.focus()}var d=a(this,b),e=d.getElementsByTagName("button"),f=!1,g=this,h=1;e[0].focus();for(var j=0;j<e.length;++j){var k=e[j];(function(a){CodeMirror.connect(k,"click",function(b){CodeMirror.e_preventDefault(b),i(),a&&a(g)})})(c[j]),CodeMirror.connect(k,"blur",function(){--h,setTimeout(function(){h<=0&&i()},200)}),CodeMirror.connect(k,"focus",function(){++h})}})})(),function(){function a(a,b,c,d){this.atOccurrence=!1,this.cm=a,d==null&&(d=typeof b=="string"&&b==b.toLowerCase()),c=c?a.clipPos(c):{line:0,ch:0},this.pos={from:c,to:c};if(typeof b!="string")this.matches=function(c,d){if(c){var e=a.getLine(d.line).slice(0,d.ch),f=e.match(b),g=0;while(f){var h=e.indexOf(f[0]);g+=h,e=e.slice(h+1);var i=e.match(b);if(!i)break;f=i,g++}}else var e=a.getLine(d.line).slice(d.ch),f=e.match(b),g=f&&d.ch+e.indexOf(f[0]);if(f)return{from:{line:d.line,ch:g},to:{line:d.line,ch:g+f[0].length},match:f}};else{d&&(b=b.toLowerCase());var e=d?function(a){return a.toLowerCase()}:function(a){return a},f=b.split("\n");f.length==1?this.matches=function(c,d){var f=e(a.getLine(d.line)),g=b.length,h;if(c?d.ch>=g&&(h=f.lastIndexOf(b,d.ch-g))!=-1:(h=f.indexOf(b,d.ch))!=-1)return{from:{line:d.line,ch:h},to:{line:d.line,ch:h+g}}}:this.matches=function(b,c){var d=c.line,g=b?f.length-1:0,h=f[g],i=e(a.getLine(d)),j=b?i.indexOf(h)+h.length:i.lastIndexOf(h);if(b?j>=c.ch||j!=h.length:j<=c.ch||j!=i.length-h.length)return;for(;;){if(b?!d:d==a.lineCount()-1)return;i=e(a.getLine(d+=b?-1:1)),h=f[b?--g:++g];if(g>0&&g<f.length-1){if(i!=h)return;continue}var k=b?i.lastIndexOf(h):i.indexOf(h)+h.length;if(b?k!=i.length-h.length:k!=h.length)return;var l={line:c.line,ch:j},m={line:d,ch:k};return{from:b?m:l,to:b?l:m}}}}}a.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(a){function d(a){var c={line:a,ch:0};return b.pos={from:c,to:c},b.atOccurrence=!1,!1}var b=this,c=this.cm.clipPos(a?this.pos.from:this.pos.to);for(;;){if(this.pos=this.matches(a,c))return this.atOccurrence=!0,this.pos.match||!0;if(a){if(!c.line)return d(0);c={line:c.line-1,ch:this.cm.getLine(c.line-1).length}}else{var e=this.cm.lineCount();if(c.line==e-1)return d(e);c={line:c.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(a){var b=this;this.atOccurrence&&(b.pos.to=this.cm.replaceRange(a,b.pos.from,b.pos.to))}},CodeMirror.defineExtension("getSearchCursor",function(b,c,d){return new a(this,b,c,d)})}(),function(){function a(){this.posFrom=this.posTo=this.query=null,this.marked=[]}function b(b){return b._searchState||(b._searchState=new a)}function c(a,b,c,d){a.openDialog?a.openDialog(b,d):d(prompt(c,""))}function d(a,b,c,d){a.openConfirm?a.openConfirm(b,d):confirm(c)&&d[0]()}function e(a){var b=a.match(/^\/(.*)\/$/);return b?new RegExp(b[1]):a}function g(a,d){var g=b(a);if(g.query)return h(a,d);c(a,f,"Search for:",function(b){a.operation(function(){if(!b||g.query)return;g.query=e(b);if(a.lineCount()<2e3)for(var c=a.getSearchCursor(b);c.findNext();)g.marked.push(a.markText(c.from(),c.to(),"CodeMirror-searching"));g.posFrom=g.posTo=a.getCursor(),h(a,d)})})}function h(a,c){a.operation(function(){var d=b(a),e=a.getSearchCursor(d.query,c?d.posFrom:d.posTo);if(!e.find(c)){e=a.getSearchCursor(d.query,c?{line:a.lineCount()-1}:{line:0,ch:0});if(!e.find(c))return}a.setSelection(e.from(),e.to()),d.posFrom=e.from(),d.posTo=e.to()})}function i(a){a.operation(function(){var c=b(a);if(!c.query)return;c.query=null;for(var d=0;d<c.marked.length;++d)c.marked[d].clear();c.marked.length=0})}function m(a,b){c(a,j,"Replace:",function(f){if(!f)return;f=e(f),c(a,k,"Replace with:",function(c){if(b)a.operation(function(){for(var b=a.getSearchCursor(f);b.findNext();)if(typeof f!="string"){var d=a.getRange(b.from(),b.to()).match(f);b.replace(c.replace(/\$(\d)/,function(a,b){return d[b]}))}else b.replace(c)});else{i(a);var e=a.getSearchCursor(f,a.getCursor());function g(){var b=e.from(),c;if(!(c=e.findNext())){e=a.getSearchCursor(f);if(!(c=e.findNext())||e.from().line==b.line&&e.from().ch==b.ch)return}a.setSelection(e.from(),e.to()),d(a,l,"Replace?",[function(){h(c)},g])}function h(a){e.replace(typeof f=="string"?c:c.replace(/\$(\d)/,function(b,c){return a[c]})),g()}g()}})})}var f='Search: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',j='Replace: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',k='With: <input type="text" style="width: 10em">',l="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(a){i(a),g(a)},CodeMirror.commands.findNext=g,CodeMirror.commands.findPrev=function(a){g(a,!0)},CodeMirror.commands.clearSearch=i,CodeMirror.commands.replace=m,CodeMirror.commands.replaceAll=function(a){m(a,!0)}}();var requirejs,require,define;(function(){function J(a){return M.call(a)==="[object Function]"}function E(a){return M.call(a)==="[object Array]"}function Z(a,b,c){for(var e in b)!(e in K)&&(!(e in a)||c)&&(a[e]=b[e]);return d}function N(a,b,c){return a=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),c&&(a.originalError=c),a}function $(a,b,c){var d,e,f;for(d=0;f=b[d];d++)f=typeof f=="string"?{name:f}:f,e=f.location,c&&(!e||e.indexOf("/")!==0&&e.indexOf(":")===-1)&&(e=c+"/"+(e||f.name)),a[f.name]={name:f.name,location:e||f.name,main:(f.main||"main").replace(ea,"").replace(aa,"")}}function U(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function fa(a){function b(a,b){var c,d;if(a&&a.charAt(0)===".")if(b){t.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1)),c=a=b.concat(a.split("/"));var e;for(d=0;e=c[d];d++)if(e===".")c.splice(d,1),d-=1;else if(e===".."){if(d===1&&(c[2]===".."||c[0]===".."))break;d>0&&(c.splice(d-1,2),d-=2)}d=t.pkgs[c=a[0]],a=a.join("/"),d&&a===c+"/"+d.main&&(a=c)}else a.indexOf("./")===0&&(a=a.substring(2));return a}function c(a,c){var d=a?a.indexOf("!"):-1,e=null,f=c?c.name:null,g=a,h,i;return d!==-1&&(e=a.substring(0,d),a=a.substring(d+1,a.length)),e&&(e=b(e,f)),a&&(e?h=(d=x[e])&&d.normalize?d.normalize(a,function(a){return b(a,f)}):b(a,f):(h=b(a,f),i=w[h],i||(i=r.nameToUrl(h,null,c),w[h]=i))),{prefix:e,name:h,parentMap:c,url:i,originalName:g,fullName:e?e+"!"+(h||""):h}}function e(){var a=!0,b=t.priorityWait,c,d;if(b){for(d=0;c=b[d];d++)if(!y[c]){a=!1;break}a&&delete t.priorityWait}return a}function f(a,b,c){return function(){var d=ga.call(arguments,0),e;return c&&J(e=d[d.length-1])&&(e.__requireJsBuild=!0),d.push(b),a.apply(null,d)}}function g(a,b){var c=f(r.require,a,b);return Z(c,{nameToUrl:f(r.nameToUrl,a),toUrl:f(r.toUrl,a),defined:f(r.requireDefined,a),specified:f(r.requireSpecified,a),isBrowser:d.isBrowser}),c}function h(a){var b,e,f,g=a.callback,h=a.map,i=h.fullName,j=a.deps;f=a.listeners;if(g&&J(g)){if(t.catchError.define)try{e=d.execCb(i,a.callback,j,x[i])}catch(k){b=k}else e=d.execCb(i,a.callback,j,x[i]);i&&((g=a.cjsModule)&&g.exports!==void 0&&g.exports!==x[i]?e=x[i]=a.cjsModule.exports:e===void 0&&a.usingExports?e=x[i]:(x[i]=e,F[i]&&(I[i]=!0)))}else i&&(e=x[i]=g,F[i]&&(I[i]=!0));z[a.id]&&(delete z[a.id],a.isDone=!0,r.waitCount-=1,r.waitCount===0&&(A=[])),delete D[i],d.onResourceLoad&&!a.placeholder&&d.onResourceLoad(r,h,a.depArray);if(b)return e=(i?c(i).url:"")||b.fileName||b.sourceURL,f=b.moduleTree,b=N("defineerror",'Error evaluating module "'+i+'" at location "'+e+'":\n'+b+"\nfileName:"+e+"\nlineNumber: "+(b.lineNumber||b.line),b),b.moduleName=i,b.moduleTree=f,d.onError(b);for(b=0;g=f[b];b++)g(e)}function i(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||h(a))}}function j(a,b){var c=b.map,e=c.fullName,f=c.name,i=E[a]||(E[a]=x[a]),j;b.loading||(b.loading=!0,j=function(a){b.callback=function(){return a},h(b),y[b.id]=!0,s()},j.fromText=function(a,b){var c=O;y[a]=!1,r.scriptCount+=1,r.fake[a]=!0,c&&(O=!1),d.exec(b),c&&(O=!0),r.completeLoad(a)},e in x?j(x[e]):i.load(f,g(c.parentMap,!0),j,t))}function k(a){z[a.id]||(z[a.id]=a,A.push(a),r.waitCount+=1)}function l(a){this.listeners.push(a)}function m(a,b){var d=a.fullName,e=a.prefix,f=e?E[e]||(E[e]=x[e]):null,g,i;return d&&(g=D[d]),!g&&(i=!0,g={id:(e&&!f?C++ +"__p@:":"")+(d||"__r@"+C++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:l},v[g.id]=!0,d&&(!e||E[e]))&&(D[d]=g),e&&!f?(d=m(c(e),!0),d.add(function(){var b=c(a.originalName,a.parentMap),b=m(b,!0);g.placeholder=!0,b.add(function(a){g.callback=function(){return a},h(g)})})):i&&b&&(y[g.id]=!1,r.paused.push(g),k(g)),g}function n(a,b,d,e){var a=c(a,e),f=a.name,j=a.fullName,l=m(a),n=l.id,o=l.deps,p;if(j){if(j in x||y[n]===!0||j==="jquery"&&t.jQuery&&t.jQuery!==d().fn.jquery)return;v[n]=!0,y[n]=!0,j==="jquery"&&d&&V(d())}l.depArray=b,l.callback=d;for(d=0;d<b.length;d++)if(n=b[d])n=c(n,f?a:e),p=n.fullName,b[d]=p,p==="require"?o[d]=g(a):p==="exports"?(o[d]=x[j]={},l.usingExports=!0):p==="module"?l.cjsModule=o[d]={id:f,uri:f?r.nameToUrl(f,null,e):void 0,exports:x[j]}:!(p in x)||p in z||j in F&&!(j in F&&I[p])?(j in F&&(F[p]=!0,delete x[p],B[n.url]=!1),l.depCount+=1,l.depCallbacks[d]=i(l,d),m(n,!0).add(l.depCallbacks[d])):o[d]=x[p];l.depCount?k(l):h(l)}function o(a){n.apply(null,a)}function p(a,b){if(!a.isDone){var d=a.map.fullName,e=a.depArray,f,g,h,i;if(d){if(b[d])return x[d];b[d]=!0}if(e)for(f=0;f<e.length;f++)if(g=e[f])if((h=c(g).prefix)&&(i=z[h])&&p(i,b),(h=z[g])&&!h.isDone&&y[g])g=p(h,b),a.depCallbacks[f](g);return d?x[d]:void 0}}function q(){var a=t.waitSeconds*1e3,b=a&&r.startTime+a<(new Date).getTime(),a="",c=!1,f=!1,g;if(!(r.pausedCount>0)){if(t.priorityWait){if(!e())return;s()}for(g in y)if(!(g in K)&&(c=!0,!y[g])){if(!b){f=!0;break}a+=g+" "}if(c||r.waitCount){if(b&&a)return g=N("timeout","Load timeout for modules: "+a),g.requireType="timeout",g.requireModules=a,d.onError(g);if(f||r.scriptCount)(G||ca)&&!W&&(W=setTimeout(function(){W=0,q()},50));else{if(r.waitCount){for(H=0;a=A[H];H++)p(a,{});r.paused.length&&s(),X<5&&(X+=1,q())}X=0,d.checkReadyState()}}}}var r,s,t={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},u=[],v={require:!0,exports:!0,module:!0},w={},x={},y={},z={},A=[],B={},C=0,D={},E={},F={},I={},L=0;return V=function(a){!r.jQuery&&(a=a||(typeof jQuery!="undefined"?jQuery:null))&&(!t.jQuery||a.fn.jquery===t.jQuery)&&("holdReady"in a||"readyWait"in a)&&(r.jQuery=a,o(["jquery",[],function(){return jQuery}]),r.scriptCount)&&(U(a,!0),r.jQueryIncremented=!0)},s=function(){var a,b,c,f,g,h;L+=1,r.scriptCount<=0&&(r.scriptCount=0);for(;u.length;){if(a=u.shift(),a[0]===null)return d.onError(N("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}if(!t.priorityWait||e())for(;r.paused.length;){g=r.paused,r.pausedCount+=g.length,r.paused=[];for(f=0;a=g[f];f++)b=a.map,c=b.url,h=b.fullName,b.prefix?j(b.prefix,a):!B[c]&&!y[h]&&(d.load(r,h,c),c.indexOf("empty:")!==0&&(B[c]=!0));r.startTime=(new Date).getTime(),r.pausedCount-=g.length}L===1&&q(),L-=1},r={contextName:a,config:t,defQueue:u,waiting
:z,waitCount:0,specified:v,loaded:y,urlMap:w,urlFetched:B,scriptCount:0,defined:x,paused:[],pausedCount:0,plugins:E,needFullExec:F,fake:{},fullExec:I,managerCallbacks:D,makeModuleMap:c,normalize:b,configure:function(a){var b,c,d;a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/"),b=t.paths,d=t.pkgs,Z(t,a,!0);if(a.paths){for(c in a.paths)c in K||(b[c]=a.paths[c]);t.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(c in b)c in K||$(d,b[c],c);a.packages&&$(d,a.packages),t.pkgs=d}a.priority&&(c=r.requireWait,r.requireWait=!1,r.takeGlobalQueue(),s(),r.require(a.priority),s(),r.requireWait=c,t.priorityWait=a.priority),(a.deps||a.callback)&&r.require(a.deps||[],a.callback)},requireDefined:function(a,b){return c(a,b).fullName in x},requireSpecified:function(a,b){return c(a,b).fullName in v},require:function(b,e,f){if(typeof b=="string")return J(e)?d.onError(N("requireargs","Invalid require call")):d.get?d.get(r,b,e):(e=c(b,e),b=e.fullName,b in x?x[b]:d.onError(N("notloaded","Module name '"+e.fullName+"' has not been loaded yet for context: "+a)));(b&&b.length||e)&&n(null,b,e,f);if(!r.requireWait)for(;!r.scriptCount&&r.paused.length;)r.takeGlobalQueue(),s();return r.require},takeGlobalQueue:function(){T.length&&(ha.apply(r.defQueue,[r.defQueue.length-1,0].concat(T)),T=[])},completeLoad:function(a){var b;for(r.takeGlobalQueue();u.length;){if(b=u.shift(),b[0]===null){b[0]=a;break}if(b[0]===a)break;o(b),b=null}b?o(b):o([a,[],a==="jquery"&&typeof jQuery!="undefined"?function(){return jQuery}:null]),d.isAsync&&(r.scriptCount-=1),s(),d.isAsync||(r.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;return c!==-1&&(d=a.substring(c,a.length),a=a.substring(0,c)),r.nameToUrl(a,d,b)},nameToUrl:function(a,c,e){var f,g,h,i,j=r.config,a=b(a,e&&e.fullName);if(d.jsExtRegExp.test(a))c=a+(c?c:"");else{f=j.paths,g=j.pkgs,e=a.split("/");for(i=e.length;i>0;i--){if(h=e.slice(0,i).join("/"),f[h]){e.splice(0,i,f[h]);break}if(h=g[h]){a=a===h.name?h.location+"/"+h.main:h.location,e.splice(0,i,a);break}}c=e.join("/")+(c||".js"),c=(c.charAt(0)==="/"||c.match(/^\w+:/)?"":j.baseUrl)+c}return j.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+j.urlArgs):c}},r.jQueryCheck=V,r.resume=s,r}function ia(){var a,b,c;if(n&&n.readyState==="interactive")return n;a=document.getElementsByTagName("script");for(b=a.length-1;b>-1&&(c=a[b]);b--)if(c.readyState==="interactive")return n=c;return null}var ja=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ka=/require\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/^\.\//,aa=/\.js$/,M=Object.prototype.toString,r=Array.prototype,ga=r.slice,ha=r.splice,G=typeof window!="undefined"&&!!navigator&&!!document,ca=!G&&typeof importScripts!="undefined",la=G&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,da=typeof opera!="undefined"&&opera.toString()==="[object Opera]",K={},D={},T=[],n=null,X=0,O=!1,d,r={},I,v,t,x,u,y,z,H,A,V,W;if(typeof define=="undefined"){if(typeof requirejs!="undefined"){if(J(requirejs))return;r=requirejs,requirejs=void 0}typeof require!="undefined"&&!J(require)&&(r=require,require=void 0),d=requirejs=function(a,b,c){var d="_",e;return!E(a)&&typeof a!="string"&&(e=a,E(b)?(a=b,b=c):a=[]),e&&e.context&&(d=e.context),c=D[d]||(D[d]=fa(d)),e&&c.configure(e),c.require(a,b)},d.config=function(a){return d(a)},require||(require=d),d.toUrl=function(a){return D._.toUrl(a)},d.version="1.0.3",d.jsExtRegExp=/^\/|:|\?|\.js$/,v=d.s={contexts:D,skipAsync:{}};if(d.isAsync=d.isBrowser=G)if(t=v.head=document.getElementsByTagName("head")[0],x=document.getElementsByTagName("base")[0])t=v.head=x.parentNode;d.onError=function(a){throw a},d.load=function(a,b,c){d.resourcesReady(!1),a.scriptCount+=1,d.attach(c,a,b),a.jQuery&&!a.jQueryIncremented&&(U(a.jQuery,!0),a.jQueryIncremented=!0)},define=function(a,b,c){var d,e;typeof a!="string"&&(c=b,b=a,a=null),E(b)||(c=b,b=[]),!b.length&&J(c)&&c.length&&(c.toString().replace(ja,"").replace(ka,function(a,c){b.push(c)}),b=(c.length===1?["require"]:["require","exports","module"]).concat(b)),O&&(d=I||ia())&&(a||(a=d.getAttribute("data-requiremodule")),e=D[d.getAttribute("data-requirecontext")]),(e?e.defQueue:T).push([a,b,c])},define.amd={multiversion:!0,plugins:!0,jQuery:!0},d.exec=function(a){return eval(a)},d.execCb=function(a,b,c,d){return b.apply(d,c)},d.addScriptToDom=function(a){I=a,x?t.insertBefore(a,x):t.appendChild(a),I=null},d.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if(a.type==="load"||b&&la.test(b.readyState))n=null,a=b.getAttribute("data-requirecontext"),c=b.getAttribute("data-requiremodule"),D[a].completeLoad(c),b.detachEvent&&!da?b.detachEvent("onreadystatechange",d.onScriptLoad):b.removeEventListener("load",d.onScriptLoad,!1)},d.attach=function(a,b,c,e,f,g){var h;return G?(e=e||d.onScriptLoad,h=b&&b.config&&b.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),h.type=f||"text/javascript",h.charset="utf-8",h.async=!v.skipAsync[a],b&&h.setAttribute("data-requirecontext",b.contextName),h.setAttribute("data-requiremodule",c),h.attachEvent&&!da?(O=!0,g?h.onreadystatechange=function(){h.readyState==="loaded"&&(h.onreadystatechange=null,h.attachEvent("onreadystatechange",e),g(h))}:h.attachEvent("onreadystatechange",e)):h.addEventListener("load",e,!1),h.src=a,g||d.addScriptToDom(h),h):(ca&&(importScripts(a),b.completeLoad(c)),null)};if(G){u=document.getElementsByTagName("script");for(H=u.length-1;H>-1&&(y=u[H]);H--){t||(t=y.parentNode);if(z=y.getAttribute("data-main")){r.baseUrl||(u=z.split("/"),y=u.pop(),u=u.length?u.join("/")+"/":"./",r.baseUrl=u,z=y.replace(aa,"")),r.deps=r.deps?r.deps.concat(z):[z];break}}}d.checkReadyState=function(){var a=v.contexts,b;for(b in a)if(!(b in K)&&a[b].waitCount)return;d.resourcesReady(!0)},d.resourcesReady=function(a){var b,c;d.resourcesDone=a;if(d.resourcesDone)for(c in a=v.contexts,a)!(c in K)&&(b=a[c],b.jQueryIncremented)&&(U(b.jQuery,!1),b.jQueryIncremented=!1)},d.pageLoaded=function(){document.readyState!=="complete"&&(document.readyState="complete")},G&&document.addEventListener&&!document.readyState&&(document.readyState="loading",window.addEventListener("load",d.pageLoaded,!1)),d(r),d.isAsync&&typeof setTimeout!="undefined"&&(A=v.contexts[r.context||"_"],A.requireWait=!0,setTimeout(function(){A.requireWait=!1,A.takeGlobalQueue(),A.scriptCount||A.resume(),d.checkReadyState()},0))}})(),define("thirdparty/require",function(){}),!function(a){function c(){a(b).parent("li").removeClass("open")}"use strict",a.fn.dropdown=function(e){return this.each(function(){a(this).delegate(e||b,"click",function(b){var d=a(this).parent("li"),e=d.hasClass("open");return c(),!e&&d.toggleClass("open"),!1})})};var b="a.menu, .dropdown-toggle";a(function(){a("html").bind("click",c),a("body").dropdown("[data-dropdown] a.menu, [data-dropdown] .dropdown-toggle")})}(window.jQuery||window.ender),define("widgets/bootstrap-dropdown",function(){}),!function(a){function d(){var a=this,c=setTimeout(function(){a.$element.unbind(b),e.call(a)},500);this.$element.one(b,function(){clearTimeout(c),e.call(a)})}function e(a){this.$element.hide().trigger("hidden"),f.call(this)}function f(c){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.settings.backdrop){var f=a.support.transition&&e;this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.settings.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),f?this.$backdrop.one(b,c):c()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b,a.proxy(g,this)):g.call(this)):c&&c()}function g(){this.$backdrop.remove(),this.$backdrop=null}function h(){var b=this;this.isShown&&this.settings.keyboard?a(document).bind("keyup.modal",function(a){a.which==27&&b.hide()}):this.isShown||a(document).unbind("keyup.modal")}"use strict";var b;a(document).ready(function(){a.support.transition=function(){var a=document.body||document.documentElement,b=a.style,c=b.transition!==undefined||b.WebkitTransition!==undefined||b.MozTransition!==undefined||b.MsTransition!==undefined||b.OTransition!==undefined;return c}(),a.support.transition&&(b="TransitionEnd",a.browser.webkit?b="webkitTransitionEnd":a.browser.mozilla?b="transitionend":a.browser.opera&&(b="oTransitionEnd"))});var c=function(b,c){return this.settings=a.extend({},a.fn.modal.defaults,c),this.$element=a(b).delegate(".close","click.modal",a.proxy(this.hide,this)),this.settings.show&&this.show(),this};c.prototype={toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var c=this;return this.isShown=!0,this.$element.trigger("show"),h.call(this),f.call(this,function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.appendTo(document.body).show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in"),d?c.$element.one(b,function(){c.$element.trigger("shown")}):c.$element.trigger("shown")}),this},hide:function(b){b&&b.preventDefault();if(!this.isShown)return this;var c=this;return this.isShown=!1,h.call(this),this.$element.trigger("hide").removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?d.call(this):e.call(this),this}},a.fn.modal=function(b){var d=this.data("modal");return d?b===!0?d:(typeof b=="string"?d[b]():d&&d.toggle(),this):(typeof b=="string"&&(b={show:/show|toggle/.test(b)}),this.each(function(){a(this).data("modal",new c(this,b))}))},a.fn.modal.Modal=c,a.fn.modal.defaults={backdrop:!1,keyboard:!1,show:!1},a(document).ready(function(){a("body").delegate("[data-controls-modal]","click",function(b){b.preventDefault();var c=a(this).data("show",!0);a("#"+c.attr("data-controls-modal")).modal(c.data())})})}(window.jQuery||window.ender),define("widgets/bootstrap-modal",function(){}),function(a){function b(a){return function(b){return c.parseUrl(b)[a]}}var c={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#\.]*(?:\.[^\?#\.]+)*(\.[^\?#\.]+)|[^\?#]*)))?(\?[^#]+)?)(#.*)?/,parsedUrlPropNames:"href,hrefNoHash,hrefNoSearch,domain,protocol,doubleSlash,authority,userinfo,username,password,host,hostname,port,pathname,directory,filename,filenameExtension,search,hash".split(","),defaultPorts:{http:"80",https:"443",ftp:"20",ftps:"990"},parseUrl:function(a){if(a&&typeof a=="object")return a;var a=c.urlParseRE.exec(a||"")||[],b=c.parsedUrlPropNames,d=b.length,e={},f;for(f=0;f<d;f++)e[b[f]]=a[f]||"";return e},port:function(a){return a=c.parseUrl(a),a.port||c.defaultPorts[a.protocol]},isSameDomain:function(a,b){return c.parseUrl(a).domain===c.parseUrl(b).domain},isRelativeUrl:function(a){return c.parseUrl(a).protocol===""},isAbsoluteUrl:function(a){return c.parseUrl(a).protocol!==""},makePathAbsolute:function(a,b){if(a&&a.charAt(0)==="/")return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var f=d[e];switch(f){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}}return"/"+c.join("/")},makePathRelative:function(a,b){for(var b=b?b.replace(/^\/|\/?[^\/]*$/g,""):"",a=a?a.replace(/^\//,""):"",c=b?b.split("/"):[],d=a.split("/"),e=[],f=c.length,g=!1,h=0;h<f;h++)(g=g||d[0]!==c[h])?e.push(".."):d.shift();return e.concat(d).join("/")},makeUrlAbsolute:function(a,b){if(!c.isRelativeUrl(a))return a;var d=c.parseUrl(a),e=c.parseUrl(b),f=d.protocol||e.protocol,g=d.protocol?d.doubleSlash:d.doubleSlash||e.doubleSlash,h=d.authority||e.authority,i=d.pathname!=="",j=c.makePathAbsolute(d.pathname||e.filename,e.pathname);return f+g+h+j+(d.search||!i&&e.search||"")+d.hash}},d,e,f=c.parsedUrlPropNames,g=f.length;for(d=0;d<g;d++)e=f[d],c[e]||(c[e]=b(e));a.PathUtils=c}(window),define("thirdparty/path-utils/path-utils.min",function(){}),function(a){a.fn.smartAutoComplete=function(){if(arguments.length<1){var b=this[0];return a(b).data("smart-autocomplete")}var c=function(b,c,d){var e=new RegExp(b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");return a.grep(c,function(a){return e.test(a)})},d={minCharLimit:1,maxCharLimit:null,maxResults:null,delay:0,disabled:!1,forceSelect:!1,typeAhead:!1,resultElement:"li",resultFormatter:function(a){return"<li>"+a+"</li>"},filter:function(b,d){var e=this,f=a(e).data("smart-autocomplete");if(a.type(d)==="array"){var g=c(b,d,e);return g}if(a.type(d)==="string")return a.Deferred(function(f){a.ajax({url:d,data:{term:b},dataType:"json"}).success(function(a){f.resolve(c(b,a,e))})}).promise()},alignResultsContainer:!1,clearResults:function(){var b=a(this.context).prev(".smart_autocomplete_type_ahead_field");a(this.context).css({background:b.css("background")}),b.remove(),a(this.resultsContainer).html("")},setCurrentSelectionToContext:function(){this.rawResults.length>0&&this.currentSelection>=0&&a(this.context).val(this.rawResults[this.currentSelection])},setItemSelected:function(a){this.itemSelected=a},autocompleteFocused:!1,setAutocompleteFocused:function(a){this.autocompleteFocused=a}};a.event.special.keyIn={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=d.source||null,f=d.filter,g=d.maxCharLimit>0?d.maxCharLimit:Number.POSITIVE_INFINITY,h=b.smartAutocompleteData.query;if(d.disabled||h.length>g)return!1;d.setItemSelected(!1),d.setAutocompleteFocused(!0),setTimeout(function(){a.when(f.apply(d,[h,d.source])).done(function(b){var e=d.maxResults>0?b.splice(0,d.maxResults):b;a(c).trigger("resultsReady",[e])})},d.delay)}},a.event.special.resultsReady={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=b.smartAutocompleteData.results;if(d.disabled)return!1;a(c).smartAutoComplete().clearResults(),d.rawResults=e;if(e.length<1)return a(c).trigger("noResults"),!1;var f=a.map(e,function(a){return d.resultFormatter.apply(d,[a])}),g=f.join("");d.resultsContainer&&a(d.resultsContainer).append(g),a(c).trigger("showResults",[e])}},a.event.special.showResults={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=a(d.resultsContainer),f=b.smartAutocompleteData.results;if(d.typeAhead&&f[0].substr(0,a(c).val().length)==a(c).val()){var g=f[0];a(c).before("<input class='smart_autocomplete_type_ahead_field' type='text' autocomplete='off' disabled='disabled' value='"+g+"'/>"),a(c).css({position:"relative",zIndex:2,background:"transparent"});var h=a(c).prev("input");h.css({position:"absolute",zIndex:1,overflow:"hidden",background:a(c).css("background"),borderColor:"transparent",width:a(c).width(),color:"silver"}),d.currentSelection=0,e&&a(c).trigger("itemFocus",e.children()[d.currentSelection])}e&&(d.alignResultsContainer&&e.css({position:"absolute",top:function(){return a(c).offset().top+a(c).height()},left:function(){return a(c).offset().left},width:function(){return a(c).width()},zIndex:1e3}),e.show())}},a.event.special.noResults={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=a(d.resultsContainer);e&&d.clearResults()}},a.event.special.itemSelect={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=b.smartAutocompleteData.item,f=a(e).text()||a(e).val();a(c).val(f),d.setItemSelected(!0),d.originalCharCount=a(c).val().length,a(c).trigger("lostFocus")}},a.event.special.itemFocus={setup:function(){return!1},_default:function(b){var c=b.smartAutocompleteData.item;a(c).addClass("smart_autocomplete_highlight")}},a.event.special.itemUnfocus={setup:function(){return!1},_default:function(b){var c=b.smartAutocompleteData.item;a(c).removeClass("smart_autocomplete_highlight")}},a.event.special.lostFocus={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete");d.forceSelect&&!d.itemSelected&&a(d.context).val(""),d.setAutocompleteFocused(!1),d.clearResults(),d.resultsContainer&&a(d.resultsContainer).hide(),d.currentSelection=null}};var e=arguments[0];return this.each(function(b){var c=a.extend(d,a(this).data("smart-autocomplete"),e);c.context=this;if(a.type(c.resultsContainer)==="undefined"){var f=a("<ul class='smart_autocomplete_container' style='display:none'></ul>");f.appendTo("body"),c.resultsContainer=f,c.alignResultsContainer=!0}a(this).data("smart-autocomplete",c),a(this).keyup(function(b){var c=a(this).data("smart-autocomplete");if(b.keyCode=="38"){if(c.resultsContainer){var d=c.currentSelection||0,e=a(c.resultsContainer).children();d>=0&&a(c.context).trigger("itemUnfocus",e[d]),--d<=0&&(d=0),c.currentSelection=d,a(c.context).trigger("itemFocus",[e[d]])}}else if(b.keyCode=="40")if(c.resultsContainer&&c.resultsContainer.is(":visible")){var d=c.currentSelection,e=a(c.resultsContainer).children();d>=0&&a(c.context).trigger("itemUnfocus",e[d]);if(isNaN(d)||null==d||++d>=e.length)d=0;c.currentSelection=d,a(c.context).trigger("itemFocus",[e[d]])}else a(c.context).trigger("keyIn",[a(this).val()]);else{if(b.keyCode=="39"||b.keyCode=="13"){var f=a(c.context).prev(".smart_autocomplete_type_ahead_field");if(c.resultsContainer&&a(c.resultsContainer).is(":visible")){var d=c.currentSelection,e=a(c.resultsContainer).children();a(c.context).trigger("itemSelect",[e[d]])}else c.typeAhead&&f.is(":visible")&&a(c.context).trigger("itemSelect",[f]);return!1}var g=a(c.context).val().length;if(c.originalCharCount==g)return;g>=c.minCharLimit?a(c.context).trigger("keyIn",[a(this).val()]):c.autocompleteFocused&&(c.currentSelection=null,a(c.context).trigger("lostFocus"))}}),a(this).focus(function(){a(this).closest("form").bind("keydown.block_for_smart_autocomplete",function(b){var d=a(c.context).prev(".smart_autocomplete_type_ahead_field");if(b.keyCode=="13"){if(c.resultsContainer&&a(c.resultsContainer).is(":visible")){var e=c.currentSelection,f=a(c.resultsContainer).children();return a(c.context).trigger("itemSelect",[f[e]]),!1}if(c.typeAhead&&d.is(":visible"))return a(c.context).trigger("itemSelect",[d]),!1}}),c.forceSelect&&a(this).select()}),a(document).bind("focusin click",function(b){if(c.autocompleteFocused){var d=a.contains(c.resultsContainer[0],b.target);if(b.target==c.resultsContainer[0]||b.target==c.context||d)return;a(c.context).closest("form").unbind("keydown.block_for_smart_autocomplete"),a(c.context).trigger("lostFocus")}}),a(c.resultsContainer).delegate(c.resultElement,"mouseenter.smart_autocomplete",function(){var b=c.currentSelection||0,d=a(c.resultsContainer).children();c.currentSelection=a(this).prevAll().length,a(c.context).trigger("itemFocus",[this])}),a(c.resultsContainer).delegate(c.resultElement,"mouseleave.smart_autocomplete",function(){a(c.context).trigger("itemUnfocus",[this])}),a(c.resultsContainer).delegate(c.resultElement,"click.smart_autocomplete",function(){return a(c.context).trigger("itemSelect",[this]),!1}),a(this).bind({keyIn:function(a,b){a.smartAutocompleteData={query:b}},resultsReady:function(a,b){a.smartAutocompleteData={results:b}},showResults:function(a,b){a.smartAutocompleteData={results:b}},noResults:function(){},lostFocus:function(){},itemSelect:function(a,b){a.smartAutocompleteData={item:b}},itemFocus:function(a,b){a.smartAutocompleteData={item:b}},itemUnfocus:function(a,b){a.smartAutocompleteData={item:b}}})})}}(jQuery),define("thirdparty/smart-auto-complete/jquery.smart_autocomplete",function(){}),"use strict",function(){if(jQuery&&jQuery.jstree)return;var a=!1,b=!1,c=!1;(function(d){d.vakata={},d.vakata.css={get_css:function(a,b,c){a=a.toLowerCase();var d=c.cssRules||c.rules,e=0;do{if(d.length&&e>d.length+5)return!1;if(d[e].selectorText&&d[e].selectorText.toLowerCase()==a)return b===!0?(c.removeRule&&c.removeRule(e),c.deleteRule&&c.deleteRule(e),!0):d[e]}while(d[++e]);return!1},add_css:function(a,b){return d.jstree.css.get_css(a,!1,b)?!1:(b.insertRule?b.insertRule(a+" { }",0):b.addRule(a,null,0),d.vakata.css.get_css(a))},remove_css:function(a,b){return d.vakata.css.get_css(a,!0,b)},add_sheet:function(a){var b=!1,c=!0;if(a.str)return a.title&&(b=d("style[id='"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.str):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.str:(b.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(b)),b.sheet||b.styleSheet;if(a.url){if(!document.createStyleSheet)return b=document.createElement("link"),b.rel="stylesheet",b.type="text/css",b.media="all",b.href=a.url,document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet;try{b=document.createStyleSheet(a.url)}catch(e){}}}};var e=[],f=-1,g={},h={};d.fn.jstree=function(a){var b=typeof a=="string",c=Array.prototype.slice.call(arguments,1),f=this;if(b){if(a.substring(0,1)=="_")return f;this.each(function(){var b=e[d.data(this,"jstree_instance_id")],g=b&&d.isFunction(b[a])?b[a].apply(b,c):b;if(typeof g!="undefined"&&(a.indexOf("is_")===0||g!==!0&&g!==!1))return f=g,!1})}else this.each(function(){var b=d.data(this,"jstree_instance_id"),f=[],h=a?d.extend({},!0,a):{},i=d(this),j=!1,k=[];f=f.concat(c),i.data("jstree")&&f.push(i.data("jstree")),h=f.length?d.extend.apply(null,[!0,h].concat(f)):h,typeof b!="undefined"&&e[b]&&e[b].destroy(),b=parseInt(e.push({}),10)-1,d.data(this,"jstree_instance_id",b),h.plugins=d.isArray(h.plugins)?h.plugins:d.jstree.defaults.plugins.slice(),h.plugins.unshift("core"),h.plugins=h.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),j=d.extend(!0,{},d.jstree.defaults,h),j.plugins=h.plugins,d.each(g,function(a,b){d.inArray(a,j.plugins)===-1?(j[a]=null,delete j[a]):k.push(a)}),j.plugins=k,e[b]=new d.jstree._instance(b,d(this).addClass("jstree jstree-"+b),j),d.each(e[b]._get_settings().plugins,function(a,c){e[b].data[c]={}}),d.each(e[b]._get_settings().plugins,function(a,c){g[c]&&g[c].__init.apply(e[b])}),setTimeout(function(){e[b]&&e[b].init()},0)});return f},d.jstree={defaults:{plugins:[]},_focused:function(){return e[f]||null},_reference:function(a){if(e[a])return e[a];var b=d(a);return!b.length&&typeof a=="string"&&(b=d("#"+a)),b.length?e[b.closest(".jstree").data("jstree_instance_id")]||null:null},_instance:function(a,b,c){this.data={core:{}},this.get_settings=function(){return d.extend(!0,{},c)},this._get_settings=function(){return c},this.get_index=function(){return a},this.get_container=function(){return b},this.get_container_ul=function(){return b.children("ul:eq(0)")},this._set_settings=function(a){c=d.extend(!0,{},c,a)}},_fn:{},plugin:function(a,b){b=d.extend({},{__init:d.noop,__destroy:d.noop,_fn:{},defaults:!1},b),g[a]=b,d.jstree.defaults[a]=b.defaults,d.each(b._fn,function(b,c){c.plugin=a,c.old=d.jstree._fn[b],d.jstree._fn[b]=function(){var a,e=c,f=Array.prototype.slice.call(arguments),g=new d.Event("before.jstree"),h=!1;if(this.data.core.locked===!0&&b!=="unlock"&&b!=="is_locked")return;do{if(e&&e.plugin&&d.inArray(e.plugin,this._get_settings().plugins)!==-1)break;e=e.old}while(e);if(!e)return;if(b.indexOf("_")===0)a=e.apply(this,f);else{a=this.get_container().triggerHandler(g,{func:b,inst:this,args:f,plugin:e.plugin});if(a===!1)return;typeof a!="undefined"&&(f=a),a=e.apply(d.extend({},this,{__callback:function(a){this.get_container().triggerHandler(b+".jstree",{inst:this,args:f,rslt:a,rlbk:h})},__rollback:function(){return h=this.get_rollback(),h},__call_old:function(a){return e.old.apply(this,a?Array.prototype.slice.call(arguments,1):f)}}),f)}return a},d.jstree._fn[b].old=c.old,d.jstree._fn[b].plugin=a})},rollback:function(a){a&&(d.isArray(a)||(a=[a]),d.each(a,function(a,b){e[b.i].set_rollback(b.h,b.d)}))}},d.jstree._fn=d.jstree._instance.prototype={},d(function(){var e=navigator.userAgent.toLowerCase(),f=(e.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],g=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(e)&&parseInt(f,10)==6){a=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(h){}g+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(e)&&parseInt(f,10)==7&&(b=!0,g+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),!/compatible/.test(e)&&/mozilla/.test(e)&&parseFloat(f,10)<1.9&&(c=!0,g+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "),d.vakata.css.add_sheet({str:g,title:"jstree"})}),d.jstree.plugin("core",{__init:function(){this.data.core.locked=!1,this.data.core.to_open=this.get_settings().core.initially_open,this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus(),this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl"),this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>"),this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18,this.get_container().delegate("li > ins","click.jstree",d.proxy(function(a){var b=d(a.target);this.toggle_node(b)},this)).bind("mousedown.jstree",d.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(a){var b;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){b=window.getSelection();try{b.removeAllRanges(),b.collapse()}catch(c){}}}),this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",d.proxy(function(a,b){var c=this._get_node(b.rslt.obj),e=this;c===-1&&(c=this.get_container_ul());if(!c.length)return;c.find("li").each(function(){var a=d(this);a.data("jstree")&&d.each(a.data("jstree"),function(b,c){e.data[b]&&d.isFunction(e["_"+b+"_notify"])&&e["_"+b+"_notify"].call(e,a,c)})})},this)),this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",d.proxy(function(a,b){var c=this._get_node(b.rslt.obj),e=this;c===-1&&(c=this.get_container_ul());if(!c.length)return;c.find("li.jstree-open:not(:has(ul))").each(function(){e.load_node(this,d.noop,d.noop)})},this)),this.__callback(),this.load_node(-1,function(){this.loaded(),this.reload_nodes()})},destroy:function(){var a,b=this.get_index(),c=this._get_settings(),h=this;d.each(c.plugins,function(a,b){try{g[b].__destroy.apply(h)}catch(c){}}),this.__callback();if(this.is_focused())for(a in e)if(e.hasOwnProperty(a)&&a!=b){e[a].set_focus();break}b===f&&(f=-1),this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),d(document).unbind(".jstree-"+b).undelegate(".jstree-"+b),e[b]=null,delete e[b]},_core_notify:function(a,b){b.opened&&this.open_node(a,!1,!0)},lock:function(){this.data.core.locked=!0,this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7"),this.__callback({})},unlock:function(){this.data.core.locked=!1,this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1"),this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var a=this;this.data.core.to_open=[],this.get_container_ul().find("li.jstree-open").each(function(){this.id&&a.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(a.data.core.to_open)},save_loaded:function(){},reload_nodes:function(a){var b=this,c=!0,e=[],f=[];a||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=d.map(d.makeArray(this.data.core.to_open),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=d.map(d.makeArray(this.data.core.to_load),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open))),this.data.core.to_load.length&&(d.each(this.data.core.to_load,function(a,b){if(b=="#")return!0;d(b).length?e.push(b):f.push(b)}),e.length&&(this.data.core.to_load=f,d.each(e,function(a,d){b._is_loaded(d)||(b.load_node(d,function(){b.reload_nodes(!0)},function(){b.reload_nodes(!0)}),c=!1)}))),this.data.core.to_open.length&&d.each(this.data.core.to_open,function(a,c){b.open_node(c,!1,!0)}),c&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){b.__callback({},b)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var a=this;this.data.core.to_open.length&&d.each(this.data.core.to_open,function(b,c){a.open_node(c,!1,!0)}),this.__callback({})},refresh:function(a){var b=this;this.save_opened(),a||(a=-1),a=this._get_node(a),a||(a=-1),a!==-1?a.children("UL").remove():this.get_container_ul().empty(),this.load_node(a,function(){b.__callback({obj:a}),b.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(this.is_focused())return;var a=d.jstree._focused();a&&a.unset_focus(),this.get_container().addClass("jstree-focused"),f=this.get_index(),this.__callback()},is_focused:function(){return f==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),f=-1),this.__callback()},_get_node:function(a){var b=d(a,this.get_container());return b.is(".jstree")||a==-1?-1:(b=b.closest("li",this.get_container()),b.length?b:!1)},_get_next:function(a,b){return a=this._get_node(a),a===-1?this.get_container().find("> ul > li:first-child"):a.length?b?a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0):!1},_get_prev:function(a,b){a=this._get_node(a);if(a===-1)return this.get_container().find("> ul > li:last-child");if(!a.length)return!1;if(b)return a.prevAll("li").length>0?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){a=a.prev("li").eq(0);while(a.hasClass("jstree-open"))a=a.children("ul:eq(0)").children("li:last");return a}var c=a.parentsUntil(".jstree","li:eq(0)");return c.length?c:!1},_get_parent:function(a){a=this._get_node(a);if(a==-1||!a.length)return!1;var b=a.parentsUntil(".jstree","li:eq(0)");return b.length?b:-1},_get_children:function(a){return a=this._get_node(a),a===-1?this.get_container().children("ul:eq(0)").children("li"):a.length?a.children("ul:eq(0)").children("li"):!1},get_path:function(a,b){var c=[],d=this;return a=this._get_node(a),a===-1||!a||!a.length?!1:(a.parentsUntil(".jstree","li").each(function(){c.push(b?this.id:d.get_text(this))}),c.reverse(),c.push(b?a.attr("id"):this.get_text(a)),c)},_get_string:function(a){return this._get_settings().core.strings[a]||a},is_open:function(a){return a=this._get_node
(a),a&&a!==-1&&a.hasClass("jstree-open")},is_closed:function(a){return a=this._get_node(a),a&&a!==-1&&a.hasClass("jstree-closed")},is_leaf:function(a){return a=this._get_node(a),a&&a!==-1&&a.hasClass("jstree-leaf")},correct_state:function(a){a=this._get_node(a);if(!a||a===-1)return!1;a.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:a})},open_node:function(b,c,d){b=this._get_node(b);if(!b.length)return!1;if(!b.hasClass("jstree-closed"))return c&&c.call(),!1;var e=d||a?0:this._get_settings().core.animation,f=this;this._is_loaded(b)?(this._get_settings().core.open_parents&&b.parentsUntil(".jstree",".jstree-closed").each(function(){f.open_node(this,!1,!0)}),e&&b.children("ul").css("display","none"),b.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),e?b.children("ul").stop(!0,!0).slideDown(e,function(){this.style.display="",f.after_open(b)}):f.after_open(b),this.__callback({obj:b}),c&&c.call()):(b.children("a").addClass("jstree-loading"),this.load_node(b,function(){f.open_node(b,c,d)},c))},after_open:function(a){this.__callback({obj:a})},close_node:function(b,c){b=this._get_node(b);var d=c||a?0:this._get_settings().core.animation,e=this;if(!b.length||!b.hasClass("jstree-open"))return!1;d&&b.children("ul").attr("style","display:block !important"),b.removeClass("jstree-open").addClass("jstree-closed"),d?b.children("ul").stop(!0,!0).slideUp(d,function(){this.style.display="",e.after_close(b)}):e.after_close(b),this.__callback({obj:b})},after_close:function(a){this.__callback({obj:a})},toggle_node:function(a){a=this._get_node(a);if(a.hasClass("jstree-closed"))return this.open_node(a);if(a.hasClass("jstree-open"))return this.close_node(a)},open_all:function(a,b,c){a=a?this._get_node(a):-1;if(!a||a===-1)a=this.get_container_ul();c?a=a.find("li.jstree-closed"):(c=a,a.is(".jstree-closed")?a=a.find("li.jstree-closed").andSelf():a=a.find("li.jstree-closed"));var d=this;a.each(function(){var a=this;d._is_loaded(this)?d.open_node(this,!1,!b):d.open_node(this,function(){d.open_all(a,b,c)},!b)}),c.find("li.jstree-closed").length===0&&this.__callback({obj:c})},close_all:function(a,b){var c=this;a=a?this._get_node(a):this.get_container();if(!a||a===-1)a=this.get_container_ul();a.find("li.jstree-open").andSelf().each(function(){c.close_node(this,!b)}),this.__callback({obj:a})},clean_node:function(a){a=a&&a!=-1?d(a):this.get_container_ul(),a=a.is("li")?a.find("li").andSelf():a.find("li"),a.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed"),a.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:a})},get_rollback:function(){return this.__callback(),{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(a,b){this.get_container().empty().append(a),this.data=b,this.__callback()},load_node:function(a,b,c){this.__callback({obj:a})},_is_loaded:function(a){return!0},create_node:function(a,b,c,e,f){a=this._get_node(a),b=typeof b=="undefined"?"last":b;var g=d("<li />"),h=this._get_settings().core,i;if(a!==-1&&!a.length)return!1;if(!f&&!this._is_loaded(a))return this.load_node(a,function(){this.create_node(a,b,c,e,!0)}),!1;this.__rollback(),typeof c=="string"&&(c={data:c}),c||(c={}),c.attr&&g.attr(c.attr),c.metadata&&g.data(c.metadata),c.state&&g.addClass("jstree-"+c.state),c.data||(c.data=this._get_string("new_node")),d.isArray(c.data)||(i=c.data,c.data=[],c.data.push(i)),d.each(c.data,function(a,b){i=d("<a />"),d.isFunction(b)&&(b=b.call(this,c)),typeof b=="string"?i.attr("href","#")[h.html_titles?"html":"text"](b):(b.attr||(b.attr={}),b.attr.href||(b.attr.href="#"),i.attr(b.attr)[h.html_titles?"html":"text"](b.title),b.language&&i.addClass(b.language)),i.prepend("<ins class='jstree-icon'>&#160;</ins>"),!b.icon&&c.icon&&(b.icon=c.icon),b.icon&&(b.icon.indexOf("/")===-1?i.children("ins").addClass(b.icon):i.children("ins").css("background","url('"+b.icon+"') center center no-repeat")),g.append(i)}),g.prepend("<ins class='jstree-icon'>&#160;</ins>"),a===-1&&(a=this.get_container(),b==="before"&&(b="first"),b==="after"&&(b="last"));switch(b){case"before":a.before(g),i=this._get_parent(a);break;case"after":a.after(g),i=this._get_parent(a);break;case"inside":case"first":a.children("ul").length||a.append("<ul />"),a.children("ul").prepend(g),i=a;break;case"last":a.children("ul").length||a.append("<ul />"),a.children("ul").append(g),i=a;break;default:a.children("ul").length||a.append("<ul />"),b||(b=0),i=a.children("ul").children("li").eq(b),i.length?i.before(g):a.children("ul").append(g),i=a}if(i===-1||i.get(0)===this.get_container().get(0))i=-1;return this.clean_node(i),this.__callback({obj:g,parent:i}),e&&e.call(this,g),g},get_text:function(a){a=this._get_node(a);if(!a.length)return!1;var b=this._get_settings().core.html_titles;return a=a.children("a:eq(0)"),b?(a=a.clone(),a.children("INS").remove(),a.html()):(a=a.contents().filter(function(){return this.nodeType==3})[0],a.nodeValue)},set_text:function(a,b){a=this._get_node(a);if(!a.length)return!1;a=a.children("a:eq(0)");if(this._get_settings().core.html_titles){var c=a.children("INS").clone();return a.html(b).prepend(c),this.__callback({obj:a,name:b}),!0}return a=a.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:a,name:b}),a.nodeValue=b},rename_node:function(a,b){a=this._get_node(a),this.__rollback(),a&&a.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:a,name:b})},delete_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.__rollback();var b=this._get_parent(a),c=d([]),e=this;return a.each(function(){c=c.add(e._get_prev(this))}),a=a.detach(),b!==-1&&b.find("> ul > li").length===0&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),this.clean_node(b),this.__callback({obj:a,prev:c,parent:b}),a},prepare_move:function(a,b,c,e,f){var g={};g.ot=d.jstree._reference(a)||this,g.o=g.ot._get_node(a),g.r=b===-1?-1:this._get_node(b),g.p=typeof c=="undefined"||c===!1?"last":c;if(!f&&h.o&&h.o[0]===g.o[0]&&h.r[0]===g.r[0]&&h.p===g.p){this.__callback(h),e&&e.call(this,h);return}g.ot=d.jstree._reference(g.o)||this,g.rt=d.jstree._reference(g.r)||this;if(g.r===-1||!g.r){g.cr=-1;switch(g.p){case"first":case"before":case"inside":g.cp=0;break;case"after":case"last":g.cp=g.rt.get_container().find(" > ul > li").length;break;default:g.cp=g.p}}else{if(!/^(before|after)$/.test(g.p)&&!this._is_loaded(g.r))return this.load_node(g.r,function(){this.prepare_move(a,b,c,e,!0)});switch(g.p){case"before":g.cp=g.r.index(),g.cr=g.rt._get_parent(g.r);break;case"after":g.cp=g.r.index()+1,g.cr=g.rt._get_parent(g.r);break;case"inside":case"first":g.cp=0,g.cr=g.r;break;case"last":g.cp=g.r.find(" > ul > li").length,g.cr=g.r;break;default:g.cp=g.p,g.cr=g.r}}g.np=g.cr==-1?g.rt.get_container():g.cr,g.op=g.ot._get_parent(g.o),g.cop=g.o.index(),g.op===-1&&(g.op=g.ot?g.ot.get_container():this.get_container()),!/^(before|after)$/.test(g.p)&&g.op&&g.np&&g.op[0]===g.np[0]&&g.o.index()<g.cp&&g.cp++,g.or=g.np.find(" > ul > li:nth-child("+(g.cp+1)+")"),h=g,this.__callback(h),e&&e.call(this,h)},check_move:function(){var a=h,b=!0,c=a.r===-1?this.get_container():a.r;return!a||!a.o||a.or[0]===a.o[0]?!1:a.op&&a.np&&a.op[0]===a.np[0]&&a.cp-1===a.o.index()?!1:(a.o.each(function(){if(c.parentsUntil(".jstree","li").andSelf().index(this)!==-1)return b=!1,!1}),b)},move_node:function(a,b,c,e,f,g){if(!f)return this.prepare_move(a,b,c,function(a){this.move_node(a,!1,!1,e,!0,g)});e&&(h.cy=!0);if(!g&&!this.check_move())return!1;this.__rollback();var i=!1;e?(i=a.o.clone(!0),i.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)})):i=a.o,a.or.length?a.or.before(i):(a.np.children("ul").length||d("<ul />").appendTo(a.np),a.np.children("ul:eq(0)").append(i));try{a.ot.clean_node(a.op),a.rt.clean_node(a.np),a.op.find("> ul > li").length||a.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(j){}return e&&(h.cy=!0,h.oc=i),this.__callback(h),h},_get_move:function(){return h}}})})(jQuery),function(a){var b,c,d;a(function(){/msie/.test(navigator.userAgent.toLowerCase())?(c=a('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),d=a('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),b=c.width()-d.width(),c.add(d).remove()):(c=a("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),b=100-c.width(),c.parent().remove())}),a.jstree.plugin("ui",{__init:function(){this.data.ui.selected=a(),this.data.ui.last_selected=!1,this.data.ui.hovered=null,this.data.ui.to_select=this.get_settings().ui.initially_select,this.get_container().delegate("a","click.jstree",a.proxy(function(b){b.preventDefault(),b.currentTarget.blur(),a(b.currentTarget).hasClass("jstree-loading")||this.select_node(b.currentTarget,!0,b)},this)).delegate("a","mouseenter.jstree",a.proxy(function(b){a(b.currentTarget).hasClass("jstree-loading")||this.hover_node(b.target)},this)).delegate("a","mouseleave.jstree",a.proxy(function(b){a(b.currentTarget).hasClass("jstree-loading")||this.dehover_node(b.target)},this)).bind("reopen.jstree",a.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",a.proxy(function(){this.dehover_node(),this.save_selected()},this)).bind("set_rollback.jstree",a.proxy(function(){this.reselect()},this)).bind("close_node.jstree",a.proxy(function(b,c){var d=this._get_settings().ui,e=this._get_node(c.rslt.obj),f=e&&e.length?e.children("ul").find("a.jstree-clicked"):a(),g=this;if(d.selected_parent_close===!1||!f.length)return;f.each(function(){g.deselect_node(this),d.selected_parent_close==="select_parent"&&g.select_node(e)})},this)).bind("delete_node.jstree",a.proxy(function(a,b){var c=this._get_settings().ui.select_prev_on_delete,d=this._get_node(b.rslt.obj),e=d&&d.length?d.find("a.jstree-clicked"):[],f=this;e.each(function(){f.deselect_node(this)}),c&&e.length&&b.rslt.prev.each(function(){if(this.parentNode)return f.select_node(this),!1})},this)).bind("move_node.jstree",a.proxy(function(a,b){b.rslt.cy&&b.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(b,c){if(typeof b=="undefined"||b===null)return c?this.data.ui.selected:this.data.ui.last_selected;var d=a(b,this.get_container());return d.is(".jstree")||b==-1?-1:(d=d.closest("li",this.get_container()),d.length?d:!1)},_ui_notify:function(a,b){b.selected&&this.select_node(a,!1)},save_selected:function(){var a=this;this.data.ui.to_select=[],this.data.ui.selected.each(function(){this.id&&a.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(this.data.ui.to_select)},reselect:function(){var b=this,c=this.data.ui.to_select;c=a.map(a.makeArray(c),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),a.each(c,function(a,c){c&&c!=="#"&&b.select_node(c)}),this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode}),this.__callback()},refresh:function(a){return this.save_selected(),this.__call_old()},hover_node:function(a){a=this._get_node(a);if(!a.length)return!1;a.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent(),this._fix_scroll(a),this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered,b;if(!a||!a.length)return!1;b=a.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===b[0]&&(this.data.ui.hovered=null),this.__callback({obj:a})},select_node:function(a,b,c){a=this._get_node(a);if(a==-1||!a||!a.length)return!1;var d=this._get_settings().ui,e=d.select_multiple_modifier=="on"||d.select_multiple_modifier!==!1&&c&&c[d.select_multiple_modifier+"Key"],f=d.select_range_modifier!==!1&&c&&c[d.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==a[0]&&this.data.ui.last_selected.parent()[0]===a.parent()[0],g=this.is_selected(a),h=!0,i=this;if(b){if(d.disable_selecting_children&&e&&(a.parentsUntil(".jstree","li").children("a.jstree-clicked").length||a.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;h=!1;switch(!0){case f:this.data.ui.last_selected.addClass("jstree-last-selected"),a=a[a.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf(),d.select_limit==-1||a.length<d.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==i.data.ui.last_selected[0]&&i.deselect_node(this)}),g=!1,h=!0):h=!1;break;case g&&!e:this.deselect_all(),g=!1,h=!0;break;case!g&&!e:if(d.select_limit==-1||d.select_limit>0)this.deselect_all(),h=!0;break;case g&&e:this.deselect_node(a);break;case!g&&e:if(d.select_limit==-1||this.data.ui.selected.length+1<=d.select_limit)h=!0}}h&&!g&&(f||(this.data.ui.last_selected=a),a.children("a").addClass("jstree-clicked"),d.selected_parent_open&&a.parents(".jstree-closed").each(function(){i.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(a),this._fix_scroll(a.eq(0)),this.__callback({obj:a,e:c}))},_fix_scroll:function(a){var c=this.get_container()[0],d;if(c.scrollHeight>c.offsetHeight){a=this._get_node(a);if(!a||a===-1||!a.length||!a.is(":visible"))return;d=a.offset().top-this.get_container().offset().top,d<0&&(c.scrollTop=c.scrollTop+d-1),d+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?b:0)>c.offsetHeight&&(c.scrollTop=c.scrollTop+(d-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?b:0)))}},deselect_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)&&(a.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(a),this.data.ui.last_selected.get(0)===a.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:a}))},toggle_select:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)?this.deselect_node(a):this.select_node(a)},is_selected:function(a){return this.data.ui.selected.index(this._get_node(a))>=0},get_selected:function(b){return b?a(b).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(b){var c=b?a(b).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();c.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=a([]),this.data.ui.last_selected=!1,this.__callback({obj:c})}}}),a.jstree.defaults.plugins.push("ui")}(jQuery),function(a){a.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",a.proxy(function(a,b){if(this._get_settings().crrm.move.open_onmove){var c=this;b.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){c.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(a){return!0}}},_fn:{_show_input:function(b,c){b=this._get_node(b);var d=this._get_settings().core.rtl,e=this._get_settings().crrm.input_width_limit,f=b.children("ins").width(),g=b.find("> a:visible > ins").width()*b.find("> a:visible > ins").length,h=this.get_text(b),i=a("<div />",{css:{position:"absolute",top:"-200px",left:d?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),j=b.css("position","relative").append(a("<input />",{value:h,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:d?"auto":f+g+4+"px",right:d?f+g+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:a.proxy(function(){var a=b.children(".jstree-rename-input"),d=a.val();d===""&&(d=h),i.remove(),a.remove(),this.set_text(b,h),this.rename_node(b,d),c.call(this,b,d,h),b.css("position","")},this),keyup:function(a){var b=a.keyCode||a.which;if(b==27){this.value=h,this.blur();return}if(b==13){this.blur();return}j.width(Math.min(i.text("pW"+this.value).width(),e))},keypress:function(a){var b=a.keyCode||a.which;if(b==13)return!1}})).children(".jstree-rename-input");this.set_text(b,""),i.css({fontFamily:j.css("fontFamily")||"",fontSize:j.css("fontSize")||"",fontWeight:j.css("fontWeight")||"",fontStyle:j.css("fontStyle")||"",fontStretch:j.css("fontStretch")||"",fontVariant:j.css("fontVariant")||"",letterSpacing:j.css("letterSpacing")||"",wordSpacing:j.css("wordSpacing")||""}),j.width(Math.min(i.text("pW"+j[0].value).width(),e))[0].select()},rename:function(a){a=this._get_node(a),this.__rollback();var b=this.__callback;this._show_input(a,function(a,c,d){b.call(this,{obj:a,new_name:c,old_name:d})})},create:function(b,c,d,e,f){var g,h=this;return b=this._get_node(b),b||(b=-1),this.__rollback(),g=this.create_node(b,c,d,function(b){var c=this._get_parent(b),d=a(b).index();e&&e.call(this,b),c.length&&c.hasClass("jstree-closed")&&this.open_node(c,!1,!0),f?h.__callback({obj:b,name:this.get_text(b),parent:c,position:d}):this._show_input(b,function(a,b,e){h.__callback({obj:a,name:b,parent:c,position:d})})}),g},remove:function(a){a=this._get_node(a,!0);var b=this._get_parent(a),c=this._get_prev(a);this.__rollback(),a=this.delete_node(a),a!==!1&&this.__callback({obj:a,prev:c,parent:b})},check_move:function(){if(!this.__call_old())return!1;var a=this._get_settings().crrm.move;return a.check_move.call(this,this._get_move())?!0:!1},move_node:function(a,b,c,d,e,f){var g=this._get_settings().crrm.move;if(!e)return typeof c=="undefined"&&(c=g.default_position),c==="inside"&&!g.default_position.match(/^(before|after)$/)&&(c=g.default_position),this.__call_old(!0,a,b,c,d,!1,f);if(g.always_copy===!0||g.always_copy==="multitree"&&a.rt.get_index()!==a.ot.get_index())d=!0;this.__call_old(!0,a,b,c,d,!0,f)},cut:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.cp_nodes=!1,this.data.crrm.ct_nodes=a,this.__callback({obj:a})},copy:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.ct_nodes=!1,this.data.crrm.cp_nodes=a,this.__callback({obj:a})},paste:function(a){a=this._get_node(a);if(!a||!a.length)return!1;var b=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,a),this.data.crrm.ct_nodes=!1),this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,a,!1,!0),this.__callback({obj:a,nodes:b})}}})}(jQuery),function(a){var b=[];a.jstree._themes=!1,a.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",a.proxy(function(){var a=this._get_settings().themes;this.data.themes.dots=a.dots,this.data.themes.icons=a.icons,this.set_theme(a.theme,a.url)},this)).bind("loaded.jstree",a.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(c,d){if(!c)return!1;d||(d=a.jstree._themes+c+"/style.css"),a.inArray(d,b)==-1&&(a.vakata.css.add_sheet({url:d}),b.push(d)),this.data.themes.theme!=c&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=c),this.get_container().addClass("jstree-"+c),this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons(),this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}}),a(function(){a.jstree._themes===!1&&a("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return a.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1}),a.jstree._themes===!1&&(a.jstree._themes="themes/")}),a.jstree.defaults.plugins.push("themes")}(jQuery),function(a){function c(b,c){var d=a.jstree._focused(),e;if(d&&d.data&&d.data.hotkeys&&d.data.hotkeys.enabled){e=d._get_settings().hotkeys[b];if(e)return e.call(d,c)}}var b=[];a.jstree.plugin("hotkeys",{__init:function(){if(typeof a.hotkeys=="undefined")throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";a.each(this._get_settings().hotkeys,function(d,e){e!==!1&&a.inArray(d,b)==-1&&(a(document).bind("keydown",d,function(a){return c(d,a)}),b.push(d))}),this.get_container().bind("lock.jstree",a.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",a.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this)),this.enable_hotkeys()},defaults:{up:function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(a)),!1},"ctrl+up":function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(a)),!1},"shift+up":function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(a)),!1},down:function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(a)),!1},"ctrl+down":function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(a)),!1},"shift+down":function(){var a=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(a)),!1},left:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a))),!1},"ctrl+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a))),!1},"shift+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a))),!1},right:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a))),!1},"ctrl+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a))),!1},"shift+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;return a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a))),!1},space:function(){return this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click(),!1},"ctrl+space":function(a){return a.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a),!1},"shift+space":function(a){return a.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a),!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})}(jQuery),function(a){a.jstree.plugin("json_data",{__init:function(){var a=this._get_settings().json_data;a.progressive_unload&&this.get_container().bind("after_close.jstree",function(a,b){b.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(a,b,c){var d=this;this.load_node_json(a,function(){d.__callback({obj:d._get_node(a)}),b.call(this)},c)},_is_loaded:function(b){var c=this._get_settings().json_data;return b=this._get_node(b),b==-1||!b||!c.ajax&&!c.progressive_render&&!a.isFunction(c.data)||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").length>0},refresh:function(b){b=this._get_node(b);var c=this._get_settings().json_data;return b&&b!==-1&&c.progressive_unload&&(a.isFunction(c.data)||!!c.ajax)&&b.removeData("jstree_children"),this.__call_old()},load_node_json:function(b,c,d){var e=this.get_settings().json_data,f,g=function(){},h=function(){};b=this._get_node(b);if(b&&b!==-1&&(e.progressive_render||e.progressive_unload)&&!b.is(".jstree-open, .jstree-leaf")&&b.children("ul").children("li").length===0&&b.data("jstree_children")){f=this._parse_json(b.data("jstree_children"),b),f&&(b.append(f),e.progressive_unload||b.removeData("jstree_children")),this.clean_node(b),c&&c.call(this);return}if(b&&b!==-1){if(b.data("jstree_is_loading"))return;b.data("jstree_is_loading",!0)}switch(!0){case!e.data&&!e.ajax:throw"Neither data nor ajax settings supplied.";case a.isFunction(e.data):e.data.call(this,b,a.proxy(function(a){a=this._parse_json(a,b),a?(b===-1||!b?this.get_container().children("ul").empty().append(a.children()):(b.append(a).children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading")),this.clean_node(b),c&&c.call(this)):(b===-1||!b?e.correct_state&&this.get_container().children("ul").empty():(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),e.correct_state&&this.correct_state(b)),d&&d.call(this))},this));break;case!!e.data&&!e.ajax||!!e.data&&!!e.ajax&&(!b||b===-1):if(!b||b==-1)f=this._parse_json(e.data,b),f?(this.get_container().children("ul").empty().append(f.children()),this.clean_node()):e.correct_state&&this.get_container().children("ul").empty();c&&c.call(this);break;case!e.data&&!!e.ajax||!!e.data&&!!e.ajax&&b&&b!==-1:g=function(a,c,f){var g=this.get_settings().json_data.ajax.error;g&&g.call(this,a,c,f),b!=-1&&b.length?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),c==="success"&&e.correct_state&&this.correct_state(b)):c==="success"&&e.correct_state&&this.get_container().children("ul").empty(),d&&d.call(this)},h=function(d,f,h){var i=this.get_settings().json_data.ajax.success;i&&(d=i.call(this,d,f,h)||d);if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")===""||!a.isArray(d)&&!a.isPlainObject(d))return g.call(this,h,f,"");d=this._parse_json(d,b),d?(b===-1||!b?this.get_container().children("ul").empty().append(d.children()):(b.append(d).children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading")),this.clean_node(b),c&&c.call(this)):b===-1||!b?e.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this)):(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),e.correct_state&&(this.correct_state(b),c&&c.call(this)))},e.ajax.context=this,e.ajax.error=g,e.ajax.success=h,e.ajax.dataType||(e.ajax.dataType="json"),a.isFunction(e.ajax.url)&&(e.ajax.url=e.ajax.url.call(this,b)),a.isFunction(e.ajax.data)&&(e.ajax.data=e.ajax.data.call(this,b)),a.ajax(e.ajax)}},_parse_json:function(b,c,d){var e=!1,f=this._get_settings(),g=f.json_data,h=f.core.html_titles,i,j,k,l,m;if(!b)return e;g.progressive_unload&&c&&c!==-1&&c.data("jstree_children",e);if(a.isArray(b)){e=a();if(!b.length)return!1;for(j=0,k=b.length;j<k;j++)i=this._parse_json(b[j],c,!0),i.length&&(e=e.add(i))}else{typeof b=="string"&&(b={data:b});if(!b.data&&b.data!=="")return e;e=a("<li />"),b.attr&&e.attr(b.attr),b.metadata&&e.data(b.metadata),b.state&&e.addClass("jstree-"+b.state),a.isArray(b.data)||(i=b.data,b.data=[],b.data.push(i)),a.each(b.data,function(c,d){i=a("<a />"),a.isFunction(d)&&(d=d.call(this,b)),typeof d=="string"?i.attr("href","#")[h?"html":"text"](d):(d.attr||(d.attr={}),d.attr.href||(d.attr.href="#"),i.attr(d.attr)[h?"html":"text"](d.title),d.language&&i.addClass(d.language)),i.prepend("<ins class='jstree-icon'>&#160;</ins>"),!d.icon&&b.icon&&(d.icon=b.icon),d.icon&&(d.icon.indexOf("/")===-1?i.children("ins").addClass(d.icon):i.children("ins").css("background","url('"+d.icon+"') center center no-repeat")),e.append(i)}),e.prepend("<ins class='jstree-icon'>&#160;</ins>"),b.children&&(g.progressive_render&&b.state!=="open"?e.addClass("jstree-closed").data("jstree_children",b.children):(g.progressive_unload&&e.data("jstree_children",b.children),a.isArray(b.children)&&b.children.length&&(i=this._parse_json(b.children,c,!0),i.length&&(m=a("<ul />"),m.append(i),e.append(m)))))}return d||(l=a("<ul />"),l.append(e),e=l),e},get_json:function(b,c,d,e){var f=[],g=this._get_settings(),h=this,i,j,k,l,m,n;b=this._get_node(b);if(!b||b===-1)b=this.get_container().find("> ul > li");return c=a.isArray(c)?c:["id","class"],!e&&this.data.types&&c.push(g.types.type_attr),d=a.isArray(d)?d:[],b.each(function(){k=a(this),i={data:[]},c.length&&(i.attr={}),a.each(c,function(a,b){j=k.attr(b),j&&j.length&&j.replace(/jstree[^ ]*/ig,"").length&&(i.attr[b]=(" "+j).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))}),k.hasClass("jstree-open")&&(i.state="open"),k.hasClass("jstree-closed")&&(i.state="closed"),k.data()&&(i.metadata=k.data()),l=k.children("a"),l.each(function(){m=a(this),d.length||a.inArray("languages",g.plugins)!==-1||m.children("ins").get(0).style.backgroundImage.length||m.children("ins").get(0).className&&m.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length?(n=!1,a.inArray("languages",g.plugins)!==-1&&a.isArray(g.languages)&&g.languages.length&&a.each(g.languages,function(a,b){if(m.hasClass(b))return n=b,!1}),j={attr:{},title:h.get_text(m,n)},a.each(d,function(a,b){j.attr[b]=(" "+(m.attr(b)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}),a.inArray("languages",g.plugins)!==-1&&a.isArray(g.languages)&&g.languages.length&&a.each(g.languages,function(a,b){if(m.hasClass(b))return j.language=b,!0}),m.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(j.icon=m.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")),m.children("ins").get(0).style.backgroundImage.length&&(j.icon=m.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):j=h.get_text(m),l.length>1?i.data.push(j):i.data=j}),k=k.find("> ul > li"),k.length&&(i.children=h.get_json(k,c,d,!0)),f.push(i)}),f}}})}(jQuery),function(a){a.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(b){var c=this._get_settings().languages,d=!1,e=".jstree-"+this.get_index()+" a";if(!a.isArray(c)||c.length===0)return!1;if(a.inArray(b,c)==-1){if(!c[b])return!1;b=c[b]}return b==this.data.languages.current_language?!0:(d=a.vakata.css.get_css(e+"."+this.data.languages.current_language,!1,this.data.languages.language_css),d!==!1&&(d.style.display="none"),d=a.vakata.css.get_css(e+"."+b,!1,this.data.languages.language_css),d!==!1&&(d.style.display=""),this.data.languages.current_language=b,this.__callback(b),!0)},get_lang:function(){return this.data.languages.current_language},_get_string:function(b,c){var d=this._get_settings().languages,e=this._get_settings().core.strings;return a.isArray(d)&&d.length&&(c=c&&a.inArray(c,d)!=-1?c:this.data.languages.current_language),e[c]&&e[c][b]?e[c][b]:e[b]?e[b]:b},get_text:function(b,c){b=this._get_node(b)||this.data.ui.last_selected;if(!b.size())return!1;var d=this._get_settings().languages,e=this._get_settings().core.html_titles;return a.isArray(d)&&d.length?(c=c&&a.inArray(c,d)!=-1?c:this.data.languages.current_language,b=b.children("a."+c)):b=b.children("a:eq(0)"),e?(b=b.clone(),b.children("INS").remove(),b.html()):(b=b.contents().filter(function(){return this.nodeType==3})[0
],b.nodeValue)},set_text:function(b,c,d){b=this._get_node(b)||this.data.ui.last_selected;if(!b.size())return!1;var e=this._get_settings().languages,f=this._get_settings().core.html_titles,g;return a.isArray(e)&&e.length?(d=d&&a.inArray(d,e)!=-1?d:this.data.languages.current_language,b=b.children("a."+d)):b=b.children("a:eq(0)"),f?(g=b.children("INS").clone(),b.html(c).prepend(g),this.__callback({obj:b,name:c,lang:d}),!0):(b=b.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:b,name:c,lang:d}),b.nodeValue=c)},_load_css:function(){var b=this._get_settings().languages,c="/* languages css */",d=".jstree-"+this.get_index()+" a",e;if(a.isArray(b)&&b.length){this.data.languages.current_language=b[0];for(e=0;e<b.length;e++)c+=d+"."+b[e]+" {",b[e]!=this.data.languages.current_language&&(c+=" display:none; "),c+=" } ";this.data.languages.language_css=a.vakata.css.add_sheet({str:c,title:"jstree-languages"})}},create_node:function(b,c,d,e){var f=this.__call_old(!0,b,c,d,function(b){var c=this._get_settings().languages,d=b.children("a"),f;if(a.isArray(c)&&c.length){for(f=0;f<c.length;f++)d.is("."+c[f])||b.append(d.eq(0).clone().removeClass(c.join(" ")).addClass(c[f]));d.not("."+c.join(", .")).remove()}e&&e.call(this,b)});return f}}})}(jQuery),function(a){a.jstree.plugin("cookies",{__init:function(){if(typeof a.cookie=="undefined")throw"jsTree cookie: jQuery cookie plugin not included.";var b=this._get_settings().cookies,c;!b.save_loaded||(c=a.cookie(b.save_loaded),c&&c.length&&(this.data.core.to_load=c.split(","))),!b.save_opened||(c=a.cookie(b.save_opened),c&&c.length&&(this.data.core.to_open=c.split(","))),!b.save_selected||(c=a.cookie(b.save_selected),c&&c.length&&this.data.ui&&(this.data.ui.to_select=c.split(","))),this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",a.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",a.proxy(function(a){this._get_settings().cookies.auto_save&&this.save_cookie((a.handleObj.namespace+a.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(b){if(this.data.core.refreshing)return;var c=this._get_settings().cookies;if(!b){c.save_loaded&&(this.save_loaded(),a.cookie(c.save_loaded,this.data.core.to_load.join(","),c.cookie_options)),c.save_opened&&(this.save_opened(),a.cookie(c.save_opened,this.data.core.to_open.join(","),c.cookie_options)),c.save_selected&&this.data.ui&&(this.save_selected(),a.cookie(c.save_selected,this.data.ui.to_select.join(","),c.cookie_options));return}switch(b){case"open_node":case"close_node":!c.save_opened||(this.save_opened(),a.cookie(c.save_opened,this.data.core.to_open.join(","),c.cookie_options)),!c.save_loaded||(this.save_loaded(),a.cookie(c.save_loaded,this.data.core.to_load.join(","),c.cookie_options));break;case"select_node":case"deselect_node":!!c.save_selected&&this.data.ui&&(this.save_selected(),a.cookie(c.save_selected,this.data.ui.to_select.join(","),c.cookie_options))}}}})}(jQuery),function(a){a.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",a.proxy(function(a,b){var c=this._get_node(b.rslt.obj);c=c===-1?this.get_container().children("ul"):c.children("ul"),this.sort(c)},this)).bind("rename_node.jstree create_node.jstree create.jstree",a.proxy(function(a,b){this.sort(b.rslt.obj.parent())},this)).bind("move_node.jstree",a.proxy(function(a,b){var c=b.rslt.np==-1?this.get_container():b.rslt.np;this.sort(c.children("ul"))},this))},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1},_fn:{sort:function(b){var c=this._get_settings().sort,d=this;b.append(a.makeArray(b.children("li")).sort(a.proxy(c,d))),b.find("> li > ul").each(function(){d.sort(a(this))}),this.clean_node(b)}}})}(jQuery),function(a){var b=!1,c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1;a.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(b,c,d){a.vakata.dnd.is_drag&&a.vakata.drag_stop({});try{b.currentTarget.unselectable="on",b.currentTarget.onselectstart=function(){return!1},b.currentTarget.style&&(b.currentTarget.style.MozUserSelect="none")}catch(e){}return a.vakata.dnd.init_x=b.pageX,a.vakata.dnd.init_y=b.pageY,a.vakata.dnd.user_data=c,a.vakata.dnd.is_down=!0,a.vakata.dnd.helper=a("<div id='vakata-dragged' />").html(d),a(document).bind("mousemove",a.vakata.dnd.drag),a(document).bind("mouseup",a.vakata.dnd.drag_stop),!1},drag:function(b){if(!a.vakata.dnd.is_down)return;if(!a.vakata.dnd.is_drag){if(!(Math.abs(b.pageX-a.vakata.dnd.init_x)>5||Math.abs(b.pageY-a.vakata.dnd.init_y)>5))return;a.vakata.dnd.helper.appendTo("body"),a.vakata.dnd.is_drag=!0,a(document).triggerHandler("drag_start.vakata",{event:b,data:a.vakata.dnd.user_data})}if(b.type==="mousemove"){var c=a(document),d=c.scrollTop(),e=c.scrollLeft();b.pageY-d<20?(g&&h==="down"&&(clearInterval(g),g=!1),g||(h="up",g=setInterval(function(){a(document).scrollTop(a(document).scrollTop()-a.vakata.dnd.scroll_spd)},150))):g&&h==="up"&&(clearInterval(g),g=!1),a(window).height()-(b.pageY-d)<20?(g&&h==="up"&&(clearInterval(g),g=!1),g||(h="down",g=setInterval(function(){a(document).scrollTop(a(document).scrollTop()+a.vakata.dnd.scroll_spd)},150))):g&&h==="down"&&(clearInterval(g),g=!1),b.pageX-e<20?(f&&i==="right"&&(clearInterval(f),f=!1),f||(i="left",f=setInterval(function(){a(document).scrollLeft(a(document).scrollLeft()-a.vakata.dnd.scroll_spd)},150))):f&&i==="left"&&(clearInterval(f),f=!1),a(window).width()-(b.pageX-e)<20?(f&&i==="left"&&(clearInterval(f),f=!1),f||(i="right",f=setInterval(function(){a(document).scrollLeft(a(document).scrollLeft()+a.vakata.dnd.scroll_spd)},150))):f&&i==="right"&&(clearInterval(f),f=!1)}a.vakata.dnd.helper.css({left:b.pageX+a.vakata.dnd.helper_left+"px",top:b.pageY+a.vakata.dnd.helper_top+"px"}),a(document).triggerHandler("drag.vakata",{event:b,data:a.vakata.dnd.user_data})},drag_stop:function(b){f&&clearInterval(f),g&&clearInterval(g),a(document).unbind("mousemove",a.vakata.dnd.drag),a(document).unbind("mouseup",a.vakata.dnd.drag_stop),a(document).triggerHandler("drag_stop.vakata",{event:b,data:a.vakata.dnd.user_data}),a.vakata.dnd.helper.remove(),a.vakata.dnd.init_x=0,a.vakata.dnd.init_y=0,a.vakata.dnd.user_data={},a.vakata.dnd.is_down=!1,a.vakata.dnd.is_drag=!1}},a(function(){var b="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";a.vakata.css.add_sheet({str:b,title:"vakata"})}),a.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1},this.get_container().bind("mouseenter.jstree",a.proxy(function(c){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree){this.data.themes&&(d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),a.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));if(c.currentTarget===c.target&&a.vakata.dnd.user_data.obj&&a(a.vakata.dnd.user_data.obj).length&&a(a.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==c.target){var f=a.jstree._reference(c.target),g;f.data.dnd.foreign?(g=f._get_settings().dnd.drag_check.call(this,{o:b,r:f.get_container(),is_root:!0}),(g===!0||g.inside===!0||g.before===!0||g.after===!0)&&a.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(f.prepare_move(b,f.get_container(),"last"),f.check_move()&&a.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))}}},this)).bind("mouseup.jstree",a.proxy(function(c){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&c.currentTarget===c.target&&a.vakata.dnd.user_data.obj&&a(a.vakata.dnd.user_data.obj).length&&a(a.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==c.target){var d=a.jstree._reference(c.currentTarget),e;d.data.dnd.foreign?(e=d._get_settings().dnd.drag_check.call(this,{o:b,r:d.get_container(),is_root:!0}),(e===!0||e.inside===!0||e.before===!0||e.after===!0)&&d._get_settings().dnd.drag_finish.call(this,{o:b,r:d.get_container(),is_root:!0})):d.move_node(b,d.get_container(),"last",c[d._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",a.proxy(function(b){if(b.relatedTarget&&b.relatedTarget.id&&b.relatedTarget.id==="jstree-marker-line")return!1;a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),a.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"))},this)).bind("mousemove.jstree",a.proxy(function(b){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree){var c=this.get_container()[0];b.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(a.proxy(function(){this.scrollLeft+=a.vakata.dnd.scroll_spd},c),100)):b.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(a.proxy(function(){this.scrollLeft-=a.vakata.dnd.scroll_spd},c),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1),b.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(a.proxy(function(){this.scrollTop+=a.vakata.dnd.scroll_spd},c),100)):b.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(a.proxy(function(){this.scrollTop-=a.vakata.dnd.scroll_spd},c),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&d&&e&&(d.hide(),e.hide())},this)).delegate("a","mousedown.jstree",a.proxy(function(a){if(a.which===1)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&this.dnd_enter(b.currentTarget)},this)).delegate("a","mousemove.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&((!c||!c.length||c.children("a")[0]!==b.currentTarget)&&this.dnd_enter(b.currentTarget),typeof this.data.dnd.off.top=="undefined"&&(this.data.dnd.off=a(b.target).offset()),this.data.dnd.w=(b.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",a.proxy(function(b){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree){if(b.relatedTarget&&b.relatedTarget.id&&b.relatedTarget.id==="jstree-marker-line")return!1;d&&d.hide(),e&&e.hide(),this.data.dnd.mto=setTimeout(function(a){return function(){a.dnd_leave(b)}}(this),0)}},this)).delegate("a","mouseup.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&this.dnd_finish(b)},this)),a(document).bind("drag_stop.vakata",a.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,this.data.dnd.off=!1,this.data.dnd.prepared=!1,this.data.dnd.w=!1,this.data.dnd.to1=!1,this.data.dnd.to2=!1,this.data.dnd.i1=!1,this.data.dnd.i2=!1,this.data.dnd.active=!1,this.data.dnd.foreign=!1,d&&d.css({top:"-2000px"}),e&&e.css({top:"-2000px"})},this)).bind("drag_start.vakata",a.proxy(function(b,c){if(c.data.jstree){var d=a(c.event.target);d.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(d)}},this));var f=this._get_settings().dnd;f.drag_target&&a(document).delegate(f.drag_target,"mousedown.jstree-"+this.get_index(),a.proxy(function(c){b=c.target,a.vakata.dnd.drag_start(c,{jstree:!0,obj:c.target},"<ins class='jstree-icon'></ins>"+a(c.target).text()),this.data.themes&&(d&&d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),a.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var f=this.get_container();this.data.dnd.cof=f.offset(),this.data.dnd.cw=parseInt(f.width(),10),this.data.dnd.ch=parseInt(f.height(),10),this.data.dnd.foreign=!0,c.preventDefault()},this)),f.drop_target&&a(document).delegate(f.drop_target,"mouseenter.jstree-"+this.get_index(),a.proxy(function(c){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:b,r:a(c.target),e:c})&&a.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(f.drop_target,"mouseleave.jstree-"+this.get_index(),a.proxy(function(b){this.data.dnd.active&&a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(f.drop_target,"mouseup.jstree-"+this.get_index(),a.proxy(function(c){this.data.dnd.active&&a.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:b,r:a(c.target),e:c})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(a){return!0},drop_finish:a.noop,drag_target:".jstree-draggable",drag_finish:a.noop,drag_check:function(a){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(!c||!c.length)return;this.data.dnd.off=c.offset(),this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+c.width());if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{o:b,r:c});return this.data.dnd.after=a.after,this.data.dnd.before=a.before,this.data.dnd.inside=a.inside,this.data.dnd.prepared=!0,this.dnd_show()}return this.prepare_move(b,c,"before"),this.data.dnd.before=this.check_move(),this.prepare_move(b,c,"after"),this.data.dnd.after=this.check_move(),this._is_loaded(c)?(this.prepare_move(b,c,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1,this.data.dnd.prepared=!0,this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared)return;var b=["before","inside","after"],c=!1,f=this._get_settings().core.rtl,g;this.data.dnd.w<this.data.core.li_height/3?b=["before","inside","after"]:this.data.dnd.w<=this.data.core.li_height*2/3?b=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:b=["after","inside","before"],a.each(b,a.proxy(function(b,d){if(this.data.dnd[d])return a.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),c=d,!1},this)),c===!1&&a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),g=f?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(c){case"before":d.css({left:g+"px",top:this.data.dnd.off.top-6+"px"}).show(),e&&e.css({left:g+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case"after":d.css({left:g+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show(),e&&e.css({left:g+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case"inside":d.css({left:g+(f?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show(),e&&e.hide();break;default:d.hide(),e&&e.hide()}return j=c,c},dnd_open:function(){this.data.dnd.to2=!1,this.open_node(c,a.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(a){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:b,r:c,p:j}):(this.dnd_prepare(),this.move_node(b,c,j,a[this._get_settings().dnd.copy_modifier+"Key"])),b=!1,c=!1,d.hide(),e&&e.hide()},dnd_enter:function(b){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var d=this._get_settings().dnd;this.data.dnd.prepared=!1,c=this._get_node(b),d.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(a.proxy(this.dnd_prepare,this),d.check_timeout)):this.dnd_prepare(),d.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),c&&c.length&&c.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(a.proxy(this.dnd_open,this),d.open_timeout))):c&&c.length&&c.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(b){this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),d.hide(),e&&e.hide(),c&&c[0]===b.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(c,f){b=this._get_node(c),this.data.ui&&this.is_selected(b)&&(b=this._get_node(null,!0));var g=b.length>1?this._get_string("multiple_selection"):this.get_text(b),h=this.get_container();this._get_settings().core.html_titles||(g=g.replace(/</ig,"&lt;").replace(/>/ig,"&gt;")),a.vakata.dnd.drag_start(f,{jstree:!0,obj:b},"<ins class='jstree-icon'></ins>"+g),this.data.themes&&(d&&d.attr("class","jstree-"+this.data.themes.theme),e&&e.attr("class","jstree-"+this.data.themes.theme),a.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),this.data.dnd.cof=h.offset(),this.data.dnd.cw=parseInt(h.width(),10),this.data.dnd.ch=parseInt(h.height(),10),this.data.dnd.active=!0}}}),a(function(){var b="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";a.vakata.css.add_sheet({str:b,title:"jstree"}),d=a("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(a){return d.hide(),e.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1}).appendTo("body"),e=a("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(a){if(c&&c.length)return c.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",function(b){var f=a(b.relatedTarget);if(f.is(".jstree")||f.closest(".jstree").length===0)if(c&&c.length)return c.children("a").trigger(b),d.hide(),e.hide(),b.preventDefault(),b.stopImmediatePropagation(),!1}).appendTo("body"),a(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&(d.show(),e&&e.show())}),a(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&(d.hide(),e&&e.hide())})})}(jQuery),function(a){a.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui,this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=this.deselect_all=a.noop,this.get_selected=this.get_checked),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",a.proxy(function(a,b){this._prepare_checkboxes(b.rslt.obj)},this)).bind("loaded.jstree",a.proxy(function(a){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",a.proxy(function(a){a.preventDefault(),this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):this.check_node(a.target);if(!this.data.ui||!this.data.checkbox.noui)return a.stopImmediatePropagation(),!1;this.save_selected(),this.data.cookies&&this.save_cookie("select_node")},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(a){return["check_"+(a[0].id||Math.ceil(Math.random()*1e4)),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(a,b){b.checked&&this.check_node(a,!1)},_prepare_checkboxes:function(b){b=!b||b==-1?this.get_container().find("> ul > li"):this._get_node(b);if(b===!1)return;var c,d=this,e,f=this._get_settings().checkbox.two_state,g=this._get_settings().checkbox.real_checkboxes,h=this._get_settings().checkbox.real_checkboxes_names;b.each(function(){e=a(this),c=e.is("li")&&(e.hasClass("jstree-checked")||g&&e.children(":checked").length)?"jstree-checked":"jstree-unchecked",e.find("li").andSelf().each(function(){var b=a(this),e;b.children("a"+(d.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(f?"jstree-unchecked":c),g&&(b.children(":checkbox").length?b.children(":checkbox").addClass("jstree-real-checkbox"):(e=h.call(d,b),b.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+e[0]+"' name='"+e[0]+"' value='"+e[1]+"' />"))),f?(b.hasClass("jstree-checked")||b.children(":checked").length)&&b.addClass("jstree-checked").children(":checkbox").prop("checked",!0):(c==="jstree-checked"||b.hasClass("jstree-checked")||b.children(":checked").length)&&b.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})}),f||b.find(".jstree-checked").parent().parent().each(function(){d._repair_state(this)})},change_state:function(b,c){b=this._get_node(b);var d=!1,e=this._get_settings().checkbox.real_checkboxes;if(!b||b===-1)return!1;c=c===!1||c===!0?c:b.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state)c?(b.removeClass("jstree-checked").addClass("jstree-unchecked"),e&&b.children(":checkbox").prop("checked",!1)):(b.removeClass("jstree-unchecked").addClass("jstree-checked"),e&&b.children(":checkbox").prop("checked",!0));else{if(c){d=b.find("li").andSelf();if(!d.filter(".jstree-checked, .jstree-undetermined").length)return!1;d.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),e&&d.children(":checkbox").prop("checked",!1)}else{d=b.find("li").andSelf();if(!d.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;d.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),e&&d.children(":checkbox").prop("checked",!0),this.data.ui&&(this.data.ui.last_selected=b),this.data.checkbox.last_selected=b}b.parentsUntil(".jstree","li").each(function(){var b=a(this);if(c){if(b.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return b.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),e&&b.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;b.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),e&&b.children(":checkbox").prop("checked",!1)}else{if(b.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return b.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),e&&b.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;b.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),e&&b.children(":checkbox").prop("checked",!0)}})}return this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked()),this.__callback(b),!0},check_node:function(a){if(this.change_state(a,!1)){a=this._get_node(a);if(this._get_settings().checkbox.checked_parent_open){var b=this;a.parents(".jstree-closed").each(function(){b.open_node(this,!1,!0)})}this.__callback({obj:a})}},uncheck_node:function(a){this.change_state(a,!0)&&this.__callback({obj:this._get_node(a)})},check_all:function(){var a=this,b=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");b.each(function(){a.change_state(this,!1)}),this.__callback()},uncheck_all:function(){var a=this,b=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");b.each(function(){a.change_state(this,!0)}),this.__callback()},is_checked:function(a){return a=this._get_node(a),a.length?a.is(".jstree-checked"):!1},get_checked:function(a,b){return a=!a||a===-1?this.get_container():this._get_node(a),b||this._get_settings().checkbox.two_state?a.find(".jstree-checked"):a.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(a,b){return a=!a||a===-1?this.get_container():this._get_node(a),b||this._get_settings().checkbox.two_state?a.find(".jstree-unchecked"):a.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(!a.length)return;if(this._get_settings().checkbox.two_state){a.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);return}var b=this._get_settings().checkbox.real_checkboxes,c=a.find("> ul > .jstree-checked").length,d=a.find("> ul > .jstree-undetermined").length,e=a.find("> ul > li").length;e===0?a.hasClass("jstree-undetermined")&&this.change_state(a,!1):c===0&&d===0?this.change_state(a,!0):c===e?this.change_state(a,!1):(a.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),b&&a.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1))},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var b=this,c=this.data.ui.to_select;c=a.map(a.makeArray(c),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.deselect_all(),a.each(c,function(a,c){b.check_node(c)}),this.__callback()}else this.__call_old()},save_loaded:function(){var a=this;this.data.core.to_load=[],this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&a.data.core.to_load.push("#"+this.id)})}}}),a(function(){var b=".jstree .jstree-real-checkbox { display:none; } ";a.vakata.css.add_sheet({str:b,title:"jstree"})})}(jQuery),function(a){a.vakata.xslt=function(b,c,d){var e="",f,g,h,i;return document.recalc?(f=document.createElement("xml"),g=document.createElement("xml"),f.innerHTML=b,g.innerHTML=c,a("body").append(f).append(g),setTimeout(function(b,c,d){return function(){d.call(null,b.transformNode(c.XMLDocument)),setTimeout(function(b,c){return function(){a(b).remove(),a(c).remove()}}(b,c),200)}}(f,g,d),100),!0):(typeof window.DOMParser!="undefined"&&typeof window.XMLHttpRequest!="undefined"&&typeof window.XSLTProcessor=="undefined"&&(b=(new DOMParser).parseFromString(b,"text/xml"),c=(new DOMParser).parseFromString(c,"text/xml")),typeof window.DOMParser!="undefined"&&typeof window.XMLHttpRequest!="undefined"&&typeof window.XSLTProcessor!="undefined"?(h=new XSLTProcessor,i=a.isFunction(h.transformDocument)?typeof window.XMLSerializer!="undefined":!0,i?(b=(new DOMParser).parseFromString(b,"text/xml"),c=(new DOMParser).parseFromString(c,"text/xml"),a.isFunction(h.transformDocument)?(e=document.implementation.createDocument("","",null),h.transformDocument(b,c,e,null),d.call(null,(new XMLSerializer).serializeToString(e)),!0):(h.importStylesheet(c),e=h.transformToFragment(b,document),d.call(null,a("<div />").append(e).html()),!0)):!1):!1)};var b={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:copy-of select="./child::node()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:copy-of select="./child::node()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'
},c=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};a.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_xml(a,function(){d.__callback({obj:d._get_node(a)}),b.call(this)},c)},_is_loaded:function(b){var c=this._get_settings().xml_data;return b=this._get_node(b),b==-1||!b||!c.ajax&&!a.isFunction(c.data)||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").size()>0},load_node_xml:function(b,c,d){var e=this.get_settings().xml_data,f=function(){},g=function(){};b=this._get_node(b);if(b&&b!==-1){if(b.data("jstree_is_loading"))return;b.data("jstree_is_loading",!0)}switch(!0){case!e.data&&!e.ajax:throw"Neither data nor ajax settings supplied.";case a.isFunction(e.data):e.data.call(this,b,a.proxy(function(d){this.parse_xml(d,a.proxy(function(d){d&&(d=d.replace(/ ?xmlns="[^"]*"/ig,""),d.length>10?(d=a(d),b===-1||!b?this.get_container().children("ul").empty().append(d.children()):(b.children("a.jstree-loading").removeClass("jstree-loading"),b.append(d),b.removeData("jstree_is_loading")),e.clean_node&&this.clean_node(b),c&&c.call(this)):b&&b!==-1?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),e.correct_state&&(this.correct_state(b),c&&c.call(this))):e.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this)))},this))},this));break;case!!e.data&&!e.ajax||!!e.data&&!!e.ajax&&(!b||b===-1):(!b||b==-1)&&this.parse_xml(e.data,a.proxy(function(d){d?(d=d.replace(/ ?xmlns="[^"]*"/ig,""),d.length>10&&(d=a(d),this.get_container().children("ul").empty().append(d.children()),e.clean_node&&this.clean_node(b),c&&c.call(this))):e.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this))},this));break;case!e.data&&!!e.ajax||!!e.data&&!!e.ajax&&b&&b!==-1:f=function(a,c,f){var g=this.get_settings().xml_data.ajax.error;g&&g.call(this,a,c,f),b!==-1&&b.length?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),c==="success"&&e.correct_state&&this.correct_state(b)):c==="success"&&e.correct_state&&this.get_container().children("ul").empty(),d&&d.call(this)},g=function(d,g,h){d=h.responseText;var i=this.get_settings().xml_data.ajax.success;i&&(d=i.call(this,d,g,h)||d);if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")return f.call(this,h,g,"");this.parse_xml(d,a.proxy(function(d){d&&(d=d.replace(/ ?xmlns="[^"]*"/ig,""),d.length>10?(d=a(d),b===-1||!b?this.get_container().children("ul").empty().append(d.children()):(b.children("a.jstree-loading").removeClass("jstree-loading"),b.append(d),b.removeData("jstree_is_loading")),e.clean_node&&this.clean_node(b),c&&c.call(this)):b&&b!==-1?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),e.correct_state&&(this.correct_state(b),c&&c.call(this))):e.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this)))},this))},e.ajax.context=this,e.ajax.error=f,e.ajax.success=g,e.ajax.dataType||(e.ajax.dataType="xml"),a.isFunction(e.ajax.url)&&(e.ajax.url=e.ajax.url.call(this,b)),a.isFunction(e.ajax.data)&&(e.ajax.data=e.ajax.data.call(this,b)),a.ajax(e.ajax)}},parse_xml:function(c,d){var e=this._get_settings().xml_data;a.vakata.xslt(c,b[e.xsl],d)},get_xml:function(b,d,e,f,g){var h="",i=this._get_settings(),j=this,k,l,m,n,o;b||(b="flat"),g||(g=0),d=this._get_node(d);if(!d||d===-1)d=this.get_container().find("> ul > li");return e=a.isArray(e)?e:["id","class"],!g&&this.data.types&&a.inArray(i.types.type_attr,e)===-1&&e.push(i.types.type_attr),f=a.isArray(f)?f:[],g||(i.xml_data.get_include_preamble&&(h+='<?xml version="1.0" encoding="UTF-8"?>'),h+="<root>"),d.each(function(){h+="<item",m=a(this),a.each(e,function(a,b){var d=m.attr(b);if(!i.xml_data.get_skip_empty||typeof d!="undefined")h+=" "+b+'="'+c((" "+(d||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'}),m.hasClass("jstree-open")&&(h+=' state="open"'),m.hasClass("jstree-closed")&&(h+=' state="closed"'),b==="flat"&&(h+=' parent_id="'+c(g)+'"'),h+=">",h+="<content>",n=m.children("a"),n.each(function(){k=a(this),o=!1,h+="<name",a.inArray("languages",i.plugins)!==-1&&a.each(i.languages,function(a,b){if(k.hasClass(b))return h+=' lang="'+c(b)+'"',o=b,!1}),f.length&&a.each(f,function(a,b){var d=k.attr(b);if(!i.xml_data.get_skip_empty||typeof d!="undefined")h+=" "+b+'="'+c((" "+d||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'}),k.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(h+=' icon="'+c(k.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'),k.children("ins").get(0).style.backgroundImage.length&&(h+=' icon="'+c(k.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"'),h+=">",h+="<![CDATA["+j.get_text(k,o)+"]]>",h+="</name>"}),h+="</content>",l=m[0].id||!0,m=m.find("> ul > li"),m.length?l=j.get_xml(b,m,e,f,l):l="",b=="nest"&&(h+=l),h+="</item>",b=="flat"&&(h+=l)}),g||(h+="</root>"),h}}})}(jQuery),function(a){a.expr[":"].jstree_contains=function(a,b,c){return(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())>=0},a.expr[":"].jstree_title_contains=function(a,b,c){return(a.getAttribute("title")||"").toLowerCase().indexOf(c[3].toLowerCase())>=0},a.jstree.plugin("search",{__init:function(){this.data.search.str="",this.data.search.result=a(),this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(b,c){a(this).children("ul").find("li").hide().removeClass("jstree-last"),c.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){a(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){a(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(b,c){if(a.trim(b)===""){this.clear_search();return}var d=this.get_settings().search,e=this,f=function(){},g=function(){};this.data.search.str=b;if(!c&&d.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=!0,f=function(){},g=function(a,b,c){var d=this.get_settings().search.ajax.success;d&&(a=d.call(this,a,b,c)||a),this.data.search.to_open=a,this._search_open()},d.ajax.context=this,d.ajax.error=f,d.ajax.success=g,a.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,b)),a.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,b)),d.ajax.data||(d.ajax.data={search_string:b});if(!d.ajax.dataType||/^json/.exec(d.ajax.dataType))d.ajax.dataType="json";a.ajax(d.ajax);return}this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+d.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){e.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:b})},clear_search:function(b){this.data.search.result.removeClass("jstree-search"),this.__callback(this.data.search.result),this.data.search.result=a()},_search_open:function(b){var c=this,d=!0,e=[],f=[];this.data.search.to_open.length&&(a.each(this.data.search.to_open,function(b,c){if(c=="#")return!0;a(c).length&&a(c).is(".jstree-closed")?e.push(c):f.push(c)}),e.length&&(this.data.search.to_open=f,a.each(e,function(a,b){c.open_node(b,function(){c._search_open(!0)})}),d=!1)),d&&this.search(this.data.search.str,!0)}}})}(jQuery),function(a){a.vakata.context={hide_on_mouseleave:!1,cnt:a("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(b,c,d,e,f,g,h){a.vakata.context.rtl=!!h;var i=a.vakata.context.parse(b),j,k;if(!i)return;a.vakata.context.vis=!0,a.vakata.context.tgt=c,a.vakata.context.par=g||c||null,a.vakata.context.data=f||null,a.vakata.context.cnt.html(i).css({visibility:"hidden",display:"block",left:0,top:0}),a.vakata.context.hide_on_mouseleave&&a.vakata.context.cnt.one("mouseleave",function(b){a.vakata.context.hide()}),j=a.vakata.context.cnt.height(),k=a.vakata.context.cnt.width(),d+k>a(document).width()&&(d=a(document).width()-(k+5),a.vakata.context.cnt.find("li > ul").addClass("right")),e+j>a(document).height()&&(e-=j+c[0].offsetHeight,a.vakata.context.cnt.find("li > ul").addClass("bottom")),a.vakata.context.cnt.css({left:d,top:e}).find("li:has(ul)").bind("mouseenter",function(b){var c=a(document).width(),d=a(document).height(),e=a(this).children("ul").show();c!==a(document).width()&&e.toggleClass("right"),d!==a(document).height()&&e.toggleClass("bottom")}).bind("mouseleave",function(b){a(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),a(document).triggerHandler("context_show.vakata")},hide:function(){a.vakata.context.vis=!1,a.vakata.context.cnt.attr("class","").css({visibility:"hidden"}),a(document).triggerHandler("context_hide.vakata")},parse:function(b,c){if(!b)return!1;var d="",e=!1,f=!0;return c||(a.vakata.context.func={}),d+="<ul>",a.each(b,function(b,c){if(!c)return!0;a.vakata.context.func[b]=c.action,!f&&c.separator_before&&(d+="<li class='vakata-separator vakata-separator-before'></li>"),f=!1,d+="<li class='"+(c._class||"")+(c._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ",c.icon&&c.icon.indexOf("/")===-1&&(d+=" class='"+c.icon+"' "),c.icon&&c.icon.indexOf("/")!==-1&&(d+=" style='background:url("+c.icon+") center center no-repeat;' "),d+=">&#160;</ins><a href='#' rel='"+b+"'>",c.submenu&&(d+="<span style='float:"+(a.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"),d+=c.label+"</a>",c.submenu&&(e=a.vakata.context.parse(c.submenu,!0),e&&(d+=e)),d+="</li>",c.separator_after&&(d+="<li class='vakata-separator vakata-separator-after'></li>",f=!0)}),d=d.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,""),d+="</ul>",a(document).triggerHandler("context_parse.vakata"),d.length>10?d:!1},exec:function(b){return a.isFunction(a.vakata.context.func[b])?(a.vakata.context.func[b].call(a.vakata.context.data,a.vakata.context.par),!0):!1}},a(function(){var b="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";a.vakata.css.add_sheet({str:b,title:"vakata"}),a.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(b){!a(this).parent().hasClass("jstree-contextmenu-disabled")&&a.vakata.context.exec(a(this).attr("rel"))?a.vakata.context.hide():a(this).blur()}).delegate("a","mouseover",function(){a.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body"),a(document).bind("mousedown",function(b){a.vakata.context.vis&&!a.contains(a.vakata.context.cnt[0],b.target)&&a.vakata.context.hide()}),typeof a.hotkeys!="undefined"&&a(document).bind("keydown","up",function(b){if(a.vakata.context.vis){var c=a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();c.length||(c=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()),c.addClass("vakata-hover"),b.stopImmediatePropagation(),b.preventDefault()}}).bind("keydown","down",function(b){if(a.vakata.context.vis){var c=a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();c.length||(c=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()),c.addClass("vakata-hover"),b.stopImmediatePropagation(),b.preventDefault()}}).bind("keydown","right",function(b){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),b.stopImmediatePropagation(),b.preventDefault())}).bind("keydown","left",function(b){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),b.stopImmediatePropagation(),b.preventDefault())}).bind("keydown","esc",function(b){a.vakata.context.hide(),b.preventDefault()}).bind("keydown","space",function(b){a.vakata.context.cnt.find(".vakata-hover").last().children("a").click(),b.preventDefault()})}),a.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",a.proxy(function(b){b.preventDefault(),a(b.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(b.currentTarget,b.pageX,b.pageY)},this)).delegate("a","click.jstree",a.proxy(function(b){this.data.contextmenu&&a.vakata.context.hide()},this)).bind("destroy.jstree",a.proxy(function(){this.data.contextmenu&&a.vakata.context.hide()},this)),a(document).bind("context_hide.vakata",a.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.is_selected(a)?this.remove():this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(b,c,d){b=this._get_node(b);var e=this.get_settings().contextmenu,f=b.children("a:visible:eq(0)"),g=!1,h=!1;e.select_node&&this.data.ui&&!this.is_selected(b)&&(this.deselect_all(),this.select_node(b,!0));if(e.show_at_node||typeof c=="undefined"||typeof d=="undefined")g=f.offset(),c=g.left,d=g.top+this.data.core.li_height;h=b.data("jstree")&&b.data("jstree").contextmenu?b.data("jstree").contextmenu:e.items,a.isFunction(h)&&(h=h.call(this,b)),this.data.contextmenu=!0,a.vakata.context.show(h,f,c,d,this,b,this._get_settings().core.rtl),this.data.themes&&a.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})}(jQuery),function(b){b.jstree.plugin("types",{__init:function(){var c=this._get_settings().types;this.data.types.attach_to=[],this.get_container().bind("init.jstree",b.proxy(function(){var a=c.types,d=c.type_attr,e="",f=this;b.each(a,function(a,c){b.each(c,function(a,b){/^(max_depth|max_children|icon|valid_children)$/.test(a)||f.data.types.attach_to.push(a)});if(!c.icon)return!0;if(c.icon.image||c.icon.position)a=="default"?e+=".jstree-"+f.get_index()+" a > .jstree-icon { ":e+=".jstree-"+f.get_index()+" li["+d+'="'+a+'"] > a > .jstree-icon { ',c.icon.image&&(e+=" background-image:url("+c.icon.image+"); "),c.icon.position?e+=" background-position:"+c.icon.position+"; ":e+=" background-position:0 0; ",e+="} "}),e!==""&&b.vakata.css.add_sheet({str:e,title:"jstree-types"})},this)).bind("before.jstree",b.proxy(function(a,c){var d,e,f=this._get_settings().types.use_data?this._get_node(c.args[0]):!1,g=f&&f!==-1&&f.length?f.data("jstree"):!1;if(g&&g.types&&g.types[c.func]===!1)return a.stopImmediatePropagation(),!1;if(b.inArray(c.func,this.data.types.attach_to)!==-1){if(!c.args[0]||!c.args[0].tagName&&!c.args[0].jquery)return;d=this._get_settings().types.types,e=this._get_type(c.args[0]);if((d[e]&&typeof d[e][c.func]!="undefined"||d["default"]&&typeof d["default"][c.func]!="undefined")&&this._check(c.func,c.args[0])===!1)return a.stopImmediatePropagation(),!1}},this)),a&&this.get_container().bind("load_node.jstree set_type.jstree",b.proxy(function(a,c){var d=c&&c.rslt&&c.rslt.obj&&c.rslt.obj!==-1?this._get_node(c.rslt.obj).parent():this.get_container_ul(),e=!1,f=this._get_settings().types;b.each(f.types,function(a,b){b.icon&&(b.icon.image||b.icon.position)&&(e=a==="default"?d.find("li > a > .jstree-icon"):d.find("li["+f.type_attr+"='"+a+"'] > a > .jstree-icon"),b.icon.image&&e.css("backgroundImage","url("+b.icon.image+")"),e.css("backgroundPosition",b.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(a,b){b.type&&this._get_settings().types.use_data&&this.set_type(b.type,a)},_get_type:function(a){return a=this._get_node(a),!a||!a.length?!1:a.attr(this._get_settings().types.type_attr)||"default"},set_type:function(a,b){b=this._get_node(b);var c=!b.length||!a?!1:b.attr(this._get_settings().types.type_attr,a);return c&&this.__callback({obj:b,type:a}),c},_check:function(a,c,d){c=this._get_node(c);var e=!1,f=this._get_type(c),g=0,h=this,i=this._get_settings().types,j=!1;if(c===-1){if(!i[a])return;e=i[a]}else{if(f===!1)return;j=i.use_data?c.data("jstree"):!1,j&&j.types&&typeof j.types[a]!="undefined"?e=j.types[a]:!i.types[f]||typeof i.types[f][a]=="undefined"?!!i.types["default"]&&typeof i.types["default"][a]!="undefined"&&(e=i.types["default"][a]):e=i.types[f][a]}return b.isFunction(e)&&(e=e.call(this,c)),a==="max_depth"&&c!==-1&&d!==!1&&i.max_depth!==-2&&e!==0&&c.children("a:eq(0)").parentsUntil(".jstree","li").each(function(b){if(i.max_depth!==-1&&i.max_depth-(b+1)<=0)return e=0,!1;g=b===0?e:h._check(a,this,!1);if(g!==-1&&g-(b+1)<=0)return e=0,!1;g>=0&&(g-(b+1)<e||e<0)&&(e=g-(b+1)),i.max_depth>=0&&(i.max_depth-(b+1)<e||e<0)&&(e=i.max_depth-(b+1))}),e},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),c=a.rt._get_settings().types,d=a.rt._check("max_children",a.cr),e=a.rt._check("max_depth",a.cr),f=a.rt._check("valid_children",a.cr),g=0,h=1,i;if(f==="none")return!1;if(b.isArray(f)&&a.ot&&a.ot._get_type){a.o.each(function(){if(b.inArray(a.ot._get_type(this),f)===-1)return h=!1,!1});if(h===!1)return!1}if(c.max_children!==-2&&d!==-1){g=a.cr===-1?this.get_container().find("> ul > li").not(a.o).length:a.cr.find("> ul > li").not(a.o).length;if(g+a.o.length>d)return!1}if(c.max_depth!==-2&&e!==-1){h=0;if(e===0)return!1;if(typeof a.o.d=="undefined"){i=a.o;while(i.length>0)i=i.find("> ul > li"),h++;a.o.d=h}if(e-a.o.d<0)return!1}return!0},create_node:function(a,c,d,e,f,g){if(!g&&(f||this._is_loaded(a))){var h=typeof c=="string"&&c.match(/^before|after$/i)&&a!==-1?this._get_parent(a):this._get_node(a),i=this._get_settings().types,j=this._check("max_children",h),k=this._check("max_depth",h),l=this._check("valid_children",h),m;typeof d=="string"&&(d={data:d}),d||(d={});if(l==="none")return!1;if(b.isArray(l))if(!d.attr||!d.attr[i.type_attr])d.attr||(d.attr={}),d.attr[i.type_attr]=l[0];else if(b.inArray(d.attr[i.type_attr],l)===-1)return!1;if(i.max_children!==-2&&j!==-1){m=h===-1?this.get_container().find("> ul > li").length:h.find("> ul > li").length;if(m+1>j)return!1}if(i.max_depth!==-2&&k!==-1&&k-1<0)return!1}return this.__call_old(!0,a,c,d,e,f,g)}}})}(jQuery),function(a){a.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_html(a,function(){d.__callback({obj:d._get_node(a)}),b.call(this)},c)},_is_loaded:function(b){return b=this._get_node(b),b==-1||!b||!this._get_settings().html_data.ajax&&!a.isFunction(this._get_settings().html_data.data)||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").size()>0},load_node_html:function(b,c,d){var e,f=this.get_settings().html_data,g=function(){},h=function(){};b=this._get_node(b);if(b&&b!==-1){if(b.data("jstree_is_loading"))return;b.data("jstree_is_loading",!0)}switch(!0){case a.isFunction(f.data):f.data.call(this,b,a.proxy(function(d){d&&d!==""&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")!==""?(d=a(d),d.is("ul")||(d=a("<ul />").append(d)),b==-1||!b?this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(b.children("a.jstree-loading").removeClass("jstree-loading"),b.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),b.removeData("jstree_is_loading")),this.clean_node(b),c&&c.call(this)):b&&b!==-1?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(b),c&&c.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this))},this));break;case!f.data&&!f.ajax:if(!b||b==-1)this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();c&&c.call(this);break;case!!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!b||b===-1):if(!b||b==-1)e=a(f.data),e.is("ul")||(e=a("<ul />").append(e)),this.get_container().children("ul").empty().append(e.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();c&&c.call(this);break;case!f.data&&!!f.ajax||!!f.data&&!!f.ajax&&b&&b!==-1:b=this._get_node(b),g=function(a,c,e){var g=this.get_settings().html_data.ajax.error;g&&g.call(this,a,c,e),b!=-1&&b.length?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),c==="success"&&f.correct_state&&this.correct_state(b)):c==="success"&&f.correct_state&&this.get_container().children("ul").empty(),d&&d.call(this)},h=function(d,e,h){var i=this.get_settings().html_data.ajax.success;i&&(d=i.call(this,d,e,h)||d);if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")return g.call(this,h,e,"");d?(d=a(d),d.is("ul")||(d=a("<ul />").append(d)),b==-1||!b?this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(b.children("a.jstree-loading").removeClass("jstree-loading"),b.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),b.removeData("jstree_is_loading")),this.clean_node(b),c&&c.call(this)):b&&b!==-1?(b.children("a.jstree-loading").removeClass("jstree-loading"),b.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(b),c&&c.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this))},f.ajax.context=this,f.ajax.error=g,f.ajax.success=h,f.ajax.dataType||(f.ajax.dataType="html"),a.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,b)),a.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,b)),a.ajax(f.ajax)}}}}),a.jstree.defaults.plugins.push("html_data")}(jQuery),function(a){a.jstree.plugin("themeroller",{__init:function(){var b=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(c){a(c.currentTarget).hasClass("jstree-loading")||a(this).addClass(b.item_h)}).delegate("a","mouseleave.jstree",function(){a(this).removeClass(b.item_h)}).bind("init.jstree",a.proxy(function(a,b){b.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh"),this._themeroller(b.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",a.proxy(function(a){this._themeroller()},this)).bind("close_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("delete_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.parent)},this)).bind("correct_state.jstree",a.proxy(function(a,c){c.rslt.obj.children("ins.jstree-icon").removeClass(b.opened+" "+b.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_open+" "+b.item_clsd).addClass(b.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",a.proxy(function(a,c){c.rslt.obj.children("a").addClass(b.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",a.proxy(function(a,c){this.get_container().find("a."+b.item_a).removeClass(b.item_a).end().find("a.jstree-clicked").addClass(b.item_a)},this)).bind("dehover_node.jstree",a.proxy(function(a,c){c.rslt.obj.children("a").removeClass(b.item_h)},this)).bind("hover_node.jstree",a.proxy(function(a,c){this.get_container().find("a."+b.item_h).not(c.rslt.obj).removeClass(b.item_h),c.rslt.obj.children("a").addClass(b.item_h)},this)).bind("move_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.o),this._themeroller(b.rslt.op)},this))},__destroy:function(){var b=this._get_settings().themeroller,c=["ui-icon"];a.each(b,function(a,b){b=b.split(" "),b.length&&(c=c.concat(b))}),this.get_container().removeClass("ui-widget-content").find("."+c.join(", .")).removeClass(c.join(" "))},_fn:{_themeroller:function(a){var b=this._get_settings().themeroller;a=!a||a==-1?this.get_container_ul():this._get_node(a).parent(),a.find("li.jstree-closed").children("ins.jstree-icon").removeClass(b.opened).addClass("ui-icon "+b.closed).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_leaf+" "+b.item_open).addClass(b.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(b.closed).addClass("ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_leaf+" "+b.item_clsd).addClass(b.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(b.closed+" ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_clsd+" "+b.item_open).addClass(b.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}}),a(function(){var b=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";a.vakata.css.add_sheet({str:b,title:"jstree"})})}(jQuery),function(a){a.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",a.proxy(function(b,c){var d=[],e=!0,f,g;c.func=="move_node"&&c.args[4]===!0&&c.args[0].o&&c.args[0].o.length&&(c.args[0].o.children("a").each(function(){d.push(a(this).text().replace(/^\s+/g,""))}),e=this._check_unique(d,c.args[0].np.find("> ul > li").not(c.args[0].o),"move_node"));if(c.func=="create_node")if(c.args[4]||this._is_loaded(c.args[0])){f=this._get_node(c.args[0]);if(c.args[1]&&(c.args[1]==="before"||c.args[1]==="after")){f=this._get_parent(c.args[0]);if(!f||f===-1)f=this.get_container()}typeof c.args[2]=="string"?d.push(c.args[2]):!c.args[2]||!c.args[2].data?d.push(this._get_string("new_node")):d.push(c.args[2].data),e=this._check_unique(d,f.find("> ul > li"),"create_node")}if(c.func=="rename_node"){d.push(c.args[1]),g=this._get_node(c.args[0]),f=this._get_parent(g);if(!f||f===-1)f=this.get_container();e=this._check_unique(d,f.find("> ul > li").not(g),"rename_node")}if(!e)return b.stopPropagation(),!1},this))},defaults:{error_callback:a.noop},_fn:{_check_unique:function(b,c,d){var e=[];return c.children("a").each(function(){e.push(a(this).text().replace(/^\s+/g,""))}),!e.length||!b.length?!0:(e=e.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),e.length+b.length!=e.concat(b).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?(this._get_settings().unique.error_callback.call(null,b,c,d),!1):!0)},check_move:function(){if(!this.__call_old())return!1;var b=this._get_move(),c=[];return b.o&&b.o.length?(b.o.children("a").each(function(){c.push(a(this).text().replace(/^\s+/g,""))}),this._check_unique(c,b.np.find("> ul > li").not(b.o),"check_move")):!0}}})}(jQuery),function(d){d.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1,this.data.wholerow.to=!1,this.get_container().bind("init.jstree",d.proxy(function(a,b){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",d.proxy(function(a,b){this._prepare_wholerow_span(b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",d.proxy(function(a,b){this.data.to&&clearTimeout(this.data.to),this.data.to=setTimeout(function(a,b){return function(){a._prepare_wholerow_ul(b)}}(this,b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",d.proxy(function(a,b){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",d.proxy(function(a,b){b.rslt.obj.each(function(){var a=b.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((d(this).offset().top-b.inst.get_container().offset().top+b.inst.get_container
()[0].scrollTop)/b.inst.data.core.li_height,10)+")");a.children("a").attr("class",b.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",d.proxy(function(a,b){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));if(a.type==="hover_node"){var c=this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((b.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");c.children("a").attr("class",b.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(a){var b=d(a.currentTarget);if(a.target.tagName==="A"||a.target.tagName==="INS"&&b.closest("li").is(".jstree-open, .jstree-closed"))return;b.closest("li").children("a:visible:eq(0)").click(),a.stopImmediatePropagation()}).delegate("li","mouseover.jstree",d.proxy(function(a){return a.stopImmediatePropagation(),d(a.currentTarget).children(".jstree-hovered, .jstree-clicked").length?!1:(this.hover_node(a.currentTarget),!1)},this)).delegate("li","mouseleave.jstree",d.proxy(function(a){if(d(a.currentTarget).children("a").hasClass("jstree-hovered").length)return;this.dehover_node(a.currentTarget)},this)),(b||a)&&d.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove(),this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(a){a=!a||a==-1?this.get_container().find("> ul > li"):this._get_node(a);if(a===!1)return;a.each(function(){d(this).find("li").andSelf().each(function(){var a=d(this);if(a.children(".jstree-wholerow-span").length)return!0;a.prepend("<span class='jstree-wholerow-span' style='width:"+a.parentsUntil(".jstree","li").length*18+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var a=this.get_container().children("ul").eq(0),c=a.html();a.addClass("jstree-wholerow-real"),this.data.wholerow.last_html!==c&&(this.data.wholerow.last_html=c,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(a.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(a.parent()[0].scrollWidth).css("top",(a.height()+(b?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}}),d(function(){var e=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";c&&(e+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } ");if(b||a)e+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";d.vakata.css.add_sheet({str:e,title:"jstree"})})}(jQuery),function(a){var b=["getChildren","getChildrenCount","getAttr","getName","getProps"],c=function(b,c){var d=!0;return b=b||{},c=[].concat(c),a.each(c,function(c,e){if(!a.isFunction(b[e]))return d=!1,!1}),d};a.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(d,e){var f=d==-1?this._get_settings().model.object:d.data("jstree_model");if(!c(f,b))return e.call(null,!1);this._get_settings().model.async?f.getChildren(a.proxy(function(a){this.model_done(a,e)},this)):this.model_done(f.getChildren(),e)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(b,c){var d=[],e=this._get_settings(),f=this;a.isArray(b)||(b=[b]),a.each(b,function(b,c){var g=c.getProps()||{};g.attr=c.getAttr()||{},c.getChildrenCount()&&(g.state="closed"),g.data=c.getName(),a.isArray(g.data)||(g.data=[g.data]),f.data.types&&a.isFunction(c.getType)&&(g.attr[e.types.type_attr]=c.getType()),g.attr.id&&e.model.id_prefix&&(g.attr.id=e.model.id_prefix+g.attr.id),g.metadata||(g.metadata={}),g.metadata.jstree_model=c,d.push(g)}),c.call(null,d)}}})}(jQuery)}(),define("thirdparty/jstree_pre1.0_fix_1/jquery.jstree",function(){}),define("Async",["require","exports","module"],function(a,b,c){function d(a,b,c){var d=[],e=new $.Deferred;if(a.length===0)e.resolve();else{var f=0,g=!1;a.forEach(function(h,i){var j=b(h,i);d.push(j),j.fail(function(){c?e.reject():g=!0}),j.always(function(){f++,f===a.length&&(g?e.reject():e.resolve())})})}return e.promise()}function e(a,b,c){function f(g){if(g>=a.length){e?d.reject():d.resolve();return}var h=b(a[g],g);h.done(function(){f(g+1)}),h.fail(function(){c?d.reject():(e=!0,f(g+1))})}var d=new $.Deferred,e=!1;return f(0),d.promise()}function f(a,b){var c=[],e=new $.Deferred,f=d(a,function(a,d){var e=b(a,d);return e.fail(function(b){c.push({item:a,error:b})}),e},!1);return f.done(function(){e.resolve()}).fail(function(){e.reject(c)}),e.promise()}function h(a,b){var c=new $.Deferred,d=setTimeout(function(){c.reject(g)},b);return a.always(function(){clearTimeout(d)}),a.pipe(c.resolve,c.reject),c.promise()}"use strict";var g={};b.doInParallel=d,b.doSequentially=e,b.doInParallel_aggregateErrors=f,b.withTimeout=h,b.ERROR_TIMEOUT=g}),define("NativeFileSystem",["require","exports","module","Async"],function(a,b,c){"use strict";var d=a("Async"),e={ASYNC_TIMEOUT:2e3,showOpenDialog:function(a,b,c,d,f,g,h){if(!g)return;var i=brackets.fs.showOpenDialog(a,b,c,d,f,function(a,b){a?h&&h(e._nativeToFileError(a)):g(b)})},requestNativeFileSystem:function(a,b,c){brackets.fs.stat(a,function(d,f){if(!d){var g=new e.DirectoryEntry(a);b(g)}else c&&c(e._nativeToFileError(d))})},_nativeToFileError:function(a){var b;switch(a){case brackets.fs.ERR_UNKNOWN:case brackets.fs.ERR_INVALID_PARAMS:b=FileError.SECURITY_ERR;break;case brackets.fs.ERR_NOT_FOUND:b=FileError.NOT_FOUND_ERR;break;case brackets.fs.ERR_CANT_READ:b=FileError.NOT_READABLE_ERR;break;case brackets.fs.ERR_UNSUPPORTED_ENCODING:b=FileError.SECURITY_ERR;break;case brackets.fs.ERR_CANT_WRITE:b=FileError.NO_MODIFICATION_ALLOWED_ERR;break;case brackets.fs.ERR_OUT_OF_SPACE:b=FileError.QUOTA_EXCEEDED_ERR;break;case brackets.fs.PATH_EXISTS_ERR:b=FileError.PATH_EXISTS_ERR;break;default:b=FileError.SECURITY_ERR}return new e.FileError(b)}};e.Entry=function(a,b){this.isDirectory=b,this.isFile=!b,a&&b&&a.charAt(a.length-1)!=="/"&&(a=a.concat("/")),this.fullPath=a,this.name=null;if(a){var c=a.split("/");while(!this.name&&c.length)this.name=c.pop()}this.filesystem=null},e.Entry.prototype.moveTo=function(a,b,c,d){},e.Entry.prototype.copyTo=function(a,b,c,d){},e.Entry.prototype.toURL=function(a){},e.Entry.prototype.remove=function(a,b){},e.Entry.prototype.getParent=function(a,b){},e.Entry.prototype.getMetadata=function(a,b){brackets.fs.stat(this.fullPath,function(c,d){if(c===brackets.fs.NO_ERROR){var f=new e.Metadata(d.mtime);a(f)}else b(e._nativeToFileError(c))})},e.Metadata=function(a){this.modificationTime=a},e.FileEntry=function(a){e.Entry.call(this,a,!1)},e.FileEntry.prototype=new e.Entry,e.FileEntry.prototype.createWriter=function(a,b){var c=this,d=function(a){e.FileSaver.call(this,a),this._length=0,this._position=0};d.prototype.length=function(){return this._length},d.prototype.position=function(){return this._position},d.prototype.write=function(a){if(a===null||a===undefined)throw new Error;if(this.readyState===e.FileSaver.WRITING)throw new e.FileException(e.FileException.INVALID_STATE_ERR);this._readyState=e.FileSaver.WRITING,this.onwritestart&&this.onwritestart();var b=this;brackets.fs.writeFile(c.fullPath,a,"utf8",function(a){if(a!==brackets.fs.NO_ERROR&&b.onerror){var c=e._nativeToFileError(a);b.onerror(c)}b._readyState=e.FileSaver.DONE,b.onwrite&&b.onwrite(),b.onwriteend&&b.onwriteend()})},d.prototype.seek=function(a){},d.prototype.truncate=function(a){};var f=new d,g=new $.Deferred;brackets.fs.readFile(c.fullPath,"utf8",function(a,b){a!==brackets.fs.ERR_NOT_FOUND&&(f._err=a),b&&(f._length=b.length),g.resolve()}),g.done(function(){f._err&&b!==undefined?b(e._nativeToFileError(f._err)):a!==undefined&&a(f)})},e.FileEntry.prototype.file=function(a,b){var c=new e.File(this);a(c)},e.FileException=function(a){this.code=a||0},Object.defineProperties(e.FileException,{NOT_FOUND_ERR:{value:1,writable:!1},SECURITY_ERR:{value:2,writable:!1},ABORT_ERR:{value:3,writable:!1},NOT_READABLE_ERR:{value:4,writable:!1},ENCODING_ERR:{value:5,writable:!1},NO_MODIFICATION_ALLOWED_ERR:{value:6,writable:!1},INVALID_STATE_ERR:{value:7,writable:!1},SYNTAX_ERR:{value:8,writable:!1},QUOTA_EXCEEDED_ERR:{value:10,writable:!1}}),e.FileSaver=function(a){this._data=a,this._readyState=e.FileSaver.INIT,this._error=null},Object.defineProperties(e.FileSaver,{INIT:{value:1,writable:!1},WRITING:{value:2,writable:!1},DONE:{value:3,writable:!1}}),e.FileSaver.prototype.readyState=function(){return this._readyState},e.FileSaver.prototype.abort=function(){if(this._readyState===e.FileSaver.INIT||this._readyState===e.FileSaver.DONE)return;this._error=new e.FileError(FileError.ABORT_ERR),this._readyState=e.FileSaver.DONE},e.DirectoryEntry=function(a){e.Entry.call(this,a,!0)},e.DirectoryEntry.prototype=new e.Entry,e.DirectoryEntry.prototype.getDirectory=function(a,b,c,d){},e.DirectoryEntry.prototype.removeRecursively=function(a,b){},e.DirectoryEntry.prototype.createReader=function(){var a=new e.DirectoryReader;return a._directory=this,a},e.DirectoryEntry.prototype.getFile=function(a,b,c,d){function g(a){return a.indexOf(":")!==-1?!1:a[0]!=="/"}var f=a;g(a)&&(f=this.fullPath+a);var h=function(){c&&c(new e.FileEntry(f))},i=function(a){d&&d(e._nativeToFileError(a))};brackets.fs.stat(f,function(a,c){if(a===brackets.fs.NO_ERROR){if(c.isDirectory()){d&&d(new e.FileError(FileError.TYPE_MISMATCH_ERR));return}if(b.create&&b.exclusive){d&&d(new e.FileError(FileError.PATH_EXISTS_ERR));return}h()}else if(a===brackets.fs.ERR_NOT_FOUND){if(b.create){brackets.fs.writeFile(f,"","utf8",function(a){a?i(a):h()});return}d&&d(new e.FileError(FileError.NOT_FOUND_ERR))}else i(a)})},e.DirectoryReader=function(){},e.DirectoryReader.prototype.readEntries=function(a,b){var c=this._directory.fullPath;brackets.fs.readdir(c,function(f,g){if(!f){var h=[],i=null,j=d.doInParallel(g,function(a,b){var d=new $.Deferred,f=c+g[b];return brackets.fs.stat(f,function(a,c){a?(i=e._nativeToFileError(a),d.reject(i)):(c.isDirectory()?h[b]=new e.DirectoryEntry(f):c.isFile()?h[b]=new e.FileEntry(f):h[b]=null,d.resolve())}),d},!0),k=d.withTimeout(j,e.ASYNC_TIMEOUT);k.then(function(){var b=[],c;for(c=0;c<h.length;c++)h[c]&&b.push(h[c]);a(b)},function(a){a===d.ERROR_TIMEOUT?a=new e.FileError(FileError.SECURITY_ERR):a=i,b&&b(a)})}else b(e._nativeToFileError(f))})},e.FileReader=function(){this.EMPTY=0,this.LOADING=1,this.DONE=2,this.readyState=this.EMPTY,this.onloadstart=null,this.onprogress=null,this.onload=null,this.onabort=null,this.onerror=null,this.onloadend=null},e.FileReader.prototype.readAsArrayBuffer=function(a){},e.FileReader.prototype.readAsBinaryString=function(a){},e.FileReader.prototype.readAsDataURL=function(a){},e.FileReader.prototype.abort=function(){},e.FileReader.prototype.readAsText=function(a,b){var c=this;b||(b="utf-8");if(this.readyState===this.LOADING)throw new InvalidateStateError;this.readyState=this.LOADING,this.onloadstart&&this.onloadstart(),brackets.fs.readFile(a._fullPath,b,function(a,b){var d={loaded:0,total:0};d.target=c,c.result=b,c.error=e._nativeToFileError(a),a?(c.readyState=c.DONE,c.onerror&&c.onerror(d)):(c.readyState=c.DONE,d.loaded=1,d.total=1,c.onprogress&&c.onprogress(d),c.onload&&c.onload(d),c.onloadend&&c.onloadend())})},e.Blob=function(a){this._fullPath=a,this.size=0,this.type=null},e.Blob.prototype.slice=function(a,b,c){},e.File=function(a){e.Blob.call(this,a.fullPath),this.name="",this.lastModifiedDate=null},e.FileError=function(a){this.code=a||0},b.NativeFileSystem=e}),define("Dialogs",["require","exports","module"],function(a,b,c){function l(a,b){a.data("buttonId",b),a.modal(!0).hide()}function m(a,b){return a.find("[data-button-id='"+b+"']")}function o(a,b,c,e){var f=$.Deferred(),g=$("."+a+".template").clone().removeClass("template").addClass("instance").appendTo(document.body);$(".dialog-title",g).html(b),$(".dialog-message",g).html(c);var h=n.bind(g);return g.one("hidden",function(){var a=g.data("buttonId");a||(a=d),setTimeout(function(){f.resolve(a)},0),g.remove(),document.body.removeEventListener("keydown",h,!0)}).one("shown",function(){var a=g.find(".primary");a&&a.focus(),document.body.addEventListener("keydown",h,!0)}),g.one("click",".dialog-button",function(a){l(g,$(this).attr("data-button-id"))}),g.modal({backdrop:"static",show:!0,keyboard:!0}),f}function p(a){$("."+a+".instance").each(function(a){a.is(":visible")&&l(a,g)})}"use strict";var d="cancel",e="ok",f="dontsave",g="_canceled",h="error-dialog",i="save-close-dialog",j="ext-changed-dialog",k="ext-deleted-dialog",n=function(a){var b=this.find(".primary"),c=null,e=String.fromCharCode(a.which);a.which===13?b&&(c=b.attr("data-button-id")):a.which===32?this.find(".dialog-button:focus").click():brackets.platform==="mac"?a.metaKey&&e==="D"?m(this,f)&&(c=f):a.metaKey&&a.which===190&&(c=d):e==="N"&&m(this,f)&&(c=f);if(c)l(this,c);else if(!$.contains(this.get(0),a.target)||this.filter(":input").length===0)a.stopPropagation(),a.preventDefault()};b.DIALOG_BTN_CANCEL=d,b.DIALOG_BTN_OK=e,b.DIALOG_BTN_DONTSAVE=f,b.DIALOG_CANCELED=g,b.DIALOG_ID_ERROR=h,b.DIALOG_ID_SAVE_CLOSE=i,b.DIALOG_ID_EXT_CHANGED=j,b.DIALOG_ID_EXT_DELETED=k,b.showModalDialog=o,b.cancelModalDialogIfOpen=p}),define("strings",["require","exports","module"],function(a,b,c){function d(a){var b=[].slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return typeof b[c]!="undefined"?b[c]:a})}"use strict",b.format=d,b.GENERIC_ERROR="(error {0})",b.NOT_FOUND_ERR="The file could not be found.",b.NOT_READABLE_ERR="The file could not be read.",b.NO_MODIFICATION_ALLOWED_ERR="The target directory cannot be modified.",b.NO_MODIFICATION_ALLOWED_ERR_FILE="The permissions do not allow you to make modifications.",b.ERROR_LOADING_PROJECT="Error loading project",b.OPEN_DIALOG_ERROR="An error occurred when showing the open file dialog. (error {0})",b.REQUEST_NATIVE_FILE_SYSTEM_ERROR='An error occurred when trying to load the directory "{0}". (error {1})',b.READ_DIRECTORY_ENTRIES_ERROR='An error occurred when reading the contents of the directory "{0}". (error {1})',b.ERROR_OPENING_FILE_TITLE="Error opening file",b.ERROR_OPENING_FILE='An error occurred when trying to open the file "{0}". {1}',b.ERROR_RELOADING_FILE_TITLE="Error reloading changes from disk",b.ERROR_RELOADING_FILE='An error occurred when trying to reload the file "{0}". {1}',b.ERROR_SAVING_FILE_TITLE="Error saving file",b.ERROR_SAVING_FILE='An error occurred when trying to save the file "{0}". {1}',b.INVALID_FILENAME_TITLE="Invalid file name",b.INVALID_FILENAME_MESSAGE="Filenames cannot contain the following characters: /?*:;{}<>\\|",b.FILE_ALREADY_EXISTS='The file "{0}" already exists.',b.ERROR_CREATING_FILE_TITLE="Error creating file",b.ERROR_CREATING_FILE='An error occurred when trying to create the file "{0}". {1}',b.ERROR_MAX_FILES_TITLE="Error Indexing Files",b.ERROR_MAX_FILES="The maximum number of files have been indexed. Actions that look up files in the index may function incorrectly.",b.ERROR_PARSE_TITLE="Error parsing CSS file(s):",b.SAVE_CLOSE_TITLE="Save Changes",b.SAVE_CLOSE_MESSAGE='Do you want to save the changes you made in the document "{0}"?',b.SAVE_CLOSE_MULTI_MESSAGE="Do you want to save your changes to the following files?",b.EXT_MODIFIED_TITLE="External Changes",b.EXT_MODIFIED_MESSAGE="<b>{0}</b> has been modified on disk, but also has unsaved changes in Brackets.<br><br>Which version do you want to keep?",b.EXT_DELETED_MESSAGE="<b>{0}</b> has been deleted on disk, but has unsaved changes in Brackets.<br><br>Do you want to keep your changes?",b.OPEN_FILE="Open File"}),define("ViewUtils",["require","exports","module"],function(a,b,c){function d(a){var b=a.children();b.width("");var c=a[0].scrollWidth-parseInt(a.css("paddingLeft"),10)-parseInt(a.css("paddingRight"),10);b.width(c)}"use strict",b.updateChildrenToParentScrollwidth=d}),define("FileUtils",["require","exports","module","NativeFileSystem","Dialogs","strings"],function(a,b,c){function g(a){var b=new $.Deferred,c=new d.FileReader;return a.file(function(d){c.onload=function(c){var d=c.target.result;a.getMetadata(function(a){b.resolve(d,a.modificationTime)},function(a){b.reject(a)})},c.onerror=function(a){b.reject(a.target.error)},c.readAsText(d,"utf8")}),b.promise()}function h(a,b){var c=new $.Deferred;return a.createWriter(function(a){a.onwriteend=function(a){c.resolve()},a.onerror=function(a){c.reject(a)},a.write(b)}),c.promise()}function k(){return brackets.platform==="win"?i:j}function l(a){var b=a.substr(0,1e3),c=/\r\n/.test(b),d=/[^\r]\n/.test(b);return c&&d||!c&&!d?null:c?i:j}function m(a){var b;return a===FileError.NOT_FOUND_ERR?b=f.NOT_FOUND_ERR:a===FileError.NOT_READABLE_ERR?b=f.NOT_READABLE_ERR:a===FileError.NO_MODIFICATION_ALLOWED_ERR?b=f.NO_MODIFICATION_ALLOWED_ERR_FILE:b=f.format(f.GENERIC_ERROR,a),b}function n(a,b){return e.showModalDialog(e.DIALOG_ID_ERROR,f.ERROR_OPENING_FILE_TITLE,f.format(f.ERROR_OPENING_FILE,b,m(a)))}function o(a){return a.indexOf(":")!==-1&&a[0]==="/"?a.substr(1):a}"use strict";var d=a("NativeFileSystem").NativeFileSystem,e=a("Dialogs"),f=a("strings"),i="CRLF",j="LF";b.LINE_ENDINGS_CRLF=i,b.LINE_ENDINGS_LF=j,b.getPlatformLineEndings=k,b.sniffLineEndings=l,b.showFileOpenError=n,b.getFileErrorString=m,b.readAsText=g,b.writeText=h,b.convertToNativePath=o}),CodeMirror.defineMode("xml",function(a,b){function h(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if(d=="<"){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(k("atom","]]>")):null:a.match("--")?c(k("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(l(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=k("meta","?>"),"meta";g=a.eat("/")?"closeTag":"openTag",a.eatSpace(),f="";var e;while(e=a.eat(/[^\s\u00a0=<>\"\'\/?]/))f+=e;return b.tokenize=i,"tag"}if(d=="&"){var h;return a.eat("#")?a.eat("x")?h=a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):h=a.eatWhile(/[\d]/)&&a.eat(";"):h=a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),h?"atom":"error"}return a.eatWhile(/[^&<]/),null}function i(a,b){var c=a.next();return c==">"||c=="/"&&a.eat(">")?(b.tokenize=h,g=c==">"?"endTag":"selfcloseTag","tag"):c=="="?(g="equals",null):/[\'\"]/.test(c)?(b.tokenize=j(c),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function j(a){return function(b,c){while(!b.eol())if(b.next()==a){c.tokenize=i;break}return"string"}}function k(a,b){return function(c,d){while(!c.eol()){if(c.match(b)){d.tokenize=h;break}c.next()}return a}}function l(a){return function(b,c){var d;while((d=b.next())!=null){if(d=="<")return c.tokenize=l(a+1),c.tokenize(b,c);if(d==">"){if(a==1){c.tokenize=h;break}return c.tokenize=l(a-1),c.tokenize(b,c)}}return"meta"}}function o(){for(var a=arguments.length-1;a>=0;a--)m.cc.push(arguments[a])}function p(){return o.apply(null,arguments),!0}function q(a,b){var c=d.doNotIndent.hasOwnProperty(a)||m.context&&m.context.noIndent;m.context={prev:m.context,tagName:a,indent:m.indented,startOfLine:b,noIndent:c}}function r(){m.context&&(m.context=m.context.prev)}function s(a){if(a=="openTag")return m.tagName=f,p(v,t(m.startOfLine));if(a=="closeTag"){var b=!1;return m.context?b=m.context.tagName!=f:b=!0,b&&(n="error"),p(u(b))}return p()}function t(a){return function(b){return b=="selfcloseTag"||b=="endTag"&&d.autoSelfClosers.hasOwnProperty(m.tagName.toLowerCase())?p():b=="endTag"?(q(m.tagName,a),p()):p()}}function u(a){return function(b){return a&&(n="error"),b=="endTag"?(r(),p()):(n="error",p(arguments.callee))}}function v(a){return a=="word"?(n="attribute",p(v)):a=="equals"?p(w,v):a=="string"?(n="error",p(v)):o()}function w(a){return a=="word"&&d.allowUnquoted?(n="string",p()):a=="string"?p(x):o()}function x(a){return a=="string"?p(x):o()}var c=a.indentUnit,d=b.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},e=b.alignCDATA,f,g,m,n;return{startState:function(){return{tokenize:h,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,b){a.sol()&&(b.startOfLine=!0,b.indented=a.indentation());if(a.eatSpace())return null;n=g=f=null;var c=b.tokenize(a,b);b.type=g;if((c||g)&&c!="comment"){m=b;for(;;){var d=b.cc.pop()||s;if(d(g||c))break}}return b.startOfLine=!1,n||c},indent:function(a,b,d){var f=a.context;if(a.tokenize!=i&&a.tokenize!=h||f&&f.noIndent)return d?d.match(/^(\s*)/)[0].length:0;if(e&&/<!\[CDATA\[/.test(b))return 0;f&&/^<\//.test(b)&&(f=f.prev);while(f&&!f.startOfLine)f=f.prev;return f?f.indent+c:0},compareStates:function(a,b){if(a.indented!=b.indented||a.tokenize!=b.tokenize)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),define("thirdparty/CodeMirror2/mode/xml/xml",function(){}),CodeMirror.defineMode("javascript",function(a,b){function g(a,b,c){return b.tokenize=c,c(a,b)}function h(a,b){var c=!1,d;while((d=a.next())!=null){if(d==b&&!c)return!1;c=!c&&d=="\\"}return c}function k(a,b,c){return i=a,j=c,b}function l(a,b){var c=a.next();if(c=='"'||c=="'")return g(a,b,m(c));if(/[\[\]{}\(\),;\:\.]/.test(c))return k(c);if(c=="0"&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),k("number","number");if(/\d/.test(c))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),k("number","number");if(c=="/")return a.eat("*")?g(a,b,n):a.eat("/")?(a.skipToEnd(),k("comment","comment")):b.reAllowed?(h(a,"/"),a.eatWhile(/[gimy]/),k("regexp","string-2")):(a.eatWhile(f),k("operator",null,a.current()));if(c=="#")return a.skipToEnd(),k("error","error");if(f.test(c))return a.eatWhile(f),k("operator",null,a.current());a.eatWhile(/[\w\$_]/);var d=a.current(),i=e.propertyIsEnumerable(d)&&e[d];return i&&b.kwAllowed?k(i.type,i.style,d):k("variable","variable",d)}function m(a){return function(b,c){return h(b,a)||(c.tokenize=l),k("string","string")}}function n(a,b){var c=!1,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=l;break}c=d=="*"}return k("comment","comment")}function p(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,d!=null&&(this.align=d)}function q(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function r(a,b,c,e,f){var g=a.cc;s.state=a,s.stream=f,s.marked=null,s.cc=g,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);for(;;){var h=g.length?g.pop():d?D:C;if(h(c,e)){while(g.length&&g[g.length-1].lex)g.pop()();return s.marked?s.marked:c=="variable"&&q(a,e)?"variable-2":b}}}function t(){for(var a=arguments.length-1;a>=0;a--)s.cc.push(arguments[a])}function u(){return t.apply(null,arguments),!0}function v(a){var b=s.state;if(b.context){s.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}function x(){s.state.context||(s.state.localVars=w),s.state.context={prev:s.state.context,vars:s.state.localVars}}function y(){s.state.localVars=s.state.context.vars,s.state.context=s.state.context.prev}function z(a,b){var c=function(){var c=s.state;c.lexical=new p(c.indented,s.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function A(){var a=s.state;a.lexical.prev&&(a.lexical.type==")"&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function B(a){return function(c){return c==a?u():a==";"?t():u(arguments.callee)}}function C(a){return a=="var"?u(z("vardef"),L,B(";"),A):a=="keyword a"?u(z("form"),D,C,A):a=="keyword b"?u(z("form"),C,A):a=="{"?u(z("}"),K,A):a==";"?u():a=="function"?u(R):a=="for"?u(z("form"),B("("),z(")"),N,B(")"),A,C,A):a=="variable"?u(z("stat"),G):a=="switch"?u(z("form"),D,z("}","switch"),B("{"),K,A,A):a=="case"?u(D,B(":")):a=="default"?u(B(":")):a=="catch"?u(z("form"),x,B("("),S,B(")"),C,A,y):t(z("stat"),D,B(";"),A)}function D(a){return o.hasOwnProperty(a)?u(F):a=="function"?u(R):a=="keyword c"?u(E):a=="("?u(z(")"),E,B(")"),A,F):a=="operator"?u(D):a=="["?u(z("]"),J(D,"]"),A,F):a=="{"?u(z("}"),J(I,"}"),A,F):u()}function E(a){return a.match(/[;\}\)\],]/)?t():t(D)}function F(a,b){if(a=="operator"&&/\+\+|--/.test(b))return u(F);if(a=="operator")return u(D);if(a==";")return;if(a=="(")return u(z(")"),J(D,")"),A,F);if(a==".")return u(H,F);if(a=="[")return u(z("]"),D,B("]"),A,F)}function G(a){return a==":"?u(A,C):t(F,B(";"),A)}function H(a){if(a=="variable")return s.marked="property",u()}function I(a){a=="variable"&&(s.marked="property");if(o.hasOwnProperty(a))return u(B(":"),D)}function J(a,b){function c(d){return d==","?u(a,c):d==b?u():u(B(b))}return function(e){return e==b?u():t(a,c)}}function K(a){return a=="}"?u():t(C,K)}function L(a,b){return a=="variable"?(v(b),u(M)):u()}function M(a,b){if(b=="=")return u(D,M);if(a==",")return u(L)}function N(a){return a=="var"?u(L,P):a==";"?t(P):a=="variable"?u(O):t(P)}function O(a,b){return b=="in"?u(D):u(F,P)}function P(a,b){return a==";"?u(Q):b=="in"?u(D):u(D,B(";"),Q)}function Q(a){a!=")"&&u(D)}function R(a,b){if(a=="variable")return v(b),u(R);if(a=="(")return u(z(")"),x,J(S,")"),A,C,y)}function S(a,b){if(a=="variable")return v(b),u()}var c=a.indentUnit,d=b.json,e=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"};return{"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,"undefined":f,NaN:f,Infinity:f}}(),f=/[+\-*&%=<>!?|]/,i,j,o={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},s={state:null,column:null,marked:null,cc:null},w={name:"this",next:{name:"arguments"}};return A.lex=!0,{startState:function(a){return{tokenize:l,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new p((a||0)-c,0,"block",!1),localVars:null,context:null,indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);return i=="comment"?c:(b.reAllowed=i=="operator"||i=="keyword c"||i.match(/^[\[{}\(,;:]$/),b.kwAllowed=i!=".",r(b,c,i,j,a))},indent:function(a,b){if(a.tokenize!=l)return 0;var d=b&&b.charAt(0),e=a.lexical,f=e.type,g=d==f;return f=="vardef"?e.indented+4:f=="form"&&d=="{"?e.indented:f=="stat"||f=="form"?e.indented+c:e.info=="switch"&&!g?e.indented+(/^(?:case|default)\b/.test(b)?c:2*c):e.align?e.column+(g?0:1):e.indented+(g?0:c)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),define("thirdparty/CodeMirror2/mode/javascript/javascript",function(){}),CodeMirror.defineMode("css",function(a){function d(a,b){return c=b,a}function e(a,b){var c=a.next();if(c=="@")return a.eatWhile(/[\w\\\-]/),d("meta",a.current());if(c=="/"&&a.eat("*"))return b.tokenize=f,f(a,b);if(c=="<"&&a.eat("!"))return b.tokenize=g,g(a,b);if(c!="=")return c!="~"&&c!="|"||!a.eat("=")?c=='"'||c=="'"?(b.tokenize=h(c),b.tokenize(a,b)):c=="#"?(a.eatWhile(/[\w\\\-]/),d("atom","hash")):c=="!"?(a.match(/^\s*\w*/),d("keyword","important")):/\d/.test(c)?(a.eatWhile(/[\w.%]/),d("number","unit")):/[,.+>*\/]/.test(c)?d(null,"select-op"):/[;{}:\[\]]/.test(c)?d(null,c):(a.eatWhile(/[\w\\\-]/),d("variable","variable")):d(null,"compare");d(null,"compare")}function f(a,b){var c=!1,f;while((f=a.next())!=null){if(c&&f=="/"){b.tokenize=e;break}c=f=="*"}return d("comment","comment")}function g(a,b){var c=0,f;while((f=a.next())!=null){if(c>=2&&f==">"){b.tokenize=e;break}c=f=="-"?c+1:0}return d("comment","comment")}function h(a){return function(b,c){var f=!1,g;while((g=b.next())!=null){if(g==a&&!f)break;f=!f&&g=="\\"}return f||(c.tokenize=e),d("string","string")}}var b=a.indentUnit,c;return{startState:function(a){return{tokenize:e,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var d=b.tokenize(a,b),e=b.stack[b.stack.length-1];if(c=="hash"&&e=="rule")d="atom";else if(d=="variable")if(e=="rule")d="number";else if(!e||e=="@media{")d="tag";return e=="rule"&&/^[\{\};]$/.test(c)&&b.stack.pop(),c=="{"?e=="@media"?b.stack[b.stack.length-1]="@media{":b.stack.push("{"):c=="}"?b.stack.pop():c=="@media"?b.stack.push("@media"):e=="{"&&c!="comment"&&b.stack.push("rule"),d},indent:function(a,c){var d=a.stack.length;return/^\}/.test(c)&&(d-=a.stack[a.stack.length-1]=="rule"?2:1),a.baseIndent+d*b},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),define("thirdparty/CodeMirror2/mode/css/css",function(){}),CodeMirror.defineMode("less",function(a){function d(a,b){return c=b,a}function f(a){for(var b=0;b<e.length;b++)if(a===e[b])return!0}function g(a,b){var c=a.next();if(c=="@")return a.eatWhile(/[\w\-]/),d("meta",a.current());if(c=="/"&&a.eat("*"))return b.tokenize=i,i(a,b);if(c=="<"&&a.eat("!"))return b.tokenize=j,j(a,b);if(c!="=")return c!="~"&&c!="|"||!a.eat("=")?c=='"'||c=="'"?(b.tokenize=k(c),b.tokenize(a,b)):c=="/"?a.eat("/")?(b.tokenize=h,h(a,b)):(a.eatWhile(/[\a-zA-Z0-9\-_.]/),d("number","unit")):c=="!"?(a.match(/^\s*\w*/),d("keyword","important")):/\d/.test(c)?(a.eatWhile(/[\w.%]/),d("number","unit")):/[,+>*\/]/.test(c)?d(null,"select-op"):/[;{}:\[\]()]/.test(c)?c==":"?(a.eatWhile(/[active|hover|link|visited]/),a.current().match(/[active|hover|link|visited]/)?d("tag","tag"):d(null,c)):d(null,c):c=="."?(a.eatWhile(/[\a-zA-Z0-9\-_]/),d("tag","tag")):c=="#"?(a.match(/([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/),a.current().length>1?a.current().match(/([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)!=null?d("number","unit"):(a.eatWhile(/[\w\-]/),d("atom","tag")):(a.eatWhile(/[\w\-]/),d("atom","tag"))):c=="&"?(a.eatWhile(/[\w\-]/),d(null,c)):(a.eatWhile(/[\w\\\-_.%{]/),a.eat("(")?d(null,c):a.current().match(/\-\d|\-.\d/)?d("number","unit"):f(a.current())?d("tag","tag"):d("variable","variable")):d(null,"compare");d(null,"compare")}function h(a,b){return a.skipToEnd(),b.tokenize=g,d("comment","comment")}function i(a,b){var c=!1,e;while((e=a.next())!=null){if(c&&e=="/"){b.tokenize=g;break}c=e=="*"}return d("comment","comment")}function j(a,b){var c=0,e;while((e=a.next())!=null){if(c>=2&&e==">"){b.tokenize=g;break}c=e=="-"?c+1:0}return d("comment","comment")}function k(a){return function(b,c){var e=!1,f;while((f=b.next())!=null){if(f==a&&!e)break;e=!e&&f=="\\"}return e||(c.tokenize=g),d("string","string")}}var b=a.indentUnit,c,e=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select"
,"small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];return{startState:function(a){return{tokenize:g,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var d=b.tokenize(a,b),e=b.stack[b.stack.length-1];if(c=="hash"&&e=="rule")d="atom";else if(d=="variable")if(e=="rule")d=null;else if(!e||e=="@media{")d="tag";return e=="rule"&&/^[\{\};]$/.test(c)&&b.stack.pop(),c=="{"?e=="@media"?b.stack[b.stack.length-1]="@media{":b.stack.push("{"):c=="}"?b.stack.pop():c=="@media"?b.stack.push("@media"):e=="{"&&c!="comment"&&b.stack.push("rule"),d},indent:function(a,c){var d=a.stack.length;return/^\}/.test(c)&&(d-=a.stack[a.stack.length-1]=="rule"?2:1),a.baseIndent+d*b},electricChars:"}"}}),CodeMirror.defineMIME("text/less","less"),define("thirdparty/CodeMirror2/mode/less/less",function(){}),CodeMirror.defineMode("htmlmixed",function(a,b){function g(a,b){var d=c.token(a,b.htmlState);return d=="tag"&&a.current()==">"&&b.htmlState.context&&(/^script$/i.test(b.htmlState.context.tagName)?!a.string.match(/type\s*=\s*["'].+["']/i,!1)||a.string.match(/type\s*=\s*["'](text|application)\/(java|ecma)script["']/i,!1)?(b.token=j,b.localState=e.startState(c.indent(b.htmlState,"")),b.mode="javascript"):(b.token=i,b.localState=null,b.mode=""):/^style$/i.test(b.htmlState.context.tagName)&&(b.token=k,b.localState=f.startState(c.indent(b.htmlState,"")),b.mode="css")),d}function h(a,b,c){var d=a.current(),e=d.search(b);return e>-1&&a.backUp(d.length-e),c}function i(a,b){return a.match(/^<\/\s*script\s*>/i,!1)?(b.token=g,b.curState=null,b.mode="html",g(a,b)):h(a,/<\/\s*script\s*>/,d.token(a,b.localState))}function j(a,b){return a.match(/^<\/\s*script\s*>/i,!1)?(b.token=g,b.curState=null,b.mode="html",g(a,b)):h(a,/<\/\s*script\s*>/,e.token(a,b.localState))}function k(a,b){return a.match(/^<\/\s*style\s*>/i,!1)?(b.token=g,b.localState=null,b.mode="html",g(a,b)):h(a,/<\/\s*style\s*>/,f.token(a,b.localState))}var c=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),d=CodeMirror.getMode(a,""),e=CodeMirror.getMode(a,"javascript"),f=CodeMirror.getMode(a,"css");return{startState:function(){var a=c.startState();return{token:g,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var b=CodeMirror.copyState(a.token==k?f:e,a.localState);return{token:a.token,localState:b,mode:a.mode,htmlState:CodeMirror.copyState(c,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,b){return a.token==g||/^\s*<\//.test(b)?c.indent(a.htmlState,b):a.token==j?e.indent(a.localState,b):f.indent(a.localState,b)},compareStates:function(a,b){return c.compareStates(a.htmlState,b.htmlState)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed"),define("thirdparty/CodeMirror2/mode/htmlmixed/htmlmixed",function(){}),define("EditorUtils",["require","exports","module","thirdparty/path-utils/path-utils.min","thirdparty/CodeMirror2/mode/xml/xml","thirdparty/CodeMirror2/mode/javascript/javascript","thirdparty/CodeMirror2/mode/css/css","thirdparty/CodeMirror2/mode/less/less","thirdparty/CodeMirror2/mode/htmlmixed/htmlmixed"],function(a,b,c){function d(a){var b=PathUtils.filenameExtension(a);b||(b=a),b.charAt(0)==="."&&(b=b.substr(1));switch(b){case"js":return"javascript";case"json":return{name:"javascript",json:!0};case"css":return"css";case"less":return"less";case"html":case"htm":return"htmlmixed";default:return console.log("Called EditorUtils.js _getModeFromFileExtensions with an unhandled file extension: "+b),""}}"use strict",a("thirdparty/path-utils/path-utils.min"),a("thirdparty/CodeMirror2/mode/xml/xml"),a("thirdparty/CodeMirror2/mode/javascript/javascript"),a("thirdparty/CodeMirror2/mode/css/css"),a("thirdparty/CodeMirror2/mode/less/less"),a("thirdparty/CodeMirror2/mode/htmlmixed/htmlmixed"),b.getModeFromFileExtension=d}),define("CodeHintUtils",["require","exports","module"],function(a,b,c){function g(a){if(a.pos.ch<=0||a.token.start<=0){if(a.pos.line<=0)return!1;a.pos.line--,a.pos.ch=a.editor.getLine(a.pos.line).length}else a.pos.ch=a.token.start;return a.token=a.editor.getTokenAt(a.pos),!0}function h(a){var b=a.editor.getLine(a.pos.line).length;if(a.pos.ch>=b||a.token.end>=b){if(a.pos.line===a.editor.lineCount())return!1;a.pos.line++,a.pos.ch=0}else a.pos.ch=a.token.end+1;return a.token=a.editor.getTokenAt(a.pos),!0}function i(a,b){if(!a(b))return!1;while(!b.token.className&&b.token.string.trim().length===0)if(!a(b))return!1;return!0}function j(a,b){return{editor:a,pos:b,token:a.getTokenAt(b)}}function k(a){var b=a.pos.ch-a.token.start;return b<0&&console.log("CodeHintUtils: _offsetInToken - Invalid context: the pos what not in the current token!"),b}function l(a){var b=a.token.string,c=b.charAt(0),d=b.charAt(b.length-1),e=k(a);if(b.length>1&&(c==="'"||c==='"')&&d===c)return b=b.substring(1,b.length-1),e=e-1>b.length?b.length:e-1,{val:b,offset:e};e>0&&(b=b.substring(0,e)),c=b.charAt(0);if(c==="'"||c==='"')b=b.substring(1),e--;return{val:b,offset:e}}function m(a){return a.token.state.tagName?a.token.state.tagName:a.token.state.htmlState.tagName}function n(a,b,c,d,e){return{tagName:c||"",attr:{name:d||"",value:e||""},position:{tokenType:a||"",offset:b||0}}}function o(a){var b=l(a),c=b.val,d=b.offset;if(!i(g,a)||a.token.string!=="=")return n();if(!i(g,a)||a.token.className!=="attribute")return n();var e=a.token.string,h=m(a);return n(f,d,h,e,c)}function p(a){if(a.token.className!=="attribute")return n();var b=m(a),c=a.token.string,d=k(a);if(!i(h,a)||a.token.string!=="=")return n(e,d,b,c);if(!i(h,a))return n(e,d,b,c);var f=l(a),g=f.val;return n(e,d,b,c,g)}function q(a,b){var c=$.extend(b),h=j(a._codeMirror,c),l=k(h),q,r;if(h.token.string.length>0&&h.token.string.trim().length===0){if(!g(h))return n();if(h.token.className!=="tag")return q=o(h),q.tagName?n(e,0,q.tagName):n();r=e,l=0}if(h.token.className==="tag")return h.token.string===">"||h.token.string.charAt(0)==="<"&&h.token.string.charAt(1)==="/"?n():(r||(r=d,l--),n(r,l,m(h)));if(h.token.string==="="){if(!i(g,h)||h.token.className!=="attribute")return n();r=f,l=0}return h.token.className==="attribute"?q=p(h):q=o(h),r&&q.tagName&&(q.position.tokenType=r,q.position.offset=l),q}"use strict";var d="tagName",e="attr.name",f="attr.value";b.TAG_NAME=d,b.ATTR_NAME=e,b.ATTR_VALUE=f,b.getTagInfo=q,b.createTagInfo=n}),define("KeyMap",["require","exports","module"],function(a,b,c){function d(a,b,c,d){if(!d)return console.log("KeyMap _buildKeyDescriptor() - No key provided!"),"";var e=[];return a&&e.push("Ctrl"),b&&e.push("Alt"),c&&e.push("Shift"),e.push(d),e.join("-")}function e(a){function g(b,c,d){if(!b||!c)return!1;b=b.trim().toLowerCase(),c=c.trim().toLowerCase();var e=b.length>0&&b===c;return e&&d&&console.log("KeyMap _normalizeKeyDescriptorString() - Modifier defined twice: "+a),e}var b=!1,c=!1,e=!1,f="";return a.split("-").forEach(function(h,i,j){g("ctrl",h,b)?b=!0:g("cmd",h,b)?(console.log("KeyMap _normalizeKeyDescriptorString() - Cmd getting mapped to Ctrl from: "+a),b=!0):g("alt",h,c)?c=!0:g("opt",h,c)?(console.log("KeyMap _normalizeKeyDescriptorString() - Opt getting mapped to Alt from: "+a),c=!0):g("shift",h,e)?e=!0:f.length>0?console.log("KeyMap _normalizeKeyDescriptorString() - Multiple keys defined. Using key: "+f+" from: "+a):f=h}),d(b,c,e,f)}function f(a){var b={};return Object.keys(a).forEach(function(d,f,g){var h=a[d],i=e(d);i.length===0?console.log("KeyMap _normalizeMap() - Rejecting malformed key: "+d+" (value: "+h+")"):h?b[i]?console.log("KeyMap _normalizeMap() - Rejecting key because it was defined twice: "+d+" (value: "+h+")"):(i!==d&&console.log("KeyMap _normalizeMap() - Corrected a malformed key: "+d+" (value: "+h+")"),b[i]=h):console.log("KeyMap _normalizeMap() - Rejecting key for falsy value: "+d+" (value: "+h+")")}),b}function g(a,b){var c={};return a.forEach(function(e,f,g){var h=Object.keys(e),i=h.indexOf("platform");if(i>-1){if(e.platform!==b)return;h.splice(i,1)}if(h.length!==1){console.log("KeyMap _bindingsToMap() - bindings list has unknown keys: "+a);return}var j=h[0];c[j]=e[j]}),c}function i(a){return new h(a)}function j(a){var b=a.metaKey||a.ctrlKey,c=a.altKey,e=a.shiftKey,f=String.fromCharCode(a.keyCode),g=a.originalEvent.keyIdentifier;return g&&(g.charAt(0)==="U"&&g.charAt(1)==="+"?f=String.fromCharCode(parseInt(g.substring(2),16)):f=g),d(b,c,e,f)}"use strict";var h=function(a){if(a===undefined)throw new Error("All parameters to the KeyMap constructor must be specified");this.map=f(g(a.bindings,a.platform))};b.create=i,b.translateKeyboardEvent=j}),define("Commands",["require","exports","module"],function(a,b,c){"use strict",b.FILE_OPEN="file.open",b.FILE_NEW="file.new",b.FILE_SAVE="file.save",b.FILE_CLOSE="file.close",b.FILE_CLOSE_ALL="file.close_all",b.FILE_CLOSE_WINDOW="file.close_window",b.FILE_ADD_TO_WORKING_SET="file.addToWorkingSet",b.FILE_RELOAD="file.reload",b.FILE_QUIT="file.quit",b.FILE_QUICK_NAVIGATE="file.quickNaviate",b.DEBUG_RUN_UNIT_TESTS="debug.runUnitTests",b.DEBUG_JSLINT="debug.jslint",b.DEBUG_SHOW_PERF_DATA="debug.showPerfData",b.DEBUG_NEW_BRACKETS_WINDOW="debug.newBracketsWindow"}),define("CommandManager",["require","exports","module"],function(a,b,c){function e(a,b){if(d[a])throw new Error("Attempting to register an already-registered command: "+a);d[a]=b}function f(a){var b=d[a];if(b){var c=b.apply(null,Array.prototype.slice.call(arguments,1));return c?c:(new $.Deferred).resolve()}return(new $.Deferred).reject()}"use strict";var d={};b.register=e,b.execute=f}),define("KeyBindingManager",["require","exports","module","CommandManager"],function(a,b,c){function f(a){e=a}function g(a){return e&&e.map[a]?(d.execute(e.map[a]),!0):!1}"use strict";var d=a("CommandManager"),e=null;b.installKeymap=f,b.handleKey=g}),define("PerfUtils",["require","exports","module"],function(a,b,c){function f(a){if(e[a]){console.log("Recursive tests with the same name are not supported.");return}e[a]={startTime:brackets.app.getElapsedMilliseconds()}}function g(a){var b=brackets.app.getElapsedMilliseconds();e[a]&&(b-=e[a].startTime,delete e[a]),d[a]?Array.isArray(d[a])?d[a].push(b):d[a]=[d[a],b]:d[a]=b}"use strict";var d={},e={};b.markStart=f,b.addMeasurement=g,b.perfData=d}),define("Menus",["require","exports","module","Commands","CommandManager"],function(a,b,c){function f(){$("#menu-file-new").click(function(){e.execute(d.FILE_NEW)}),$("#menu-file-open").click(function(){e.execute(d.FILE_OPEN)}),$("#menu-file-close").click(function(){e.execute(d.FILE_CLOSE)}),$("#menu-file-save").click(function(){e.execute(d.FILE_SAVE)}),$("#menu-file-quit").click(function(){e.execute(d.FILE_QUIT)}),$("#menu-debug-runtests").click(function(){e.execute(d.DEBUG_RUN_UNIT_TESTS)}),$("#menu-debug-jslint").click(function(){e.execute(d.DEBUG_JSLINT)}),$("#menu-debug-show-perf").click(function(){e.execute(d.DEBUG_SHOW_PERF_DATA)}),$("#menu-debug-new-brackets-window").click(function(){e.execute(d.DEBUG_NEW_BRACKETS_WINDOW)})}"use strict";var d=a("Commands"),e=a("CommandManager");b.init=f});var JSLINT=function(){function a(a,b){var c,d=a.length,e={};for(c=0;c<d;c+=1)e[a[c]]=b;return e}function Ib(){}function Jb(a){return z[a]||"\\u"+("0000"+a.charCodeAt().toString(16)).slice(-4)}function Kb(a){Object.keys(a).forEach(function(b){V[b]=a[b]})}function Lb(){U.safe||(U.rhino&&(Kb(_),U.rhino=!1),U.devel&&(Kb(x),U.devel=!1),U.browser&&(Kb(l),U.browser=!1),U.windows&&(Kb(ob),U.windows=!1),U.node&&(Kb(Q),U.node=!1,R=!0),U.widget&&(Kb(nb),U.widget=!1)),U.type&&(U.confusion=!0)}function Mb(a){return a||(a=T),a.number||a.string}function Nb(a,b,c){throw{name:"JSLintError",line:b,character:c,message:m.scanned_a_b.supplant({a:a,b:Math.floor(b/N.length*100)})}}function Ob(a,b,c,d,e,f){var g,h,i;return b=b||T,h=b.line||0,g=b.from||0,i={id:"(error)",raw:m[a]||a,evidence:N[h-1]||"",line:h,character:g,a:c||(b.id==="(number)"?String(b.number):b.string),b:d,c:e,d:f},i.reason=i.raw.supplant(i),JSLINT.errors.push(i),U.passfail&&Nb(m.stopping,h,g),mb+=1,mb>=U.maxerr&&Nb(m.too_many,h,g),i}function Pb(a,b,c,d,e,f,g){return Ob(a,{line:b,from:c},d,e,f,g)}function Qb(a,b,c,d,e,f){var g=Ob(a,b,c,d,e,f);Nb(m.stopping,g.line,g.character)}function Rb(a,b,c,d,e,f,g){return Qb(a,{line:b,from:c},d,e,f,g)}function Sb(a){!U.white&&T.from!==a&&Ob("expected_a_at_b_c",T,"",a,T.from)}function Tb(a,b,c){return a[b]!==c?(Ob("expected_a_b",a,c,a[b]),!0):!1}function Ub(a,b,c){c=c||a.string,A===D?(U.safe&&Ob("adsafe_a",a,c),typeof D[c]!="string"&&(a.writeable=typeof V[c]=="boolean"?V[c]:!0,a.funct=A,E[c]=a),b==="becoming"&&(b="var")):typeof A[c]=="string"?A[c]==="undef"?(U.undef||Ob("used_before_a",a,c),b="var"):Ob("already_defined",a,c):(a.funct=A,a.writeable=!0,ab[c]=a),A[c]=b}function Vb(a){var b,c=0;a=a||0;while(c<=a)b=O[c],b||(b=O[c]=M.token()),c+=1;return b}function Wb(a,b){if(I){if(lb&&T.line!==jb.line){if((lb!==I||!T.edge)&&T.from===I.at-(T.edge?U.indent:0)){var c=I;for(;;){c.at-=U.indent;if(c===lb)break;c=c.was}c.open=!1}lb=null}T.id==="?"&&I.mode===":"&&jb.line!==T.line&&(I.at-=U.indent),I.open?T.edge?T.edge==="label"?Sb(1):T.edge==="case"||I.mode==="statement"?Sb(I.at-U.indent):(I.mode!=="array"||T.line!==jb.line)&&Sb(I.at):T.line!==jb.line&&(T.from<I.at+(I.mode==="expression"?0:U.indent)&&Sb(I.at+U.indent),I.wrap=!0):T.line!==jb.line&&(T.edge?Sb(I.at):(I.wrap=!0,I.mode==="statement"||I.mode==="var"?Sb(I.at+U.indent):T.from<I.at+(I.mode==="expression"?0:U.indent)&&Sb(I.at+U.indent)))}switch(jb.id){case"(number)":T.id==="."&&Ob("trailing_decimal_a");break;case"-":(T.id==="-"||T.id==="--")&&Ob("confusing_a");break;case"+":(T.id==="+"||T.id==="++")&&Ob("confusing_a")}if(jb.id==="(string)"||jb.identifier)g=jb.string;a&&T.id!==a&&(b?Ob("expected_a_b_from_c_d",T,a,b.id,b.line,Mb()):(!T.identifier||T.string!==a)&&Ob("expected_a_b",T,a,Mb())),X=jb,jb=T,T=O.shift()||M.token()}function Xb(a){T.identifier&&T.string===a?Wb():Ob("expected_a_b",T,a,Mb())}function Yb(){U.adsafe&&(U.safe=!0),U.safe&&(U.browser=U["continue"]=U.css=U.debug=U.devel=U.evil=U.forin=U.newcap=U.nomen=U.on=U.rhino=U.sloppy=U.sub=U.undef=U.widget=U.windows=!1,delete V.Array,delete V.Date,delete V.Function,delete V.Object,delete V.eval,Kb({ADSAFE:!1,lib:!1}))}function Zb(){var a,b;for(;;){if(T.id!=="(string)"&&!T.identifier)return;a=T.string,Wb(),b=!1;if(T.id===":"){Wb(":");switch(T.id){case"true":b=V[a]!==!1,Wb("true");break;case"false":Wb("false");break;default:Qb("unexpected_a")}}V[a]=b;if(T.id!==",")return;Wb(",")}}function $b(){var a,b;while(T.id==="(string)"||T.identifier)a=T.string,f[a]||Qb("unexpected_a"),Wb(),T.id!==":"&&Qb("expected_a_b",T,":",Mb()),Wb(":"),typeof f[a]=="number"?(b=T.number,(b>f[a]||b<=0||Math.floor(b)!==b)&&Qb("expected_small_a"),U[a]=b):T.id==="true"?U[a]=!0:T.id==="false"?U[a]=!1:Qb("unexpected_a"),Wb(),T.id===","&&Wb(",");Lb()}function _b(){var a,b;U.properties=!0,A["(old_property_type)"]||(A["(old_property_type)"]=Y,Y=Object.create(Y));for(;;){if(T.id!=="(string)"&&!T.identifier)return;a=T.string,b="",Wb(),T.id===":"&&(Wb(":"),T.id==="function"?(Wb("function"),J[T.string]===!0?(b="function "+T.string,Wb()):b="function"):(b=T.string,J[b]!==!0&&(Ob("expected_type_a",T),b=""),Wb())),Y[a]=b;if(T.id!==",")return;Wb(",")}}function ac(a){T.edge=I?I.open&&(a||"edge"):""}function bc(a){var b;typeof a=="number"?I={at:+a,open:!0,was:I}:a==="statement"?I={at:I.at,open:!0,was:I}:I?(b=a==="var"||T.line!==jb.line,I={at:(b||a==="control"?I.at+U.indent:I.at)+(I.wrap?U.indent:0),mode:a,open:b,was:I},a==="var"&&b&&(lb=I)):I={at:1,mode:"statement",open:!0}}function cc(a,b){a&&(I&&I.open&&(I.at-=U.indent,ac()),Wb(a,b)),I&&(I=I.was)}function dc(a,b){a=a||jb,b=b||T,b.id!=="(end)"&&!U.white&&(jb.line!==b.line||jb.thru+1!==b.from)&&Ob("expected_space_a_b",b,Mb(jb),Mb(b))}function ec(a,b){a=a||jb,b=b||T,b.id!=="(end)"&&(a.line!==b.line||!U.white&&a.thru+1!==b.from)&&Ob("expected_space_a_b",b,Mb(a),Mb(b))}function fc(a,b){a=a||jb,b=b||T,(!U.white||pb==="styleproperty"||pb==="style")&&a.thru!==b.from&&a.line===b.line&&Ob("unexpected_space_a_b",b,Mb(a),Mb(b))}function gc(a,b){a=a||jb,b=b||T,b.id!=="(end)"&&(a.line!==b.line||!U.white&&a.thru!==b.from)&&Ob("unexpected_space_a_b",b,Mb(a),Mb(b))}function hc(a,b){U.white||(a=a||jb,b=b||T,a.thru===b.from&&a.line===b.line&&Ob("missing_space_a_b",b,Mb(a),Mb(b)))}function ic(){T.id!==","?Pb("expected_a_b",jb.line,jb.thru,",",Mb()):(U.white||gc(),Wb(","),hc())}function jc(){T.id!==";"?Pb("expected_a_b",jb.line,jb.thru,";",Mb()):(U.white||gc(),Wb(";"),bb[T.id]!==!0&&hc())}function kc(){return T.string==="use strict"?(gb&&Ob("unnecessary_use"),ac(),Wb(),jc(),gb=!0,U.newcap=!1,U.undef=!1,!0):!1}function lc(a,b){if(a===b)return!0;if(Array.isArray(a)){if(Array.isArray(b)&&a.length===b.length){var c;for(c=0;c<a.length;c+=1)if(!lc(a[c],b[c]))return!1;return!0}return!1}if(Array.isArray(b))return!1;if(a.id==="(number)"&&b.id==="(number)")return a.number===b.number;if(a.arity===b.arity&&a.string===b.string)switch(a.arity){case"prefix":case"suffix":case undefined:return a.id===b.id&&lc(a.first,b.first);case"infix":return lc(a.first,b.first)&&lc(a.second,b.second);case"ternary":return lc(a.first,b.first)&&lc(a.second,b.second)&&lc(a.third,b.third);case"function":case"regexp":return!1;default:return!0}else{if(a.id==="."&&b.id==="["&&b.arity==="infix")return a.second.string===b.second.string&&b.second.id==="(string)";if(a.id==="["&&a.arity==="infix"&&b.id===".")return a.second.string===b.second.string&&a.second.id==="(string)"}return!1}function mc(a,b){var c;T.id==="(end)"&&Qb("unexpected_a",jb,T.id),Wb(),U.safe&&ab[jb.string]&&ab[jb.string]===E[jb.string]&&T.id!=="("&&T.id!=="."&&Ob("adsafe_a",jb),b&&(g="anonymous",A["(verb)"]=jb.string);if(b===!0&&jb.fud)c=jb.fud();else{if(jb.nud)c=jb.nud();else{if(T.id==="(number)"&&jb.id===".")return Ob("leading_decimal_a",jb,Mb()),Wb(),jb;Qb("expected_identifier_a",jb,jb.id)}while(a<T.lbp)Wb(),jb.led?c=jb.led(c):Qb("expected_operator_a",jb,jb.id)}return c}function nc(a,b){var c=hb[a];if(!c||typeof c!="object")hb[a]=c={id:a,lbp:b||0,string:a};return c}function oc(a){return a.postscript=!0,a}function pc(a){var b=nc(a,0);return b.from=1,b.thru=1,b.line=0,b.edge="edge",a.string=a,oc(b)}function qc(a,b){var c=nc(a);return c.identifier=c.reserved=!0,c.fud=b,c}function rc(a,b){var c=qc(a,b);c.labeled=!0}function sc(a,b){var c=qc(a,b);c.disrupt=!0}function tc(a){var b=a.id.charAt(0);if(b>="a"&&b<="z"||b>="A"&&b<="Z")a.identifier=a.reserved=!0;return a}function uc(a,b,c){var d=nc(a,150);return tc(d),d.nud=typeof b=="function"?b:function(){a==="typeof"?dc():gc(),this.first=mc(150),this.arity="prefix";if(this.id==="++"||this.id==="--")U.plusplus?(!this.first.identifier||this.first.reserved)&&this.first.id!=="."&&this.first.id!=="["&&Ob("bad_operand",this):Ob("unexpected_a",this);return this.type=c,this},d}function vc(a,b,c){var d=nc(a);return d.arity=d.type=b,c&&(d.nud=c),d}function wc(a,b){var c=nc(a);return c.identifier=c.reserved=!0,typeof b=="function"&&(c.nud=b),c}function xc(a,b){var c=wc(a);return c.type=b,c.string=a,c.nud=$,c}function yc(a,b){return wc(a,function(){return typeof b=="function"&&b(this),this})}function zc(a,b,c,d,e){var f=nc(a,b);return tc(f),f.led=function(a){return this.arity="infix",e||(hc(X,jb),hc()),!U.bitwise&&this.bitwise&&Ob("unexpected_a",this),typeof c=="function"?c(a,this):(this.first=a,this.second=mc(b),this)},d&&(f.type=d),f}function Ac(a,b){return a.assign&&Ob(b||m.conditional_assignment,a),a}function Bc(a,b){switch(a.id){case"[":case"-":a.arity!=="infix"&&Ob(b||m.weird_condition,a);break;case"false":case"function":case"Infinity":case"NaN":case"null":case"true":case"undefined":case"void":case"(number)":case"(regexp)":case"(string)":case"{":Ob(b||m.weird_condition,a);break;case"(":a.first.id==="."&&S[a.first.second.string]===!0&&Ob(b||m.weird_condition,a)}return a}function Cc(a){switch(a.arity){case"prefix":switch(a.id){case"{":case"[":Ob("unexpected_a",a);break;case"!":Ob("confusing_a",a)}break;case"function":case"regexp":Ob("unexpected_a",a);break;default:a.id==="NaN"&&Ob("isnan",a)}return a}function Dc(a,b){return zc(a,100,function(a,c){Cc(a),b&&!U.eqeq&&Ob("expected_a_b",c,b,c.id);var d=mc(100);return(lc(a,d)||(a.id==="(string)"||a.id==="(number)")&&(d.id==="(string)"||d.id==="(number)"))&&Ob("weird_relation",c),c.first=a,c.second=Cc(d),c},"boolean")}function Ec(a,b){var c=zc(a,20,function(a,b){var c;b.first=a;if(a.identifier)ab[a.string]?ab[a.string].writeable===!1&&Ob("read_only",a):Qb("read_only");else if(U.safe){c=a;do typeof V[c.string]=="boolean"&&Ob("adsafe_a",c),c=c.first;while(c)}return a===hb["function"]&&Ob("identifier_function",jb),a.id==="."||a.id==="["?(!a.first||a.first.string==="arguments")&&Ob("bad_assignment",b):a.identifier?!a.reserved&&A[a.string]==="exception"&&Ob("assign_exception",a):Ob("bad_assignment",b),b.second=mc(19),b.id==="="&&lc(b.first,b.second)&&Ob("weird_assignment",b),b});return c.assign=!0,b&&(hb[b].type&&(c.type=hb[b].type),hb[b].bitwise&&(c.bitwise=!0)),c}function Fc(a,b){var c=zc(a,b,"number");return c.bitwise=!0,c}function Gc(a){var b=nc(a,150);return b.led=function(a){return gc(X,jb),U.plusplus?(!a.identifier||a.reserved)&&a.id!=="."&&a.id!=="["&&Ob("bad_operand",this):Ob("unexpected_a",this),this.first=a,this.arity="suffix",this},b}function Hc(){if(T.identifier)return Wb(),U.safe&&j[jb.string]?Ob("adsafe_a",jb):jb.reserved&&!U.es5&&Ob("expected_identifier_a_reserved",jb),jb.string}function Ic(){var a=Hc();return a||Qb(jb.id==="function"&&T.id==="("?"name_function":"expected_identifier_a"),a}function Jc(){var a,b=ab,c;if(T.id===";"){Ob("unexpected_a"),jc();return}return T.identifier&&!T.reserved&&Vb().id===":"&&(ac("label"),a=T,Wb(),Wb(":"),ab=Object.create(b),Ub(a,"label"),T.labeled!==!0?Ob("label_a_b",T,a.string,Mb()):yb.test(a.string+":")?Ob("url",a):A===D&&Qb("unexpected_a",jb),T.label=a),jb.id!=="else"&&ac(),bc("statement"),c=mc(0,!0),c&&(c.arity==="statement"?c.id==="switch"||c.block&&c.id!=="do"?hc():jc():(c.id==="("?c.first.id==="new"&&Ob("bad_new"):!c.assign&&c.id!=="delete"&&c.id!=="++"&&c.id!=="--"&&Ob("assignment_function_expression",jb),jc())),cc(),ab=b,c}function Kc(){var a=[],b,c;while(T.postscript!==!0)T.id===";"?(Ob("unexpected_a",T),jc()):(T.string==="use strict"&&((!R&&pb!=="script"||A!==D||a.length>0)&&Ob("function_strict"),kc()),b&&(Ob("unreachable_a_b",T,T.string,b.string),b=null),c=Jc(),c&&(a.push(c),c.disrupt&&(b=c,a.disrupt=!0)));return a}function Lc(a){var b,c=T,d=H,e=ab,f=gb;return H=a,ab=Object.create(ab),hc(),T.id==="{"?(Wb("{"),bc(),!a&&!kc()&&!f&&!U.sloppy&&A["(context)"]===D&&Ob("missing_use_strict"),b=Kc(),gb=f,cc("}",c)):a?(Ob("expected_a_b",T,"{",Mb()),b=[Jc()],b.disrupt=b[0].disrupt):Qb("expected_a_b",T,"{",Mb()),A["(verb)"]=null,ab=e,H=d,a&&b.length===0&&Ob("empty_block"),b}function Mc(a){U.properties&&typeof Y[a]!="string"&&Ob("unexpected_property_a",jb,a),typeof P[a]=="number"?P[a]+=1:P[a]=1}function Nc(){var a=Hc(!0);return a||(T.id==="(string)"?(a=T.string,U.safe&&(j[a]?Ob("adsafe_a"):(a.charAt(0)==="_"||a.charAt(a.length-1)==="_")&&Ob("dangling_a")),Wb()):T.id==="(number)"&&(a=T.number.toString(),Wb())),a}function Oc(){var a,b=T,c=[];Wb("("),bc(),fc();if(T.id===")"){fc(),cc(")",b);return}for(;;){ac(),a=Ic(),c.push(jb),Ub(jb,U.unparam?"parameter":"unparam");if(T.id!==",")return fc(),cc(")",b),c;ic()}}function Pc(a,b){var c=A,d=U,e=ab;A={"(name)":b||"'"+(g||"").replace(Ab,Jb)+"'","(line)":T.line,"(context)":c,"(breakage)":0,"(loopage)":0,"(scope)":ab,"(token)":a},U=Object.create(d),ab=Object.create(e),C.push(A),a.name=b,b&&Ub(a,"function",b),a.writeable=!1,a.first=A["(params)"]=Oc(),dc(),a.block=Lc(!1),A["(old_property_type)"]&&(Y=A["(old_property_type)"],delete A["(old_property_type)"]),U.confusion&&(A["(confusion)"]=!0),A=c,U=d,ab=e}function Qc(){function a(){var a=T,b={};Wb("{");if(T.id!=="}")while(T.id!=="(end)"){while(T.id===",")Ob("unexpected_a",T),Wb(",");T.id!=="(string)"&&Ob("expected_string_a"),b[T.string]===!0?Ob("duplicate_a"):T.string==="__proto__"?Ob("dangling_a"):b[T.string]=!0,Wb(),Wb(":"),Qc();if(T.id!==",")break;Wb(",");if(T.id==="}"){Ob("unexpected_a",jb);break}}Wb("}",a)}function b(){var a=T;Wb("[");if(T.id!=="]")while(T.id!=="(end)"){while(T.id===",")Ob("unexpected_a",T),Wb(",");Qc();if(T.id!==",")break;Wb(",");if(T.id==="]"){Ob("unexpected_a",jb);break}}Wb("]",a)}switch(T.id){case"{":a();break;case"[":b();break;case"true":case"false":case"null":case"(number)":case"(string)":Wb();break;case"-":Wb("-"),gc(),Wb("(number)");break;default:Qb("unexpected_a")}}function Rc(){if(T.identifier)return Wb(),!0}function Sc(){T.id==="-"&&(Wb("-"),gc());if(T.id==="(number)")return Wb("(number)"),!0}function Tc(){if(T.id==="(string)")return Wb(),!0}function Uc(){var a,b,c,d;if(T.identifier){d=T.string;if(d==="rgb"||d==="rgba"){Wb(),c=T,Wb("(");for(a=0;a<3;a+=1)a&&ic(),b=T.number,T.id!=="(number)"||b<0?(Ob("expected_positive_a",T),Wb()):(Wb(),T.id==="%"?(Wb("%"),b>100&&Ob("expected_percent_a",jb,b)):b>255&&Ob("expected_small_a",jb,b));return d==="rgba"&&(ic(),b=T.number,(T.id!=="(number)"||b<0||b>1)&&Ob("expected_fraction_a",T),Wb(),T.id==="%"&&(Ob("unexpected_a"),Wb("%"))),Wb(")",c),!0}if(q[T.string]===!0)return Wb(),!0}else if(T.id==="(color)")return Wb(),!0;return!1}function Vc(){return T.id==="-"&&(Wb("-"),gc()),T.id==="(number)"?(Wb(),T.id!=="(string)"&&t[T.string]===!0?(gc(),Wb()):+jb.number!==0&&Ob("expected_linear_a"),!0):!1}function Wc(){return T.id==="-"&&(Wb("-"),gc()),T.id==="(number)"?(Wb(),T.id!=="(string)"&&t[T.string]===!0&&(gc(),Wb()),!0):!1}function Xc(){if(!T.identifier)return Vc();switch(T.string){case"thin":case"medium":case"thick":return Wb(),!0}}function Yc(){if(!T.identifier)return Vc();if(T.string==="auto")return Wb(),!0}function Zc(){return T.identifier&&T.string==="attr"?(Wb(),Wb("("),T.identifier||Ob("expected_name_a"),Wb(),Wb(")"),!0):!1}function $c(){while(T.id!==";"){!Rc()&&!Tc()&&Ob("expected_name_a");if(T.id!==",")return!0;ic()}}function _c(){return T.identifier&&T.string==="counter"?(Wb(),Wb("("),Wb(),T.id===","&&(ic(),T.id!=="(string)"&&Ob("expected_string_a"),Wb()),Wb(")"),!0):T.identifier&&T.string==="counters"?(Wb(),Wb("("),T.identifier||Ob("expected_name_a"),Wb(),T.id===","&&(ic(),T.id!=="(string)"&&Ob("expected_string_a"),Wb()),T.id===","&&(ic(),T.id!=="(string)"&&Ob("expected_string_a"),Wb()),Wb(")"),!0):!1}function ad(){return Vc()&&(T.id!=="(number)"||Vc())}function bd(){var a;if(T.identifier&&T.string==="rect"){Wb(),Wb("(");for(a=0;a<4;a+=1)if(!Vc()){Ob("expected_number_a");break}return Wb(")"),!0}return!1}function cd(){var a,b;if(T.identifier&&T.string==="url"){T=M.range("(",")"),b=T.string,a=b.charAt(0);if(a==='"'||a==="'")b.slice(-1)!==a?Ob("bad_url_a"):(b=b.slice(1,-1),b.indexOf(a)>=0&&Ob("bad_url_a"));return b||Ob("missing_url"),Gb.test(b)&&Qb("bad_url_a"),kb.push(b),Wb(),!0}return!1}function dd(){Xb("font-family"),Wb(":"),!Rc()&&!Tc()&&Qb("expected_name_a"),jc(),Xb("src"),Wb(":");for(;;){T.string==="local"?(Xb("local"),Wb("("),Gb.test(T.string)&&Qb("bad_url_a"),!Rc()&&!Tc()&&Qb("expected_name_a"),Wb(")")):cd()||Qb("expected_a_b",T,"url",Mb());if(T.id!==",")break;ic()}jc()}function ed(){var a;while(T.id==="*"||T.id==="#"||T.string==="_")U.css||Ob("unexpected_a"),Wb();return T.id==="-"?(U.css||Ob("unexpected_a"),Wb("-"),T.identifier||Ob("expected_nonstandard_style_attribute"),Wb(),p):(T.identifier?Object.prototype.hasOwnProperty.call(o,T.string)?a=o[T.string]:(a=p,U.css||Ob("unrecognized_style_attribute_a")):Ob("expected_style_attribute"),Wb(),a)}function fd(a){var b=0,c,d,e,f,g=0,h;switch(typeof a){case"function":return a();case"string":if(T.identifier&&T.string===a)return Wb(),!0;return!1}for(;;){if(b>=a.length)return!1;h=a[b],b+=1;if(typeof h=="boolean")break;typeof h=="number"?(c=h,h=a[b],b+=1):c=1,e=!1;while(c>0){if(!fd(h))break;e=!0,c-=1}if(e)return!0}g=b,d=[];for(;;){f=!1;for(b=g;b<a.length;b+=1)if(!d[b]&&fd(o[a[b]])){e=!0,f=!0,d[b]=!0;break}if(!f)return e}}function gd(){if(T.id==="(number)"){Wb(),T.string==="n"&&T.identifier&&(gc(),Wb(),T.id==="+"&&(gc(),Wb("+"),gc(),Wb("(number)")));return}if(!(!T.identifier||T.string!=="odd"&&T.string!=="even")){Wb();return}Ob("unexpected_a")}function hd(){var a;for(;;){if(T.id==="}"||T.id==="(end)"||qb&&T.id===qb)return;a=ed(),Wb(":"),T.identifier&&T.string==="inherit"?Wb():fd(a)||(Ob("unexpected_a"),Wb()),T.id==="!"&&(Wb("!"),gc(),T.identifier&&T.string==="important"?Wb():Ob("expected_a_b",T,"important",Mb())),T.id==="}"||T.id===qb?Ob("expected_a_b",T,";",Mb()):jc()}}function id(){if(T.identifier)Object.prototype.hasOwnProperty.call(F,U.cap?T.string.toLowerCase():T.string)||Ob("expected_tagname_a"),Wb();else switch(T.id){case">":case"+":Wb(),id();break;case":":Wb(":");switch(T.string){case"active":case"after":case"before":case"checked":case"disabled":case"empty":case"enabled":case"first-child":case"first-letter":case"first-line":case"first-of-type":case"focus":case"hover":case"last-child":case"last-of-type":case"link":case"only-of-type":case"root":case"target":case"visited":Xb(T.string);break;case"lang":Xb("lang"),Wb("("),T.identifier||Ob("expected_lang_a"),Wb(")");break;case"nth-child":case"nth-last-child":case"nth-last-of-type":case"nth-of-type":Xb(T.string),Wb("("),gd(),Wb(")");break;case"not":Xb("not"),Wb("("),T.id===":"&&Vb(0).string==="not"&&Ob("not"),id(),Wb(")");break;default:Ob("expected_pseudo_a")}break;case"#":Wb("#"),T.identifier||Ob("expected_id_a"),Wb();break;case"*":Wb("*");break;case".":Wb("."),T.identifier||Ob("expected_class_a"),Wb();break;case"[":Wb("["),T.identifier||Ob("expected_attribute_a"),Wb();if(T.id==="="||T.string==="~="||T.string==="$="||T.string==="|="||T.id==="*="||T.id==="^=")Wb(),T.id!=="(string)"&&Ob("expected_string_a"),Wb();Wb("]");break;default:Qb("expected_selector_a")}}function jd(){T.id==="{"&&Ob("expected_style_pattern");for(;;){id();if(T.id==="</"||T.id==="{"||T.id==="}"||T.id==="(end)")return"";T.id===","&&ic()}}function kd(){while(T.id!=="}"&&T.id!=="</"&&T.id!=="(end)")jd(),pb="styleproperty",T.id===";"?jc():(Wb("{"),hd(),pb="style",Wb("}"))}function ld(){var a;while(T.id==="@"){a=Vb(),Wb("@");switch(T.string){case"import":Xb("import"),cd()||(Ob("expected_a_b",T,"url",Mb()),Wb()),jc();break;case"media":Xb("media");for(;;){(!T.identifier||u[T.string]!==!0)&&Qb("expected_media_a"),Wb();if(T.id!==",")break;ic()}Wb("{"),kd(),Wb("}");break;case"font-face":Xb("font-face"),Wb("{"),dd(),Wb("}");break;default:Qb("expected_at_a")}}kd()}function md(a){a!=="html"&&!U.fragment&&(a==="div"&&U.adsafe?Qb("adsafe_fragment"):Qb("expected_a_b",jb,"html",a)),U.adsafe&&(a==="html"&&Qb("adsafe_html",jb),U.fragment?a!=="div"&&Qb("adsafe_div",jb):Qb("adsafe_fragment",jb)),U.browser=!0}function nd(a,c){var d,e;a==="id"?(d=typeof c=="string"?c.toUpperCase():"",G[d]===!0&&Ob("duplicate_a",T,c),/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(c)?U.adsafe&&(b?c.slice(0,b.length)!==b?Ob("adsafe_prefix_a",T,b):/^[A-Z]+_[A-Z]+$/.test(c)||Ob("adsafe_bad_id"):(b=c,/^[A-Z]+_$/.test(c)||Ob("adsafe_bad_id"))):Ob("bad_id_a",T,c),e=c.search(vb),e>=0&&Ob("unexpected_char_a_b",jb,c.charAt(e),a),G[d]=!0):a==="class"||a==="type"||a==="name"?(e=c.search(Cb),e>=0&&Ob("unexpected_char_a_b",jb,c.charAt(e),a),G[d]=!0):a==="href"||a==="background"||a==="content"||a==="data"||a.indexOf("src")>=0||a.indexOf("url")>=0?(U.safe&&Gb.test(c)&&Qb("bad_url_a",T,c),kb.push(c)):a==="for"?U.adsafe&&(b?c.slice(0,b.length)!==b?Ob("adsafe_prefix_a",T,b):/^[A-Z]+_[A-Z]+$/.test(c)||Ob("adsafe_bad_id"):Ob("adsafe_bad_id")):a==="name"&&U.adsafe&&c.indexOf("_")>=0&&Ob("adsafe_name_a",T,c)}function od(a,f){var g,i=F[a],j,k;cb=!1,i||Qb(m.unrecognized_tag_a,T,a===a.toLowerCase()?a:a+" (capitalization error)");if(db.length>0){a==="html"&&Qb("unexpected_a",jb,a),k=i.parent;if(k)k.indexOf(" "+db[db.length-1].name+" ")<0&&Qb("tag_a_in_b",jb,a,k);else if(!U.adsafe&&!U.fragment){g=db.length;do g<=0&&Qb("tag_a_in_b",jb,a,"body"),g-=1;while(db[g].name!=="body")}}switch(a){case"div":U.adsafe&&db.length===1&&!b&&Ob("adsafe_missing_id");break;case"script":pb="script",Wb(">"),f.lang&&Ob("lang",jb),U.adsafe&&db.length!==1&&Ob("adsafe_placement",jb);if(f.src)U.adsafe&&(!c||!h[f.src])&&Ob("adsafe_source",jb),f.type&&Ob("type",jb);else{bc(T.from),ac(),kc(),d=!0,j=Kc();if(U.adsafe){e&&Qb("adsafe_script",jb),(j.length!==1||Tb(j[0],"id","(")||Tb(j[0].first,"id",".")||Tb(j[0].first.first,"string","ADSAFE")||Tb(j[0].second[0],"string",b))&&Qb("adsafe_id_go");switch(j[0].first.second.string){case"id":(c||e||j[0].second.length!==1)&&Qb("adsafe_id",T),c=!0;break;case"go":e&&Qb("adsafe_go"),(j[0].second.length!==2||Tb(j[0].second[1],"id","function")||!j[0].second[1].first||Tb(j[0].second[1].first[0],"string","dom")||j[0].second[1].first.length>2||j[0].second[1].first.length===2&&Tb(j[0].second[1].first[1],"string","lib"
))&&Qb("adsafe_go",T),e=!0;break;default:Qb("adsafe_id_go")}}I=null}pb="html",Wb("</"),Xb("script"),pb="outer";break;case"style":pb="style",Wb(">"),ld(),pb="html",Wb("</"),Xb("style");break;case"input":switch(f.type){case"button":case"checkbox":case"radio":case"reset":case"submit":break;case"file":case"hidden":case"image":case"password":case"text":U.adsafe&&f.autocomplete!=="off"&&Ob("adsafe_autocomplete");break;default:Ob("bad_type")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"noembed":case"noframes":case"object":case"param":U.adsafe&&Ob("adsafe_tag",T,a)}}function pd(a){return"</"+a+">"}function qd(){var a,b,c,d,e=U.white,f,g,h,i;pb="html",qb="",db=null;for(;;){switch(T.string){case"<":pb="html",Wb("<"),b={},g=T,d=g.string,Xb(d),U.cap&&(d=d.toLowerCase()),g.name=d,db||(db=[],md(d)),h=F[d],typeof h!="object"&&Qb("unrecognized_tag_a",g,d),c=h.empty,g.type=d;for(;;){if(T.id==="/"){Wb("/"),T.id!==">"&&Ob("expected_a_b",T,">",Mb());break}if(T.id&&T.id.charAt(0)===">")break;T.identifier||((T.id==="(end)"||T.id==="(error)")&&Ob("expected_a_b",T,">",Mb()),Ob("bad_name_a")),U.white=!1,hc(),a=T.string,U.white=e,Wb(),!U.cap&&a!==a.toLowerCase()&&Ob("attribute_case_a",jb),a=a.toLowerCase(),qb="",Object.prototype.hasOwnProperty.call(b,a)&&Ob("duplicate_a",jb,a),a.slice(0,2)==="on"?(U.on||Ob("html_handlers"),pb="scriptstring",Wb("="),f=T.id,f!=='"'&&f!=="'"&&Qb("expected_a_b",T,'"',Mb()),qb=f,i=U.white,U.white=!0,Wb(f),kc(),Kc(),U.white=i,T.id!==f&&Qb("expected_a_b",T,f,Mb()),pb="html",qb="",Wb(f),h=!1):a==="style"?(pb="scriptstring",Wb("="),f=T.id,f!=='"'&&f!=="'"&&Qb("expected_a_b",T,'"',Mb()),pb="styleproperty",qb=f,Wb(f),hd(),pb="html",qb="",Wb(f),h=!1):T.id==="="?(Wb("="),h=T.string,!T.identifier&&T.id!=='"'&&T.id!=="'"&&T.id!=="(string)"&&T.id!=="(string)"&&T.id!=="(color)"&&Ob("expected_attribute_value_a",jb,a),Wb()):h=!0,b[a]=h,nd(a,h)}od(d,b),c||db.push(g),pb="outer",Wb(">");break;case"</":pb="html",Wb("</"),T.identifier||Ob("bad_name_a"),d=T.string,U.cap&&(d=d.toLowerCase()),Wb(),db||Qb("unexpected_a",T,pd(d)),g=db.pop(),g||Qb("unexpected_a",T,pd(d)),g.name!==d&&Qb("expected_a_b",T,pd(g.name),pd(d)),T.id!==">"&&Qb("expected_a_b",T,">",Mb()),pb="outer",Wb(">");break;case"<!":U.safe&&Ob("adsafe_a"),pb="html";for(;;){Wb();if(T.id===">"||T.id==="(end)")break;T.string.indexOf("--")>=0&&Qb("unexpected_a",T,"--"),T.string.indexOf("<")>=0&&Qb("unexpected_a",T,"<"),T.string.indexOf(">")>=0&&Qb("unexpected_a",T,">")}pb="outer",Wb(">");break;case"(end)":return;default:T.id==="(end)"?Qb("missing_a",T,"</"+db[db.length-1].string+">"):Wb()}if(db&&db.length===0&&(U.adsafe||!U.fragment||T.id==="(end)"))break}T.id!=="(end)"&&Qb("unexpected_a")}"use strict";var b,c,d,e,f={anon:!0,bitwise:!0,browser:!0,cap:!0,confusion:!0,"continue":!0,css:!0,debug:!0,devel:!0,eqeq:!0,es5:!0,evil:!0,forin:!0,fragment:!0,indent:10,maxerr:1e3,maxlen:256,newcap:!0,node:!0,nomen:!0,on:!0,passfail:!0,plusplus:!0,properties:!0,regexp:!0,rhino:!0,undef:!0,unparam:!0,sloppy:!0,sub:!0,vars:!0,white:!0,widget:!0,windows:!0},g,h,i={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},j=a(["arguments","callee","caller","constructor","eval","prototype","stack","unwatch","valueOf","watch"],!0),k,l=a(["clearInterval","clearTimeout","document","event","frames","history","Image","localStorage","location","name","navigator","Option","parent","screen","sessionStorage","setInterval","setTimeout","Storage","window","XMLHttpRequest"],!1),m={a_label:"'{a}' is a statement label.",a_not_allowed:"'{a}' is not allowed.",a_not_defined:"'{a}' is not defined.",a_scope:"'{a}' used out of scope.",adsafe_a:"ADsafe violation: '{a}'.",adsafe_autocomplete:"ADsafe autocomplete violation.",adsafe_bad_id:"ADSAFE violation: bad id.",adsafe_div:"ADsafe violation: Wrap the widget in a div.",adsafe_fragment:"ADSAFE: Use the fragment option.",adsafe_go:"ADsafe violation: Misformed ADSAFE.go.",adsafe_html:"Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",adsafe_id:"ADsafe violation: id does not match.",adsafe_id_go:"ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",adsafe_lib:"ADsafe lib violation.",adsafe_lib_second:"ADsafe: The second argument to lib must be a function.",adsafe_missing_id:"ADSAFE violation: missing ID_.",adsafe_name_a:"ADsafe name violation: '{a}'.",adsafe_placement:"ADsafe script placement violation.",adsafe_prefix_a:"ADsafe violation: An id must have a '{a}' prefix",adsafe_script:"ADsafe script violation.",adsafe_source:"ADsafe unapproved script source.",adsafe_subscript_a:"ADsafe subscript '{a}'.",adsafe_tag:"ADsafe violation: Disallowed tag '{a}'.",already_defined:"'{a}' is already defined.",and:"The '&&' subexpression should be wrapped in parens.",assign_exception:"Do not assign to the exception parameter.",assignment_function_expression:"Expected an assignment or function call and instead saw an expression.",attribute_case_a:"Attribute '{a}' not all lower case.",avoid_a:"Avoid '{a}'.",bad_assignment:"Bad assignment.",bad_color_a:"Bad hex color '{a}'.",bad_constructor:"Bad constructor.",bad_entity:"Bad entity.",bad_html:"Bad HTML string",bad_id_a:"Bad id: '{a}'.",bad_in_a:"Bad for in variable '{a}'.",bad_invocation:"Bad invocation.",bad_name_a:"Bad name: '{a}'.",bad_new:"Do not use 'new' for side effects.",bad_number:"Bad number '{a}'.",bad_operand:"Bad operand.",bad_style:"Bad style.",bad_type:"Bad type.",bad_url_a:"Bad url '{a}'.",bad_wrap:"Do not wrap function literals in parens unless they are to be immediately invoked.",combine_var:"Combine this with the previous 'var' statement.",conditional_assignment:"Expected a conditional expression and instead saw an assignment.",confusing_a:"Confusing use of '{a}'.",confusing_regexp:"Confusing regular expression.",constructor_name_a:"A constructor name '{a}' should start with an uppercase letter.",control_a:"Unexpected control character '{a}'.",css:"A css file should begin with @charset 'UTF-8';",dangling_a:"Unexpected dangling '_' in '{a}'.",dangerous_comment:"Dangerous comment.",deleted:"Only properties should be deleted.",duplicate_a:"Duplicate '{a}'.",empty_block:"Empty block.",empty_case:"Empty case.",empty_class:"Empty class.",es5:"This is an ES5 feature.",evil:"eval is evil.",expected_a:"Expected '{a}'.",expected_a_b:"Expected '{a}' and instead saw '{b}'.",expected_a_b_from_c_d:"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",expected_at_a:"Expected an at-rule, and instead saw @{a}.",expected_a_at_b_c:"Expected '{a}' at column {b}, not column {c}.",expected_attribute_a:"Expected an attribute, and instead saw [{a}].",expected_attribute_value_a:"Expected an attribute value and instead saw '{a}'.",expected_class_a:"Expected a class, and instead saw .{a}.",expected_fraction_a:"Expected a number between 0 and 1 and instead saw '{a}'",expected_id_a:"Expected an id, and instead saw #{a}.",expected_identifier_a:"Expected an identifier and instead saw '{a}'.",expected_identifier_a_reserved:"Expected an identifier and instead saw '{a}' (a reserved word).",expected_linear_a:"Expected a linear unit and instead saw '{a}'.",expected_lang_a:"Expected a lang code, and instead saw :{a}.",expected_media_a:"Expected a CSS media type, and instead saw '{a}'.",expected_name_a:"Expected a name and instead saw '{a}'.",expected_nonstandard_style_attribute:"Expected a non-standard style attribute and instead saw '{a}'.",expected_number_a:"Expected a number and instead saw '{a}'.",expected_operator_a:"Expected an operator and instead saw '{a}'.",expected_percent_a:"Expected a percentage and instead saw '{a}'",expected_positive_a:"Expected a positive number and instead saw '{a}'",expected_pseudo_a:"Expected a pseudo, and instead saw :{a}.",expected_selector_a:"Expected a CSS selector, and instead saw {a}.",expected_small_a:"Expected a small positive integer and instead saw '{a}'",expected_space_a_b:"Expected exactly one space between '{a}' and '{b}'.",expected_string_a:"Expected a string and instead saw {a}.",expected_style_attribute:"Excepted a style attribute, and instead saw '{a}'.",expected_style_pattern:"Expected a style pattern, and instead saw '{a}'.",expected_tagname_a:"Expected a tagName, and instead saw {a}.",expected_type_a:"Expected a type, and instead saw {a}.",for_if:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",function_block:"Function statements should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",function_eval:"The Function constructor is eval.",function_loop:"Don't make functions within a loop.",function_statement:"Function statements are not invocable. Wrap the whole function invocation in parens.",function_strict:"Use the function form of 'use strict'.",html_confusion_a:"HTML confusion in regular expression '<{a}'.",html_handlers:"Avoid HTML event handlers.",identifier_function:"Expected an identifier in an assignment and instead saw a function invocation.",implied_evil:"Implied eval is evil. Pass a function instead of a string.",infix_in:"Unexpected 'in'. Compare with undefined, or use the hasOwnProperty method instead.",insecure_a:"Insecure '{a}'.",isNaN:"Use the isNaN function to compare with NaN.",label_a_b:"Label '{a}' on '{b}' statement.",lang:"lang is deprecated.",leading_decimal_a:"A leading decimal point can be confused with a dot: '.{a}'.",missing_a:"Missing '{a}'.",missing_a_after_b:"Missing '{a}' after '{b}'.",missing_option:"Missing option value.",missing_property:"Missing property name.",missing_space_a_b:"Missing space between '{a}' and '{b}'.",missing_url:"Missing url.",missing_use_strict:"Missing 'use strict' statement.",mixed:"Mixed spaces and tabs.",move_invocation:"Move the invocation into the parens that contain the function.",move_var:"Move 'var' declarations to the top of the function.",name_function:"Missing name in function statement.",nested_comment:"Nested comment.",not:"Nested not.",not_a_constructor:"Do not use {a} as a constructor.",not_a_defined:"'{a}' has not been fully defined yet.",not_a_function:"'{a}' is not a function.",not_a_label:"'{a}' is not a label.",not_a_scope:"'{a}' is out of scope.",not_greater:"'{a}' should not be greater than '{b}'.",parameter_a_get_b:"Unexpected parameter '{a}' in get {b} function.",parameter_set_a:"Expected parameter (value) in set {a} function.",radix:"Missing radix parameter.",read_only:"Read only.",redefinition_a:"Redefinition of '{a}'.",reserved_a:"Reserved name '{a}'.",scanned_a_b:"{a} ({b}% scanned).",slash_equal:"A regular expression literal can be confused with '/='.",statement_block:"Expected to see a statement and instead saw a block.",stopping:"Stopping. ",strange_loop:"Strange loop.",strict:"Strict violation.",subscript:"['{a}'] is better written in dot notation.",tag_a_in_b:"A '<{a}>' must be within '<{b}>'.",too_long:"Line too long.",too_many:"Too many errors.",trailing_decimal_a:"A trailing decimal point can be confused with a dot: '.{a}'.",type:"type is unnecessary.",type_confusion_a_b:"Type confusion: {a} and {b}.",unclosed:"Unclosed string.",unclosed_comment:"Unclosed comment.",unclosed_regexp:"Unclosed regular expression.",unescaped_a:"Unescaped '{a}'.",unexpected_a:"Unexpected '{a}'.",unexpected_char_a_b:"Unexpected character '{a}' in {b}.",unexpected_comment:"Unexpected comment.",unexpected_property_a:"Unexpected /*property*/ '{a}'.",unexpected_space_a_b:"Unexpected space between '{a}' and '{b}'.",unnecessary_initialize:"It is not necessary to initialize '{a}' to 'undefined'.",unnecessary_use:"Unnecessary 'use strict'.",unreachable_a_b:"Unreachable '{a}' after '{b}'.",unrecognized_style_attribute_a:"Unrecognized style attribute '{a}'.",unrecognized_tag_a:"Unrecognized tag '<{a}>'.",unsafe:"Unsafe character.",url:"JavaScript URL.",use_array:"Use the array literal notation [].",use_braces:"Spaces are hard to count. Use {{a}}.",use_charAt:"Use the charAt method.",use_object:"Use the object literal notation {}.",use_or:"Use the || operator.",use_param:"Use a named parameter.",used_before_a:"'{a}' was used before it was defined.",var_a_not:"Variable {a} was not declared correctly.",weird_assignment:"Weird assignment.",weird_condition:"Weird condition.",weird_new:"Weird construction. Delete 'new'.",weird_program:"Weird program.",weird_relation:"Weird relation.",weird_ternary:"Weird ternary.",wrap_immediate:"Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.",wrap_regexp:"Wrap the /regexp/ literal in parens to disambiguate the slash operator.",write_is_wrong:"document.write can be a form of eval."},n,o,p,q=a(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext"],!0),r,s,t={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},u,v,w={b:"\b",t:"	",n:"\n",f:"\f",r:"\r",'"':'"',"/":"/","\\":"\\"},x=a(["alert","confirm","console","Debug","opera","prompt","WSH"],!1),y,z={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'",'"':'\\"',"/":"\\/","\\":"\\\\"},A,B=["closure","exception","global","label","outer","undef","unused","var"],C,D,E,F={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},hr:{empty:!0},"hta:application":{empty:!0,parent:" head "},html:{parent:"*"},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},G,H,I,J=a(["*","array","boolean","function","number","object","regexp","string"],!0),K,L,M,N,O,P,Q=a(["Buffer","clearInterval","clearTimeout","console","exports","global","module","process","querystring","require","setInterval","setTimeout","__dirname","__filename"],!1),R,S=a(["indexOf","lastIndexOf","search"],!0),T,U,V,W,X,Y,Z=a(["g","i","m"],!0),$=function(){return this},_=a(["defineClass","deserialize","gc","help","load","loadClass","print","quit","readFile","readUrl","runCommand","seal","serialize","spawn","sync","toint32","version"],!1),ab,bb=a([";",'"',"'",")"],!0),cb,db,eb=a(["Array","Boolean","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Function","isFinite","isNaN","JSON","Math","Number","Object","parseInt","parseFloat","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError"],!1),fb={E:"number",LN2:"number",LN10:"number",LOG2E:"number",LOG10E:"number",MAX_VALUE:"number",MIN_VALUE:"number",NEGATIVE_INFINITY:"number",PI:"number",POSITIVE_INFINITY:"number",SQRT1_2:"number",SQRT2:"number",apply:"function",bind:"function function",call:"function",ceil:"function number",charAt:"function string",concat:"function",constructor:"function object",create:"function object",defineProperty:"function object",defineProperties:"function object",every:"function boolean",exec:"function array",filter:"function array",floor:"function number",forEach:"function",freeze:"function object",getDate:"function number",getDay:"function number",getFullYear:"function number",getHours:"function number",getMilliseconds:"function number",getMinutes:"function number",getMonth:"function number",getOwnPropertyDescriptor:"function object",getOwnPropertyNames:"function array",getPrototypeOf:"function object",getSeconds:"function number",getTime:"function number",getTimezoneOffset:"function number",getUTCDate:"function number",getUTCDay:"function number",getUTCFullYear:"function number",getUTCHours:"function number",getUTCMilliseconds:"function number",getUTCMinutes:"function number",getUTCMonth:"function number",getUTCSeconds:"function number",getYear:"function number",hasOwnProperty:"function boolean",indexOf:"function number",isExtensible:"function boolean",isFrozen:"function boolean",isPrototypeOf:"function boolean",isSealed:"function boolean",join:"function string",keys:"function array",lastIndexOf:"function number",lastIndex:"number",length:"number",map:"function array",now:"function number",parse:"function",pop:"function",preventExtensions:"function object",propertyIsEnumerable:"function boolean",prototype:"object",push:"function number",reduce:"function",reduceRight:"function",reverse:"function",seal:"function object",setDate:"function",setDay:"function",setFullYear:"function",setHours:"function",setMilliseconds:"function",setMinutes:"function",setMonth:"function",setSeconds:"function",setTime:"function",setTimezoneOffset:"function",setUTCDate:"function",setUTCDay:"function",setUTCFullYear:"function",setUTCHours:"function",setUTCMilliseconds:"function",setUTCMinutes:"function",setUTCMonth:"function",setUTCSeconds:"function",setYear:"function",shift:"function",slice:"function",some:"function boolean",sort:"function",splice:"function",stringify:"function string",substr:"function string",substring:"function string",test:"function boolean",toDateString:"function string",toExponential:"function string",toFixed:"function string",toJSON:"function",toISOString:"function string",toLocaleDateString:"function string",toLocaleLowerCase:"function string",toLocaleUpperCase:"function string",toLocaleString:"function string",toLocaleTimeString:"function string",toLowerCase:"function string",toPrecision:"function string",toTimeString:"function string",toUpperCase:"function string",toUTCString:"function string",trim:"function string",unshift:"function number",valueOf:"function"},gb,hb={},ib,jb,kb,lb,mb,nb=a(["alert","animator","appleScript","beep","bytesToUIString","Canvas","chooseColor","chooseFile","chooseFolder","closeWidget","COM","convertPathToHFS","convertPathToPlatform","CustomAnimation","escape","FadeAnimation","filesystem","Flash","focusWidget","form","FormField","Frame","HotKey","Image","include","isApplicationRunning","iTunes","konfabulatorVersion","log","md5","MenuItem","MoveAnimation","openURL","play","Point","popupMenu","preferenceGroups","preferences","print","prompt","random","Rectangle","reloadWidget","ResizeAnimation","resolvePath","resumeUpdates","RotateAnimation","runCommand","runCommandInBg","saveAs","savePreferences","screen","ScrollBar","showWidgetPreferences","sleep","speak","Style","suppressUpdates","system","tellWidget","Text","TextArea","Timer","unescape","updateNow","URL","Web","widget","Window","XMLDOM","XMLHttpRequest","yahooCheckLogin","yahooLogin","yahooLogout"],!0),ob=a(["ActiveXObject","CScript","Debug","Enumerator","System","VBArray","WScript","WSH"],!1),pb,qb,rb=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,sb=/\r/g,tb=/\r\n/g,ub=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,vb=/[\[\]\/\\"'*<>.&:(){}+=#]/,wb=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-:]*|[0-9]+|--)/,xb=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,yb=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,zb=/\*\/|\/\*/,Ab=/[\u0000-\u001f'\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Bb=/[>&]|<[\/!]?|--/,Cb=/[^a-zA-Z0-9+\-_\/ ]/,Db=/^\s*([{}:#%.=,>+\[\]@()"';]|[*$\^~]=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,Eb=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,Fb=/^\s*([(){}\[\]\?.,:;'"~#@`]|={1,3}|\/(\*(jslint|properties|property|members?|globals?)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|[\^%]=?|&[&=]?|\|[|=]?|>{1,3}=?|<(?:[\/=!]|\!(\[|--)?|<=?)?|\!={0,2}|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+(?:[xX][0-9a-fA-F]+|\.[0-9]*)?(?:[eE][+\-]?[0-9]+)?)/,Gb=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto|script/i,Hb={outer:wb,html:wb,style:Db,styleproperty:Eb};return typeof Array.prototype.filter!="function"&&(Array.prototype.filter=function(a){var b,c=this.length,d=[],e;for(b=0;b<c;b+=1)try{e=this[b],a(e)&&d.push(e)}catch(f){}return d}),typeof Array.prototype.forEach!="function"&&(Array.prototype.forEach=function(a){var b,c=this.length;for(b=0;b<c;b+=1)try{a(this[b])}catch(d){}}),typeof Array.isArray!="function"&&(Array.isArray=function(a){return Object.prototype.toString.apply(a)==="[object Array]"}),Object.prototype.hasOwnProperty.call(Object,"create")||(Object.create=function(a){return Ib.prototype=a,new Ib}),typeof Object.keys!="function"&&(Object.keys=function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}),typeof String.prototype.entityify!="function"&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),typeof String.prototype.isAlpha!="function"&&(String.prototype.isAlpha=function(){return this>="a"&&this<="z￿"||this>="A"&&this<="Z￿"}),typeof String.prototype.isDigit!="function"&&(String.prototype.isDigit=function(){return this>="0"&&this<="9"}),typeof String.prototype.supplant!="function"&&(String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(b,c){var d=a[c];return typeof d=="string"||typeof d=="number"?d:b})}),M=function(){function i(){var a;return f>=N.length?!1:(b=1,h=N[f],f+=1,a=h.search(/ \t/),a>=0&&Pb("mixed",f,a+1),h=h.replace(/\t/g,ib),a=h.search(ub),a>=0&&Pb("unsafe",f,a),U.maxlen&&U.maxlen<h.length&&Pb("too_long",f,h.length),!0)}function j(a,c){var e,g;return(a==="(string)"||a==="(range)")&&yb.test(c)&&Pb("url",f,d),g=Object.create(hb[a==="(punctuator)"||a==="(identifier)"&&Object.prototype.hasOwnProperty.call(hb,c)?c:a]||hb["(error)"]),a==="(identifier)"&&(g.identifier=!0,c==="__iterator__"||c==="__proto__"?Rb("reserved_a",f,d,c):!U.nomen&&(c.charAt(0)==="_"||c.charAt(c.length-1)==="_")&&Pb("dangling_a",f,d,c)),a==="(number)"?g.number=+c:c!==undefined&&(g.string=String(c)),g.line=f,g.from=d,g.thru=b,e=g.id,W=e&&("(,=:[!&|?{};".indexOf(e.charAt(e.length-1))>=0||e==="return"||e==="case"),g}function k(a){var f=a.exec(h),g;if(f)return e=f[0].length,g=f[1],c=g.charAt(0),h=h.slice(e),d=b+e-g.length,b+=e,g}function l(a){function l(a){var d=parseInt(h.substr(e+1,a),16);e+=a,d>=32&&d<=126&&d!==34&&d!==92&&d!==39&&Pb("unexpected_a",f,b,"\\"),b+=a,c=String.fromCharCode(d)}var c,e=0,g="",k;L&&a!=='"'&&Pb("expected_a",f,b,'"');if(qb===a||pb==="scriptstring"&&!qb)return j("(punctuator)",a);for(;;){while(e>=h.length)e=0,(pb!=="html"||!i())&&Rb("unclosed",f,d);c=h.charAt(e);if(c===a)return b+=1,h=h.slice(e+1),k=j("(string)",g),k.quote=a,k;if(c<" "){if(c==="\n"||c==="\r")break;Pb("control_a",f,b+e,h.slice(0,e))}else if(c===qb)Pb("bad_html",f,b+e);else if(c==="<")U.safe&&pb==="html"?Pb("adsafe_a",f,b+e,c):h.charAt(e+1)==="/"&&(pb||U.safe)?Pb("expected_a_b",f,b,"<\\/","</"):h.charAt(e+1)==="!"&&(pb||U.safe)&&Pb("unexpected_a",f,b,"<!");else if(c==="\\")if(pb==="html")U.safe&&Pb("adsafe_a",f,b+e,c);else if(pb==="styleproperty")e+=1,b+=1,c=h.charAt(e),c!==a&&Pb("unexpected_a",f,b,"\\");else{e+=1,b+=1,c=h.charAt(e);switch(c){case"":U.es5||Pb("es5",f,b),i(),e=-1;break;case qb:Pb("bad_html",f,b+e);break;case"'":L&&Pb("unexpected_a",f,b,"\\'");break;case"u":l(4);break;case"v":L&&Pb("unexpected_a",f,b,"\\v"),c="";break;case"x":L&&Pb("unexpected_a",f,b,"\\x"),l(2);break;default:c=w[c],typeof c!="string"&&Pb("unexpected_a",f,b,"\\")}}g+=c,b+=1,e+=1}}function o(a){var d;return pb!=="style"&&pb!=="styleproperty"&&h.charAt(0).isAlpha()&&Pb("expected_space_a_b",f,b,c,h.charAt(0)),c==="0"&&(d=a.charAt(1),d.isDigit()?jb.id!=="."&&pb!=="styleproperty"&&Pb("unexpected_a",f,b,a):L&&(d==="x"||d==="X")&&Pb("unexpected_a",f,b,"0x")),a.slice(a.length-1)==="."&&Pb("trailing_decimal_a",f,b,a),pb!=="style"&&(d=+a,isFinite(d)||Pb("bad_number",f,b,a),a=d),j("(number)",a)}function p(a){n||cb||pb&&pb!=="script"&&pb!=="style"&&pb!=="styleproperty"?Pb("unexpected_comment",f,b):pb==="script"&&/<\//i.test(h)?Pb("unexpected_a",f,b,"</"):U.safe&&rb.test(a)&&Pb("dangerous_comment",f,b)}function q(){var a,e,i=0,k=0,l="",n,o,p=0,q,r,s,t;for(;;){a=!0,c=h.charAt(p),p+=1;switch(c){case"":Rb("unclosed_regexp",f,d);return;case"/":k>0&&Pb("unescaped_a",f,d+p,"/"),c=h.slice(0,p-1),r=Object.create(Z);for(;;){o=h.charAt(p);if(r[o]!==!0)break;r[o]=!1,p+=1,l+=o}return h.charAt(p).isAlpha()&&Rb("unexpected_a",f,d,h.charAt(p)),b+=p,h=h.slice(p),s=h.charAt(0),(s==="/"||s==="*")&&Rb("confusing_regexp",f,d),t=j("(regexp)",c),t.flag=l,t;case"\\":c=h.charAt(p),c<" "?Pb("control_a",f,d+p,String(c)):c==="<"&&Pb(m.unexpected_a,f,d+p,"\\"),p+=1;break;case"(":k+=1,a=!1;if(h.charAt(p)==="?"){p+=1;switch(h.charAt(p)){case":":case"=":case"!":p+=1;break;default:Pb(m.expected_a_b,f,d+p,":",h.charAt(p))}}else i+=1;break;case"|":a=!1;break;case")":k===0?Pb("unescaped_a",f,d+p,")"):k-=1;break;case" ":g=1;while(h.charAt(p)===" ")p+=1,g+=1;g>1&&Pb("use_braces",f,d+p,g);break;case"[":c=h.charAt(p),c==="^"&&(p+=1,U.regexp?h.charAt(p)==="]"&&Rb("unescaped_a",f,d+p,"^"):Pb("insecure_a",f,d+p,c)),e=!1,c==="]"&&(Pb("empty_class",f,d+p-1),e=!0);a:do{c=h.charAt(p),p+=1;switch(c){case"[":case"^":Pb("unescaped_a",f,d+p,c),e=!0;break;case"-":e?e=!1:(Pb("unescaped_a",f,d+p,"-"),e=!0);break;case"]":e||Pb("unescaped_a",f,d+p-1,"-");break a;case"\\":c=h.charAt(p),c<" "?Pb(m.control_a,f,d+p,String(c)):c==="<"&&Pb(m.unexpected_a,f,d+p,"\\"),p+=1,e=!0;break;case"/":Pb("unescaped_a",f,d+p-1,"/"),e=!0;break;case"<":pb==="script"&&(c=h.charAt(p),(c==="!"||c==="/")&&Pb(m.html_confusion_a,f,d+p,c)),e=!0;break;default:e=!0}}while(c);break;case".":U.regexp||Pb("insecure_a",f,d+p,c);break;case"]":case"?":case"{":case"}":case"+":case"*":Pb("unescaped_a",f,d+p,c);break;case"<":pb==="script"&&(c=h.charAt(p),(c==="!"||c==="/")&&Pb(m.html_confusion_a,f,d+p,c))}if(a)switch(h.charAt(p)){case"?":case"+":case"*":p+=1,h.charAt(p)==="?"&&(p+=1);break;case"{":p+=1,c=h.charAt(p),(c<"0"||c>"9")&&Pb(m.expected_number_a,f,d+p,c),p+=1,q=+c;for(;;){c=h.charAt(p);if(c<"0"||c>"9")break;p+=1,q=+c+q*10}n=q;if(c===","){p+=1,n=Infinity,c=h.charAt(p);if(c>="0"&&c<="9"){p+=1,n=+c;for(;;){c=h.charAt(p);if(c<"0"||c>"9")break;p+=1,n=+c+n*10}}}h.charAt(p)!=="}"?Pb(m.expected_a_b,f,d+p,"}",c):p+=1,h.charAt(p)==="?"&&(p+=1),q>n&&Pb(m.not_greater,f,d+p,q,n)}}return c=h.slice(0,p-1),b+=p,h=h.slice(p),j("(regexp)",c)}var b,c,d,e,f,g,h;return{init:function(a){typeof a=="string"?N=a.replace(tb,"\n").replace(sb,"\n").split("\n"):N=a,f=0,i(),d=1},range:function(a,c){var e,g="";d=b,h.charAt(0)!==a&&Rb("expected_a_b",f,b,a,h.charAt(0));for(;;){h=h.slice(1),b+=1,e=h.charAt(0);switch(e){case"":Rb("missing_a",f,b,e);break;case c:return h=h.slice(1),b+=1,j("(range)",g);case qb:case"\\":Pb("unexpected_a",f,b,e)}g+=e}},token:function(){var a,c,g;for(;;){while(!h)if(!i())return j("(end)");while(pb==="outer"){c=h.search(Bb);if(c===0)break;if(c>0){b+=1,h=h.slice(c);break}if(!i())return j("(end)","")}g=k(Hb[pb]||Fb);if(!g)h&&(h.charAt(0)===" "?(U.white||Pb("unexpected_a",f,b,"(space)"),b+=1,h=""):Rb("unexpected_a",f,b,h.charAt(0)));else{a=g.charAt(0);if(a.isAlpha()||a==="_"||a==="$")return j("(identifier)",g);if(a.isDigit())return o(g);switch(g){case'"':case"'":return l(g);case"//":p(h),h="";break;case"/*":for(;;){c=h.search(zb);if(c>=0)break;p(h),i()||Rb("unclosed_comment",f,b)}p(h.slice(0,c)),b+=c+2,h.charAt(c)==="/"&&Rb("nested_comment",f,b),h=h.slice(c+2);break;case"":break;case"/":return jb.id==="/="&&Rb(m.slash_equal,f,d),W?q():j("(punctuator)",g);case"<!--":e=f;for(;;){c=h.indexOf("--");if(c>=0)break;c=h.indexOf("<!"),c>=0&&Rb("nested_comment",f,b+c),i()||Rb("unclosed_comment",e,a)}e=h.indexOf("<!"),e>=0&&e<c&&Rb("nested_comment",f,b+e),b+=c,h.charAt(c+2)!==">"&&Rb("expected_a",f,b,"-->"),b+=3,h=h.slice(c+3);break;case"#":if(pb==="html"||pb==="styleproperty"){for(;;){a=h.charAt(0);if((a<"0"||a>"9")&&(a<"a"||a>"f")&&(a<"A"||a>"F"))break;b+=1,h=h.slice(1),g+=a}return g.length!==4&&g.length!==7&&Pb("bad_color_a",f,d+e,g),j("(color)",g)}return j("(punctuator)",g);default:if(pb==="outer"&&a==="&"){b+=1,h=h.slice(1);for(;;){a=h.charAt(0),b+=1,h=h.slice(1);if(a===";")break;a>="0"&&a<="9"||a>="a"&&a<="z"||a==="#"||Rb("bad_entity",f,d+e,b)}break}return j("(punctuator)",g)}}}}}}(),y=function(){var b=this.id,c=n,d=I;n=!0,I=null,T.line===jb.line&&T.from===jb.thru&&Ob("missing_space_a_b",T,Mb(jb),Mb()),O.length>0&&Ob("unexpected_a",this);switch(b){case"/*properties":case"/*property":case"/*members":case"/*member":_b();break;case"/*jslint":U.safe&&Ob("adsafe_a",this),$b();break;case"/*globals":case"/*global":U.safe&&Ob("adsafe_a",this),Zb();break;default:Qb("unexpected_a",this)}n=c,Wb("*/"),I=d},hb["(identifier)"]={id:"(identifier)",lbp:0,identifier:!0,nud:function(){var a=this.string,b=ab[a],c,d;typeof b!="object"&&(d=V[a],typeof d=="boolean"?(E[a]=b={string:a,writeable:d,funct:D},D[a]="var"):(U.undef||Ob("used_before_a",jb),ab[a]=b={string:a,writeable:!0,funct:A},A[a]="undef")),c=b.funct;if(A===c)switch(A[a]){case"becoming":Ob("unexpected_a",jb),A[a]="var";break;case"unused":A[a]="var";break;case"unparam":A[a]="parameter";break;case"unction":A[a]="function";break;case"label":Ob("a_label",jb,a)}else switch(A[a]){case"closure":case"function":case"var":case"unused":Ob("a_scope",jb,a);break;case"label":Ob("a_label",jb,a);break;case"outer":case"global":break;default:switch(c[a]){case"becoming":case"closure":case"function":case"parameter":case"unction":case"unused":case"var":c[a]="closure",A[a]=c===D?"global":"outer";break;case"unparam":c[a]="parameter",A[a]="outer";break;case"undef":A[a]="undef";break;case"label"
:Ob("a_label",jb,a)}}return this},led:function(){Qb("expected_operator_a")}},vc("(array)","array"),vc("(color)","color"),vc("(function)","function"),vc("(number)","number",$),vc("(object)","object"),vc("(string)","string",$),vc("(boolean)","boolean",$),vc("(range)","range"),vc("(regexp)","regexp",$),pc("(begin)"),pc("(end)"),pc("(error)"),oc(nc("</")),nc("<!"),nc("<!--"),nc("-->"),oc(nc("}")),nc(")"),nc("]"),oc(nc('"')),oc(nc("'")),nc(";"),nc(":"),nc(","),nc("#"),nc("@"),nc("*/"),oc(wc("case")),wc("catch"),oc(wc("default")),wc("else"),wc("finally"),yc("arguments",function(a){gb&&A===D?Ob("strict",a):U.safe&&Ob("adsafe_a",a)}),yc("eval",function(a){U.safe&&Ob("adsafe_a",a)}),xc("false","boolean"),xc("Infinity","number"),xc("NaN","number"),xc("null",""),yc("this",function(a){U.safe?Ob("adsafe_a",a):gb&&A["(token)"].arity==="statement"&&A["(name)"].charAt(0)>"Z"&&Ob("strict",a)}),xc("true","boolean"),xc("undefined",""),zc("?",30,function(a,b){bc("?"),b.first=Bc(Ac(a)),b.second=mc(0),hc(),cc();var c=T;return Wb(":"),bc(":"),hc(),b.third=mc(10),b.arity="ternary",lc(b.second,b.third)?Ob("weird_ternary",c):lc(b.first,b.second)&&Ob("use_or",b),cc(),b}),zc("||",40,function(a,b){function c(a){return a.id==="&&"&&!a.paren&&Ob("and",a),a}return b.first=c(Bc(Ac(a))),b.second=c(Ac(mc(40))),lc(b.first,b.second)&&Ob("weird_condition",b),b}),zc("&&",50,function(a,b){return b.first=Bc(Ac(a)),b.second=Ac(mc(50)),lc(b.first,b.second)&&Ob("weird_condition",b),b}),uc("void",function(){return this.first=mc(0),this.arity="prefix",U.es5?Ob("expected_a_b",this,"undefined","void"):this.first.number!==0&&Ob("expected_a_b",this.first,"0",Mb(this.first)),this.type="undefined",this}),Fc("|",70),Fc("^",80),Fc("&",90),Dc("==","==="),Dc("==="),Dc("!=","!=="),Dc("!=="),Dc("<"),Dc(">"),Dc("<="),Dc(">="),Fc("<<",120),Fc(">>",120),Fc(">>>",120),zc("in",120,function(a,b){return Ob("infix_in",b),b.left=a,b.right=mc(130),b},"boolean"),zc("instanceof",120,null,"boolean"),zc("+",130,function(a,b){a.id==="(number)"?a.number===0&&Ob("unexpected_a",a,"0"):a.id==="(string)"&&a.string===""&&Ob("expected_a_b",a,"String","''");var c=mc(130);c.id==="(number)"?c.number===0&&Ob("unexpected_a",c,"0"):c.id==="(string)"&&c.string===""&&Ob("expected_a_b",c,"String","''");if(a.id===c.id)if(a.id==="(string)"||a.id==="(number)")return a.id==="(string)"?(a.string+=c.string,yb.test(a.string)&&Ob("url",a)):a.number+=c.number,a.thru=c.thru,a;return b.first=a,b.second=c,b}),uc("+","num"),uc("+++",function(){return Ob("confusing_a",jb),this.first=mc(150),this.arity="prefix",this}),zc("+++",130,function(a){return Ob("confusing_a",jb),this.first=a,this.second=mc(130),this}),zc("-",130,function(a,b){(a.id==="(number)"&&a.number===0||a.id==="(string)")&&Ob("unexpected_a",a);var c=mc(130);return(c.id==="(number)"&&c.number===0||c.id==="(string)")&&Ob("unexpected_a",a),a.id===c.id&&a.id==="(number)"?(a.number-=c.number,a.thru=c.thru,a):(b.first=a,b.second=c,b)},"number"),uc("-"),uc("---",function(){return Ob("confusing_a",jb),this.first=mc(150),this.arity="prefix",this}),zc("---",130,function(a){return Ob("confusing_a",jb),this.first=a,this.second=mc(130),this}),zc("*",140,function(a,b){(a.id==="(number)"&&(a.number===0||a.number===1)||a.id==="(string)")&&Ob("unexpected_a",a);var c=mc(140);return(c.id==="(number)"&&(c.number===0||c.number===1)||c.id==="(string)")&&Ob("unexpected_a",c),a.id===c.id&&a.id==="(number)"?(a.number*=c.number,a.thru=c.thru,a):(b.first=a,b.second=c,b)},"number"),zc("/",140,function(a,b){(a.id==="(number)"&&a.number===0||a.id==="(string)")&&Ob("unexpected_a",a);var c=mc(140);return(c.id==="(number)"&&(c.number===0||c.number===1)||c.id==="(string)")&&Ob("unexpected_a",c),a.id===c.id&&a.id==="(number)"?(a.number/=c.number,a.thru=c.thru,a):(b.first=a,b.second=c,b)},"number"),zc("%",140,function(a,b){(a.id==="(number)"&&(a.number===0||a.number===1)||a.id==="(string)")&&Ob("unexpected_a",a);var c=mc(140);return(c.id==="(number)"&&c.number===0||c.id==="(string)")&&Ob("unexpected_a",c),a.id===c.id&&a.id==="(number)"?(a.number%=c.number,a.thru=c.thru,a):(b.first=a,b.second=c,b)},"number"),Gc("++"),uc("++"),Gc("--"),uc("--"),uc("delete",function(){dc();var a=mc(0);return(!a||a.id!=="."&&a.id!=="[")&&Ob("deleted"),this.first=a,this}),uc("~",function(){return gc(),U.bitwise||Ob("unexpected_a",this),mc(150),this},"number"),uc("!",function(){return gc(),this.first=Bc(mc(150)),this.arity="prefix",(i[this.first.id]===!0||this.first.assign)&&Ob("confusing_a",this),this},"boolean"),uc("typeof",null,"string"),uc("new",function(){dc();var a=mc(160),b,c,d;this.first=a;if(a.id!=="function")if(a.identifier)switch(a.string){case"Object":Ob("use_object",jb);break;case"Array":if(T.id==="("){c=T,c.first=this,Wb("(");if(T.id!==")"){b=mc(0),c.second=[b],(b.type!=="number"||T.id===",")&&Ob("use_array",c);while(T.id===",")Wb(","),c.second.push(mc(0))}else Ob("use_array",jb);return Wb(")",c),c}Ob("use_array",jb);break;case"Number":case"String":case"Boolean":case"Math":case"JSON":Ob("not_a_constructor",a);break;case"Function":U.evil||Ob("function_eval");break;case"Date":case"RegExp":case"this":break;default:a.id!=="function"&&(d=a.string.charAt(0),!U.newcap&&(d<"A"||d>"Z")&&Ob("constructor_name_a",jb))}else a.id!=="."&&a.id!=="["&&a.id!=="("&&Ob("bad_constructor",jb);else Ob("weird_new",this);return T.id!=="("&&Ob("missing_a",T,"()"),this}),zc("(",160,function(a,b){var c;I&&I.mode==="expression"?fc(X,jb):gc(X,jb),!a.immed&&a.id==="function"&&Ob("wrap_immediate"),c=[],a.identifier?a.string.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&a.string!=="Number"&&a.string!=="String"&&a.string!=="Boolean"&&a.string!=="Date"&&(a.string==="Math"||a.string==="JSON"?Ob("not_a_function",a):a.string==="Object"?Ob("use_object",jb):(a.string==="Array"||!U.newcap)&&Ob("missing_a",a,"new")):a.id==="."&&(U.safe&&a.first.string==="Math"&&a.second==="random"?Ob("adsafe_a",a):a.second.string==="split"&&a.first.id==="(string)"&&Ob("use_array",a.second)),bc();if(T.id!==")"){fc();for(;;){ac(),c.push(mc(10));if(T.id!==",")break;ic()}}return fc(),cc(")",b),typeof a=="object"&&(a.string==="parseInt"&&c.length===1&&Ob("radix",a),U.evil||(a.string==="eval"||a.string==="Function"||a.string==="execScript"?Ob("evil",a):c[0]&&c[0].id==="(string)"&&(a.string==="setTimeout"||a.string==="setInterval")&&Ob("implied_evil",a)),!a.identifier&&a.id!=="."&&a.id!=="["&&a.id!=="("&&a.id!=="&&"&&a.id!=="||"&&a.id!=="?"&&Ob("bad_invocation",a)),b.first=a,b.second=c,b},"",!0),uc("(",function(){bc("expression"),fc(),ac(),T.id==="function"&&(T.immed=!0);var a=mc(0);return a.paren=!0,fc(),cc(")",this),a.id==="function"&&(T.id==="("?Ob("move_invocation"):Ob("bad_wrap",this)),a}),zc(".",170,function(a,f){fc(X,jb),fc();var g=Ic(),h;typeof g=="string"&&Mc(g),f.first=a,f.second=jb,!a||a.string!=="arguments"||g!=="callee"&&g!=="caller"?!U.evil&&a&&a.string==="document"&&(g==="write"||g==="writeln")?Ob("write_is_wrong",a):U.adsafe&&(!d&&a.string==="ADSAFE"&&(g==="id"||g==="lib"?Ob("adsafe_a",f):g==="go"&&(pb!=="script"?Ob("adsafe_a",f):(e||T.id!=="("||Vb(0).id!=="(string)"||Vb(0).string!==b||Vb(1).id!==",")&&Qb("adsafe_a",f,"go"),e=!0,c=!1)),d=!1):Ob("avoid_a",a,"arguments."+g);if(!!U.evil||g!=="eval"&&g!=="execScript"){if(U.safe)for(;;){j[g]===!0&&Ob("adsafe_a",jb,g);if(typeof V[a.string]!="boolean"||T.id==="(")break;if(T.id!=="."){Ob("adsafe_a",f);break}Wb("."),jb.first=f,jb.second=g,f=jb,g=Ic(),typeof g=="string"&&Mc(g)}}else Ob("evil");return h=Y[g],h&&typeof h=="string"&&h!=="*"&&(f.type=h),f},"",!0),zc("[",170,function(a,b){var c,d;gc(X,jb),fc(),bc(),ac(),c=mc(0);switch(c.type){case"number":c.id==="(number)"&&a.id==="arguments"&&Ob("use_param",a);break;case"string":c.id==="(string)"?(U.safe&&(j[c.string]||c.string.charAt(0)==="_"||c.string.slice(-1)==="_")?Ob("adsafe_subscript_a",c):!!U.evil||c.string!=="eval"&&c.string!=="execScript"?!U.sub&&xb.test(c.string)&&(d=hb[c.string],(!d||!d.reserved)&&Ob("subscript",c)):Ob("evil",c),Mc(c.string)):U.safe&&c.id!=="typeof"&&Ob("adsafe_subscript_a",c);break;case undefined:U.safe&&Ob("adsafe_subscript_a",c);break;default:U.safe&&Ob("adsafe_subscript_a",c)}return cc("]",b),fc(X,jb),b.first=a,b.second=c,b},"",!0),uc("[",function(){this.arity="prefix",this.first=[],bc("array");while(T.id!=="(end)"){while(T.id===",")Ob("unexpected_a",T),Wb(",");if(T.id==="]")break;I.wrap=!1,ac(),this.first.push(mc(10));if(T.id!==",")break;ic();if(T.id==="]"&&!U.es5){Ob("unexpected_a",jb);break}}return cc("]",this),this},170),Ec("="),Ec("+=","+"),Ec("-=","-"),Ec("*=","*"),Ec("/=","/").nud=function(){Qb("slash_equal")},Ec("%=","%"),Ec("&=","&"),Ec("|=","|"),Ec("^=","^"),Ec("<<=","<<"),Ec(">>=",">>"),Ec(">>>=",">>>"),uc("{",function(){var a,b,c,d,e,f,g={};this.arity="prefix",this.first=[],bc();while(T.id!=="}"){I.wrap=!1,ac(),T.string==="get"&&Vb().id!==":"?(U.es5||Ob("es5"),a=T,Wb("get"),ec(),d=T,b=Nc(),b||Qb("missing_property"),a.string="",Pc(a),A["(loopage)"]&&Ob("function_loop",a),e=a.first,e&&Ob("parameter_a_get_b",e[0],e[0].string,b),ic(),f=T,hc(),ac(),Wb("set"),f.string="",ec(),c=Nc(),b!==c&&Qb("expected_a_b",jb,b,c||T.string),Pc(f),f.block.length===0&&Ob("missing_a",jb,"throw"),e=f.first,!e||e.length!==1?Qb("parameter_set_a",f,"value"):e[0].string!=="value"&&Qb("expected_a_b",e[0],"value",e[0].string),d.first=[a,f]):(d=T,b=Nc(),typeof b!="string"&&Qb("missing_property"),Wb(":"),hc(),d.first=mc(10)),this.first.push(d),g[b]===!0&&Ob("duplicate_a",T,b),g[b]=!0,Mc(b);if(T.id!==",")break;for(;;){ic();if(T.id!==",")break;Ob("unexpected_a",T)}T.id==="}"&&!U.es5&&Ob("unexpected_a",jb)}return cc("}",this),this}),qc("{",function(){return Ob("statement_block"),this.arity="statement",this.block=Kc(),this.disrupt=this.block.disrupt,Wb("}",this),this}),qc("/*global",y),qc("/*globals",y),qc("/*jslint",y),qc("/*member",y),qc("/*members",y),qc("/*property",y),qc("/*properties",y),qc("var",function(){var a,b,c;A["(vars)"]&&!U.vars?Ob("combine_var"):A!==D&&(A["(vars)"]=!0),this.arity="statement",this.first=[],bc("var");for(;;){c=T,b=Ic(),Ub(c,"becoming"),T.id==="="?(a=T,a.first=c,hc(),Wb("="),hc(),T.id==="undefined"&&Ob("unnecessary_initialize",jb,b),Vb(0).id==="="&&T.identifier&&Qb("var_a_not"),a.second=mc(0),a.arity="infix",this.first.push(a)):this.first.push(c),A[b]==="becoming"&&(A[b]="unused");if(T.id!==",")break;ic(),I.wrap=!1,lb&&T.line===jb.line&&this.first.length===1&&(lb=null,I.open=!1,I.at-=U.indent),hc(),ac()}return lb=null,cc(),this}),qc("function",function(){dc(),H&&Ob("function_block",jb);var a=T,b=Ic();return Ub(a,"unction"),fc(),this.arity="statement",Pc(this,b),T.id==="("&&T.line===jb.line&&Qb("function_statement"),this}),uc("function",function(){U.anon||dc();var a=Hc();return a?fc():a="",Pc(this,a),A["(loopage)"]&&Ob("function_loop"),this.arity="function",this}),qc("if",function(){var a=T;return dc(),Wb("("),bc("control"),fc(),ac(),this.arity="statement",this.first=Bc(Ac(mc(0))),fc(),cc(")",a),dc(),this.block=Lc(!0),T.id==="else"&&(dc(),Wb("else"),dc(),this["else"]=T.id==="if"||T.id==="switch"?Jc(!0):Lc(!0),this["else"].disrupt&&this.block.disrupt&&(this.disrupt=!0)),this}),qc("try",function(){var a,b,c;return U.adsafe&&Ob("adsafe_a",this),dc(),this.arity="statement",this.block=Lc(!1),T.id==="catch"&&(dc(),Wb("catch"),dc(),c=T,Wb("("),bc("control"),fc(),ac(),b=ab,ab=Object.create(b),a=T.string,this.first=a,T.identifier?Ub(T,"exception"):Ob("expected_identifier_a",T),Wb(),fc(),cc(")",c),dc(),this.second=Lc(!1),ab=b),T.id==="finally"?(dc(),Wb("finally"),dc(),this.third=Lc(!1)):this.second||Qb("expected_a_b",T,"catch",Mb()),this}),rc("while",function(){dc();var a=T;return A["(breakage)"]+=1,A["(loopage)"]+=1,Wb("("),bc("control"),fc(),ac(),this.arity="statement",this.first=Ac(mc(0)),this.first.id!=="true"&&Bc(this.first,m.unexpected_a),fc(),cc(")",a),dc(),this.block=Lc(!0),this.block.disrupt&&Ob("strange_loop",X),A["(breakage)"]-=1,A["(loopage)"]-=1,this}),wc("with"),rc("switch",function(){function f(a){lc(c,a)&&Ob("duplicate_a",a)}var a=[],b=H,c,d=T,e=!0;A["(breakage)"]+=1,dc(),Wb("("),fc(),bc(),this.arity="statement",this.first=Bc(Ac(mc(0))),fc(),cc(")",d),dc(),Wb("{"),bc(),H=!0,this.second=[];while(T.id==="case"){d=T,a.forEach(f),d.first=[],d.arity="case",hc(),ac("case"),Wb("case");for(;;){dc(),c=mc(0),a.forEach(f),a.push(c),d.first.push(c),c.id==="NaN"&&Ob("unexpected_a",c),gc(),Wb(":");if(T.id!=="case")break;hc(),ac("case"),Wb("case")}hc(),d.second=Kc(),d.second&&d.second.length>0?(c=d.second[d.second.length-1],c.disrupt?c.id==="break"&&(e=!1):Ob("missing_a_after_b",T,"break","case")):Ob("empty_case"),this.second.push(d)}return this.second.length===0&&Ob("missing_a",T,"case"),T.id==="default"&&(hc(),d=T,d.arity="case",ac("case"),Wb("default"),gc(),Wb(":"),hc(),d.second=Kc(),d.second&&d.second.length>0&&(c=d.second[d.second.length-1],e&&c.disrupt&&c.id!=="break"&&(this.disrupt=!0)),this.second.push(d)),A["(breakage)"]-=1,hc(),cc("}",this),H=b,this}),qc("debugger",function(){return U.debug||Ob("unexpected_a",this),this.arity="statement",this}),rc("do",function(){A["(breakage)"]+=1,A["(loopage)"]+=1,dc(),this.arity="statement",this.block=Lc(!0),this.block.disrupt&&Ob("strange_loop",X),dc(),Wb("while");var a=T;return dc(),Wb("("),bc(),fc(),ac(),this.first=Bc(Ac(mc(0)),m.unexpected_a),fc(),cc(")",a),A["(breakage)"]-=1,A["(loopage)"]-=1,this}),rc("for",function(){var a,b,c=!1,d=T,e;this.arity="statement",A["(breakage)"]+=1,A["(loopage)"]+=1,Wb("(");if(T.id===";")fc(),Wb(";"),fc(),Wb(";"),fc(),Wb(")"),a=Lc(!0);else{bc("control"),hc(this,d),fc(),T.id==="var"&&Qb("move_var"),ac();if(Vb(0).id==="in"){this.forin=!0,e=T;switch(A[e.string]){case"unused":A[e.string]="var";break;case"closure":case"var":break;default:Ob("bad_in_a",e)}Wb(),Wb("in"),this.first=e,this.second=mc(20),cc(")",d),a=Lc(!0);if(!U.forin){if(a.length===1&&typeof a[0]=="object"&&a[0].string==="if"&&!a[0]["else"]){b=a[0].first;while(b.id==="&&")b=b.first;switch(b.id){case"===":case"!==":c=b.first.id==="["?b.first.first.string===this.second.string&&b.first.second.string===this.first.string:b.first.id==="typeof"&&b.first.first.id==="["&&b.first.first.first.string===this.second.string&&b.first.first.second.string===this.first.string;break;case"(":c=b.first.id==="."&&(b.first.first.string===this.second.string&&b.first.second.string==="hasOwnProperty"&&b.second[0].string===this.first.string||b.first.first.string==="ADSAFE"&&b.first.second.string==="has"&&b.second[0].string===this.second.string&&b.second[1].string===this.first.string||b.first.first.id==="."&&b.first.first.first.id==="."&&b.first.first.first.first.string==="Object"&&b.first.first.first.second.string==="prototype"&&b.first.first.second.string==="hasOwnProperty"&&b.first.second.string==="call"&&b.second[0].string===this.second.string&&b.second[1].string===this.first.string)}}c||Ob("for_if",this)}}else{ac(),this.first=[];for(;;){this.first.push(mc(0,"for"));if(T.id!==",")break;ic()}jc(),ac(),this.second=Ac(mc(0)),this.second.id!=="true"&&Bc(this.second,m.unexpected_a),jc(jb),T.id===";"&&Qb("expected_a_b",T,")",";"),this.third=[],ac();for(;;){this.third.push(mc(0,"for"));if(T.id!==",")break;ic()}fc(),cc(")",d),dc(),a=Lc(!0)}}return a.disrupt&&Ob("strange_loop",X),this.block=a,A["(breakage)"]-=1,A["(loopage)"]-=1,this}),sc("break",function(){var a=T.string;return this.arity="statement",A["(breakage)"]===0&&Ob("unexpected_a",this),T.identifier&&jb.line===T.line&&(ec(),A[a]!=="label"?Ob("not_a_label",T):ab[a].funct!==A&&Ob("not_a_scope",T),this.first=T,Wb()),this}),sc("continue",function(){U["continue"]||Ob("unexpected_a",this);var a=T.string;return this.arity="statement",A["(breakage)"]===0&&Ob("unexpected_a",this),T.identifier&&jb.line===T.line&&(ec(),A[a]!=="label"?Ob("not_a_label",T):ab[a].funct!==A&&Ob("not_a_scope",T),this.first=T,Wb()),this}),sc("return",function(){return A===D&&Ob("unexpected_a",this),this.arity="statement",T.id!==";"&&T.line===jb.line&&(ec(),(T.id==="/"||T.id==="(regexp)")&&Ob("wrap_regexp"),this.first=mc(20)),this}),sc("throw",function(){return this.arity="statement",ec(),this.first=mc(20),this}),wc("class"),wc("const"),wc("enum"),wc("export"),wc("extends"),wc("import"),wc("super"),wc("implements"),wc("interface"),wc("let"),wc("package"),wc("private"),wc("protected"),wc("public"),wc("static"),wc("yield"),p=[cd,function(){for(;;)if(T.identifier)switch(T.string.toLowerCase()){case"url":cd();break;case"expression":Ob("unexpected_a"),Wb();break;default:Wb()}else{if(T.id===";"||T.id==="!"||T.id==="(end)"||T.id==="}")return!0;Wb()}}],r=["none","dashed","dotted","double","groove","hidden","inset","outset","ridge","solid"],s=["auto","always","avoid","left","right"],u={all:!0,braille:!0,embossed:!0,handheld:!0,print:!0,projection:!0,screen:!0,speech:!0,tty:!0,tv:!0},v=["auto","hidden","scroll","visible"],o={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",Uc],"background-image":["none",cd],"background-position":[2,[Vc,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":Uc,"border-bottom-left-radius":ad,"border-bottom-right-radius":ad,"border-bottom-style":r,"border-bottom-width":Xc,"border-collapse":["collapse","separate"],"border-color":["transparent",4,Uc],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":Uc,"border-left-style":r,"border-left-width":Xc,"border-radius":function(){function a(a){var b=1;a&&Wb(a);if(!Vc())return!1;while(T.id==="(number)"){if(!Vc())return!1;b+=1}return b>4&&Ob("bad_style"),!0}return a()&&(T.id!=="/"||a("/"))},"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":Uc,"border-right-style":r,"border-right-width":Xc,"border-spacing":[2,Vc],"border-style":[4,r],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":Uc,"border-top-left-radius":ad,"border-top-right-radius":ad,"border-top-style":r,"border-top-width":Xc,"border-width":[4,Xc],bottom:[Vc,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[bd,"auto"],color:Uc,content:["open-quote","close-quote","no-open-quote","no-close-quote",Tc,cd,_c,Zc],"counter-increment":[Rc,"none"],"counter-reset":[Rc,"none"],cursor:[cd,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":$c,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",Vc],"font-size-adjust":["none",Sc],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",Sc],height:[Vc,"auto"],left:[Vc,"auto"],"letter-spacing":["normal",Vc],"line-height":["normal",Wc],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",cd],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,Yc],"margin-bottom":Yc,"margin-left":Yc,"margin-right":Yc,"margin-top":Yc,"marker-offset":[Vc,"auto"],"max-height":[Vc,"none"],"max-width":[Vc,"none"],"min-height":Vc,"min-width":Vc,opacity:Sc,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",Uc],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":Xc,overflow:v,"overflow-x":v,"overflow-y":v,padding:[4,Vc],"padding-bottom":Vc,"padding-left":Vc,"padding-right":Vc,"padding-top":Vc,"page-break-after":s,"page-break-before":s,position:["absolute","fixed","relative","static"],quotes:[8,Tc],right:[Vc,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":Vc,"text-shadow":["none",4,[Uc,Vc]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[Vc,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",Vc],visibility:["visible","hidden","collapse"],"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[Vc,"auto"],"word-spacing":["normal",Vc],"word-wrap":["break-word","normal"],"z-index":["auto",Sc]},K=function(f,g){var i,j,l;JSLINT.errors=[],JSLINT.tree="",k=X=jb=T=Object.create(hb["(begin)"]),V={},Kb(eb),Y=Object.create(fb);if(g){U=Object.create(g),j=U.predef;if(j)if(Array.isArray(j))for(i=0;i<j.length;i+=1)V[j[i]]=!0;else typeof j=="object"&&Kb(j);Yb()}else U={};U.indent=+U.indent||4,U.maxerr=+U.maxerr||50,b="",c=d=e=!1,h={};if(U.approved)for(i=0;i<U.approved.length;i+=1)h[U.approved[i]]=U.approved[i];else h.test="test";ib="";for(i=0;i<U.indent;i+=1)ib+=" ";E=ab={},D=A={"(scope)":ab,"(breakage)":0,"(loopage)":0},C=[A],n=!1,G={},H=!1,I=null,L=!1,O=[],P={},R=!1,W=!0,cb=!1,db=null,gb=!1,kb=[],lb=null,mb=0,pb="",M.init(f),Lb();try{Wb();if(T.id==="(number)")Qb("unexpected_a");else if(T.string.charAt(0)==="<")qd(),U.adsafe&&!e&&Ob("adsafe_go",this);else switch(T.id){case"{":case"[":L=!0,Qc();break;case"@":case"*":case"#":case".":case":":pb="style",Wb(),(jb.id!=="@"||!T.identifier||T.string!=="charset"||jb.line!==1||jb.from!==1)&&Qb("css"),Wb(),T.id!=="(string)"&&T.string!=="UTF-8"&&Qb("css"),Wb(),jc(),ld();break;default:U.adsafe&&U.fragment&&Qb("expected_a_b",T,"<div>",Mb()),bc(1),T.id===";"&&!R&&jc(),d=!0,l=Kc(),k.first=l,JSLINT.tree=k,U.adsafe&&(l.length!==1||Tb(l[0],"id","(")||Tb(l[0].first,"id",".")||Tb(l[0].first.first,"string","ADSAFE")||Tb(l[0].first.second,"string","lib")||l[0].second.length!==2||l[0].second[0].id!=="(string)"||Tb(l[0].second[1],"id","function"))&&Qb("adsafe_lib"),l.disrupt&&Ob("weird_program",X)}I=null,Wb("(end)")}catch(m){m&&JSLINT.errors.push({reason:m.message,line:m.line||T.line,character:m.character||T.from},null)}return JSLINT.errors.length===0},K.data=function(){var a={functions:[]},b,c,d,e,f,g=[],h,i,j=[],k=[];K.errors.length&&(a.errors=K.errors),L&&(a.json=!0),kb.length>0&&(a.urls=kb),c=Object.keys(E).filter(function(a){return a.charAt(0)!=="("&&typeof eb[a]!="boolean"}),c.length>0&&(a.globals=c);for(d=1;d<C.length;d+=1){i=C[d],b={};for(e=0;e<B.length;e+=1)b[B[e]]=[];for(h in i)if(Object.prototype.hasOwnProperty.call(i,h)&&h.charAt(0)!=="("){f=i[h];if(f==="unction"||f==="unparam")f="unused";Array.isArray(b[f])&&(b[f].push(h),f==="unused"?k.push({name:h,line:i["(line)"],"function":i["(name)"]}):f==="undef"&&j.push({name:h,line:i["(line)"],"function":i["(name)"]}))}for(e=0;e<B.length;e+=1)b[B[e]].length===0&&delete b[B[e]];b.name=i["(name)"],b.params=i["(params)"],b.line=i["(line)"],a.functions.push(b)}k.length>0&&(a.unused=k),j.length>0&&(a["undefined"]=j),g=[];for(h in P)if(typeof P[h]=="number"){a.member=P;break}return a},K.report=function(a){function s(a,b){var c,d;Array.isArray(b)?(n.push("<div><i>"+a+"</i> "),b.sort().forEach(function(a){a!==d&&(d=a,n.push((c?", ":"")+d),c=!0)}),n.push("</div>")):b&&n.push("<div><i>"+a+"</i> "+b+"</div>")}var b=K.data(),c,d,e,f,g,h,i,j,k="",l,m,n=[],o,p,q,r;if(b.errors||b.unused||b["undefined"]){c=!0,n.push("<div id=errors><i>Error:</i>");if(b.errors)for(e=0;e<b.errors.length;e+=1)r=b.errors[e],r&&(d=r.evidence||"",n.push("<p>Problem"+(isFinite(r.line)?" at line "+String(r.line)+" character "+String(r.character):"")+": "+r.reason.entityify()+"</p><p class=evidence>"+(d&&(d.length>80?d.slice(0,77)+"...":d).entityify())+"</p>"));if(b["undefined"]){o=[];for(e=0;e<b["undefined"].length;e+=1)o[e]="<code><u>"+b["undefined"][e].name+"</u></code>&nbsp;<i>"+String(b["undefined"][e].line)+" </i> <small>"+b["undefined"][e]["function"]+"</small>";n.push("<p><i>Undefined variable:</i> "+o.join(", ")+"</p>")}if(b.unused){o=[];for(e=0;e<b.unused.length;e+=1)o[e]="<code><u>"+b.unused[e].name+"</u></code>&nbsp;<i>"+String(b.unused[e].line)+" </i> <small>"+b.unused[e]["function"]+"</small>";n.push("<p><i>Unused variable:</i> "+o.join(", ")+"</p>")}b.json&&n.push("<p>JSON: bad.</p>"),n.push("</div>")}if(!a){n.push("<br><div id=functions>"),b.urls&&s("URLs<br>",b.urls,"<br>"),pb==="style"?n.push("<p>CSS.</p>"):b.json&&!c?n.push("<p>JSON: good.</p>"):b.globals?n.push("<div><i>Global</i> "+b.globals.sort().join(", ")+"</div>"):n.push("<div><i>No new global variables introduced.</i></div>");for(e=0;e<b.functions.length;e+=1){p=b.functions[e],m=[];if(p.params)for(g=0;g<p.params.length;g+=1)m[g]=p.params[g].string;n.push("<br><div class=function><i>"+String(p.line)+"</i> "+p.name.entityify()+"("+m.join(", ")+")</div>"),s("<big><b>Undefined</b></big>",p["undefined"]),s("<big><b>Unused</b></big>",p.unused),s("Closure",p.closure),s("Variable",p["var"]),s("Exception",p.exception),s("Outer",p.outer),s("Global",p.global),s("Label",p.label)}if(b.member){i=Object.keys(b.member);if(i.length){i=i.sort(),n.push("<br><pre id=properties>/*properties<br>"),k="    ",f=0,g=0;if(U.confusion)for(e=0;e<i.length;e+=1)h=i[e],typeof fb[h]!="string"&&(l=xb.test(h)?h:"'"+h.entityify().replace(Ab,Jb)+"'",b.member[h]===1&&(l="<i>"+l+"</i>",f+=1,g=1),e<i.length-1&&(l+=", "),k.length+l.length-f*7>80&&(n.push(k+"<br>"),k="    ",f=g),k+=l,g=0);else for(e=0;e<i.length;e+=1)h=i[e],q=Y[h],typeof q!="string"&&(q=""),fb[h]!==q&&(l=xb.test(h)?h:"'"+h.entityify().replace(Ab,Jb)+"'",j+=l.length+2,b.member[h]===1&&(l="<i>"+l+"</i>",f+=1,g=1),q&&(l+=": "+q),e<i.length-1&&(l+=", "),k.length+l.length-f*7>80&&(n.push(k+"<br>"),k="    ",f=g),k+=l,g=0);n.push(k+"<br>*/</pre>")}n.push("</div>")}}return n.join("")},K.jslint=K,K.edition="2012-01-13",K}();define("thirdparty/jslint/jslint",function(){}),define("PreferencesManager",["require","exports","module"],function(a,b,c){function j(a){if(a===undefined||a===null)throw new Error("Invalid clientID");var b=g[a];return b===undefined?undefined:JSON.parse(JSON.stringify(b))}function k(){h.setItem(e,JSON.stringify(g))}function l(a,b,c,d){if(typeof b!="function")throw new Error("Invalid arguments");var e=j(a);e===undefined&&(JSON.stringify(d)?e=d:e={},g[a]=e,k());var h={clientID:a,callback:b,instance:c};f[a]=h}function m(){var a,b;$.each(f,function(c,d){a=f[c],b=j(a.clientID);try{a.callback.call(a.instance,b)}catch(e){console.log("PreferenceManager.savePreferences(): Failed to save data for clientID "+a.clientID)}JSON.stringify(b)&&(g[a.clientID]=b)}),k()}function n(){f={},g={},h.setItem(e,JSON.stringify(g))}function o(a){h=a,i&&(g=JSON.parse(h.getItem(e))),g||n()}"use strict";var d="com.adobe.brackets.preferences",e,f={},g,h,i=!1;e=localStorage.getItem("preferencesKey"),e?i=!!localStorage.getItem("doLoadPreferences"):(e=d,i=!0),o(localStorage),b.getPreferences=j,b.addPreferencesClient=l,b.savePreferences=m,b._reset=n}),define("ShellAPI",["require","exports","module","CommandManager"],function(a,b,c){function e(a){var b=document.createEvent("Event");return b.initEvent(a,!1,!0),d.execute(a,{evt:b}),b.defaultPrevented}"use strict";var d=a("CommandManager");b.executeCommand=e}),define("Editor",["require","exports","module","EditorManager"],function(a,b,c){function e(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=a.getLine(b.line),e=!1,f=!1;b.line===c.line&&(d.search(/\S/)>c.ch||c.ch===0)&&(e=!0);if(e){var g=d.length;CodeMirror.commands.indentAuto(a),a.getLine(b.line).length===g&&(f=!0,c.ch=0)}else a.somethingSelected()?CodeMirror.commands.indentMore(a):f=!0;if(f)if(a.getOption("indentWithTabs"))CodeMirror.commands.insertTab(a);else{var h,i="",j=a.getOption("tabSize");j-=c.ch%j;for(h=0;h<j;h++)i+=" ";a.replaceSelection(i,"end")}}function f(a,b,c){var d=!1;if(!a.getOption("indentWithTabs")){var e=a.getCursor(),f=a.getOption("tabSize"),g=e.ch%f,h=a.getLine(e.line);if(b===1){g=f-g;if(e.ch+g>h.length)return!1;h.substr(e.ch,g).search(/\S/)===-1&&(a[c](g,"char"),d=!0)}else{if(e.ch===0)return!1;g===0&&(g=f);var i=h.substr(e.ch-g,g).search(/\s*$/g);i!==-1&&(g-=i),g>0&&(a[c](-g,"char"),d=!0)}}return d}function g(a,b,c){var d=b._codeMirror;if(c.type==="keypress"){var e=String.fromCharCode(c.which||c.keyCode);if(/[\]\}\)]/.test(e)){var f=d.getCursor().line,g=d.getLine(f);/\S/.test(g)||setTimeout(function(){d.indentLine(f)},75)}}}function h(a,b,c,d,h){function k(a){return function(b){a(i)}}var i=this;this.document=a,a.addRef(),this._handleDocumentChange=this._handleDocumentChange.bind(this),$(a).on("change",this._handleDocumentChange),this._inlineWidgets=[];var j={Tab:e,Left:function(a){f(a,-1,"moveH")||CodeMirror.commands.goCharLeft(a)},Right:function(a){f(a,1,"moveH")||CodeMirror.commands.goCharRight(a)},Backspace:function(a){f(a,-1,"deleteH")||CodeMirror.commands.delCharLeft(a)},Delete:function(a){f(a,1,"deleteH")||CodeMirror.commands.delCharRight(a)},F3:"findNext","Shift-F3":"findPrev","Ctrl-H":"replace","Shift-Delete":"cut","Ctrl-Insert":"copy","Shift-Insert":"paste"},l;for(l in h)h.hasOwnProperty(l)&&(j.hasOwnProperty(l)&&console.log("Warning: overwriting standard Editor shortcut "+l),j[l]=k(h[l]));c||(c="text/plain"),this._codeMirror=new CodeMirror(d,{electricChars:!1,indentUnit:4,lineNumbers:!0,matchBrackets:!0,extraKeys:j}),this._installEditorListeners(),$(this).on("keyEvent",g).on("change",this._handleEditorChange.bind(this)),this._codeMirror.setOption("mode",c),this._duringSync=!0,this._resetText(a.getText()),this._duringSync=!1,b&&a._makeEditable(this)}"use strict";var d=a("EditorManager");h.prototype.destroy=function(){$(this._codeMirror.getWrapperElement()).remove(),this.document.releaseRef(),$(this.document).off("change",this._handleDocumentChange),this.document._masterEditor===this&&this.document._makeNonEditable(),this._inlineWidgets.forEach(function(a){a.closeCallback()})},h.prototype._handleEditorChange=function(){if(this._duringSync)return;this.document._masterEditor||d._createFullEditorForDocument(this.document),this.document._masterEditor!==this&&(this._duringSync=!0,this.document.setText(this._getText()),this._duringSync=!1)},h.prototype._handleDocumentChange=function(){if(this._duringSync)return;this.document._masterEditor!==this&&$(this).triggerHandler("lostSync")},h.prototype._installEditorListeners=function(){var a=this;this._codeMirror.setOption("onChange",function(){$(a).triggerHandler("change")}),this._codeMirror.setOption("onKeyEvent",function(b,c){return $(a).triggerHandler("keyEvent",[a,c]),!1})},h.prototype._getText=function(){return this._codeMirror.getValue()},h.prototype._setText=function(a){this._codeMirror.setValue(a)},h.prototype._resetText=function(a){this._codeMirror.setValue(a),this._codeMirror.clearHistory()},h.prototype.getCursorPos=function(){return this._codeMirror.getCursor()},h.prototype.setCursorPos=function(a,b){this._codeMirror.setCursor(a,b)},h.prototype.getSelection=function(){var a=this._codeMirror.getCursor(!0),b=this._codeMirror.getCursor(!1);return{start:a,end:b}},h.prototype.setSelection=function(a,b){this._codeMirror.setSelection(a,b)},h.prototype.lineCount=function(){return this._codeMirror.lineCount()},h.prototype.hideLine=function(a){return this._codeMirror.hideLine(a)},h.prototype.totalHeight=function(a){return this._codeMirror.totalHeight(a)},h.prototype.getScrollerElement=function(){return this._codeMirror.getScrollerElement()},h.prototype.addInlineWidget=function(a,b,c,d,e){var f=this,g=this._codeMirror.addInlineWidget(a,b,c,function(a){f._removeInlineWidgetInternal(a),setTimeout(function(){d()},0)});return this._inlineWidgets.push({id:g,data:e,closeCallback:d}),g},h.prototype.removeInlineWidget=function(a){this._codeMirror.removeInlineWidget(a)},h.prototype._removeInlineWidgetInternal=function(a){var b;for(b=0;b<this._inlineWidgets.length;b++)if(this._inlineWidgets[b].id===a){this._inlineWidgets.splice(b,1);break}},h.prototype.getInlineWidgets=function(){return this._inlineWidgets
},h.prototype.setInlineWidgetHeight=function(a,b,c){this._codeMirror.setInlineWidgetHeight(a,b,c)},h.prototype.focus=function(){this._codeMirror.focus()},h.prototype.hasFocus=function(){return $(this._codeMirror.getWrapperElement()).hasClass("CodeMirror-focused")},h.prototype.refresh=function(){this._codeMirror.refresh()},h.prototype.document=null,h.prototype._duringSync=!1,h.prototype._codeMirror=null,h.prototype._inlineWidgets=null,b.Editor=h}),define("EditorManager",["require","exports","module","FileUtils","DocumentManager","Editor","EditorUtils","strings"],function(a,b,c){function n(a,b,c,d){var e=g.getModeFromFileExtension(a.file.fullPath),h={"Ctrl-E":function(a){d(a)},"Cmd-E":function(a){d(a)}};return new f(a,b,e,c,h)}function o(a){var b=a.getCursorPos(),c,d;for(d=0;d<m.length&&!c;d++){var e=m[d];c=e(a,b)}c&&c.done(function(c){var d=a.addInlineWidget(b,c.content,c.height,c.onClosed,c);c.onAdded(d)})}function p(a,b,c){if(c){var d=a._codeMirror.getInlineWidgetInfo(b).line,e=a.getCursorPos().line;e!==d&&a.setCursorPos({line:d,pos:0}),a.focus()}a.removeInlineWidget(b)}function q(a){m.push(a)}function r(a){var b=[];return a.getInlineWidgets().forEach(function(a){a.data.editor&&b.push(a.data.editor)}),b}function s(a){var b=r(a);b.push(a);var c=0;b.forEach(function(a){var b=$(a._codeMirror.getGutterElement());b.css("min-width","");var d=b.width();d>c&&(c=d)});if(b.length===1){b[0]._codeMirror.setOption("gutter",!0);return}c+="px",b.forEach(function(a){$(a._codeMirror.getGutterElement()).css("min-width",c),a._codeMirror.setOption("gutter",!0)})}function t(a){var b=i.get(0),c=n(a,!0,b,o);$(c._codeMirror.getWrapperElement()).css("display","none")}function u(){return j}function v(a,b,c){function f(b){var c=b.hasFocus();p(a,e,c)}function i(){var b=g.totalHeight(!0);b!==h&&(h=b,a.setInlineWidgetHeight(e,b,!0),$(g.getScrollerElement()).height(b),g.refresh())}function j(b){e=b;var d=!1;c&&(g._codeMirror.operation(function(){var a;for(a=0;a<c.startLine;a++)d=!0,g.hideLine(a);var b=g.lineCount();for(a=c.endLine+1;a<b;a++)d=!0,g.hideLine(a)}),g.setCursorPos(c.startLine,0),s(a)),d||g.refresh(),i(),g.focus()}function k(){s(a),g.destroy()}var d=document.createElement("div");$(d).addClass("inlineCodeEditor");var e,g=n(b,!1,d,f),h;return $(g).on("change",function(){i()}),$(g).on("lostSync",function(){f(g)}),{content:d,editor:g,height:0,onAdded:j,onClosed:k}}function w(a){var b=a._masterEditor;if(!b)return;e.getCurrentDocument()!==a&&e.findInWorkingSet(a.file.fullPath)===-1&&(b.destroy(),j===b&&(k=null,j=null))}function x(){j&&j.focus()}function y(){j&&($(j.getScrollerElement()).height(i.height()),j.refresh())}function z(){j&&$(j.getScrollerElement()).height(i.height())}function A(a){k=a,j=a._masterEditor,$(j._codeMirror.getWrapperElement()).css("display",""),y()}function B(a){j?($(j._codeMirror.getWrapperElement()).css("display","none"),w(k)):$("#notEditor").css("display","none"),a._masterEditor||t(a),A(a)}function C(){j&&($(j._codeMirror.getWrapperElement()).css("display","none"),w(k),k=null,j=null,$("#notEditor").css("display",""))}function D(){var a=e.getCurrentDocument();a?B(a):C()}function E(a,b){w(b)}function F(a){if(j)throw new Error("Cannot change editor area after an editor has already been created!");i=a}function G(){if(j){var a;j.getInlineWidgets().forEach(function(b){b.data.editor&&b.data.editor.hasFocus()&&(a=b.data.editor)});if(a)return a;if(j.hasFocus())return j}return null}"use strict";var d=a("FileUtils"),e=a("DocumentManager"),f=a("Editor").Editor,g=a("EditorUtils"),h=a("strings"),i=null,j=null,k=null,l=null,m=[];$(e).on("currentDocumentChange",D),$(e).on("workingSetRemove",E),window.addEventListener("resize",z,!0),b._openInlineWidget=o,b.setEditorHolder=F,b.getCurrentFullEditor=u,b.createInlineEditorForDocument=v,b._createFullEditorForDocument=t,b.focusEditor=x,b.getFocusedEditor=G,b.resizeEditor=y,b.registerInlineEditProvider=q}),define("DocumentManager",["require","exports","module","NativeFileSystem","ProjectManager","EditorManager","PreferencesManager","FileUtils","CommandManager","Async","Editor","Commands"],function(a,b,c){function o(){return n}function r(){return p}function s(a){var b=-1,c=p.some(function(d,e,f){return b=e,d.file.fullPath===a});return c?b:-1}function t(){var a=[],b;for(b in q)q.hasOwnProperty(b)&&a.push(q[b]);return a}function u(a){if(s(a.file.fullPath)!==-1)return;p.push(a),$(b).triggerHandler("workingSetAdd",a)}function v(a){var c=s(a.file.fullPath);if(c===-1)return;p.splice(c,1),$(b).triggerHandler("workingSetRemove",a)}function w(a){if(n===a)return;e.isWithinProject(a.file.fullPath)||u(a),n=a,$(b).triggerHandler("currentDocumentChange")}function x(){if(!n)return;n=null,$(b).triggerHandler("currentDocumentChange")}function y(a){if(n===a){var b=s(a.file.fullPath),c;b===-1?p.length>0&&(c=p[p.length-1]):b<p.length-1?c=p[b+1]:b>0&&(c=p[b-1]),c?w(c):x()}console.assert(n!==a),v(a)}function z(){var a=t();a.forEach(y)}function A(a,b,c){if(!(this instanceof A))throw new Error("Document constructor must be called with 'new'");if(q[a.fullPath])throw new Error("Creating a document when one already exists, for: "+a);this.file=a,this.refreshText(c,b)}function B(a){var b=new $.Deferred,c=q[a];if(c)b.resolve(c);else{var e=new d.FileEntry(a);h.readAsText(e).done(function(a,d){c=new A(e,d,a),b.resolve(c)}).fail(function(a){b.reject(a)})}return b}function C(a){var b=[],c=!1,d=r(),e=o();d.forEach(function(a,d){c=a===e,b.push({file:a.file.fullPath,active:c})}),a.files=b}function D(){function f(a,b){var e=new $.Deferred;return B(a.file).done(function(f){c[b]=f,a.active&&(d=f),e.resolve()}).fail(function(a){c[b]=null,e.resolve()}),e}var a=g.getPreferences(m);if(!a.files)return;var b=e.getProjectRoot(),c=[],d,h=j.doInParallel(a.files,f,!1);h.done(function(){c.forEach(function(a,b){a&&(u(a),w(a))}),!d&&p.length>0&&(d=p[0]),d&&w(d)})}"use strict";var d=a("NativeFileSystem").NativeFileSystem,e=a("ProjectManager"),f=a("EditorManager"),g=a("PreferencesManager"),h=a("FileUtils"),i=a("CommandManager"),j=a("Async"),k=a("Editor").Editor,l=a("Commands"),m="com.adobe.brackets.DocumentManager",n=null,p=[],q={};A.prototype._refCount=0,A.prototype.file=null,A.prototype.isDirty=!1,A.prototype.diskTimestamp=null,A.prototype._text=null,A.prototype._masterEditor=null,A.prototype._lineEndings=null,A.prototype.addRef=function(){if(this._refCount===0){if(q[this.file.fullPath])throw new Error("Document for this path already in _openDocuments!");q[this.file.fullPath]=this}this._refCount++},A.prototype.releaseRef=function(){this._refCount--;if(this._refCount<0)throw new Error("Document ref count has fallen below zero!");if(this._refCount===0){if(!q[this.file.fullPath])throw new Error("Document with references was not in _openDocuments!");delete q[this.file.fullPath]}},A.prototype._makeEditable=function(a){if(this._masterEditor)throw new Error("Document is already editable");this._text=null,this._masterEditor=a,$(a).on("change",this._handleEditorChange.bind(this))},A.prototype._makeNonEditable=function(){if(!this._masterEditor)throw new Error("Document is already non-editable");this._text=this.getText(),this._masterEditor=null,this.isDirty&&this.refreshText("")},A.prototype.getText=function(){if(this._masterEditor){var a=this._masterEditor._getText();return this._lineEndings===h.LINE_ENDINGS_LF?a:a.replace(/\n/g,"\r\n")}return this._text},A.prototype.setText=function(a){if(!this._masterEditor)throw new Error("Cannot mutate a Document before it has been assigned a master Editor");this._masterEditor._setText(a)},A.prototype.refreshText=function(a,b){this._masterEditor?this._masterEditor._resetText(a):(this._text=a,$(this).triggerHandler("change",[this])),this._markClean(),this.diskTimestamp=b,this._lineEndings=h.sniffLineEndings(a),this._lineEndings||(this._lineEndings=h.getPlatformLineEndings())},A.prototype._handleEditorChange=function(){var a=this.isDirty;this.isDirty=!0,a||($(b).triggerHandler("dirtyFlagChange",[this]),u(this)),$(this).triggerHandler("change",[this])},A.prototype._markClean=function(){this.isDirty=!1,$(b).triggerHandler("dirtyFlagChange",this)},A.prototype.notifySaved=function(){this._masterEditor||console.log("### Warning: saving a Document that is not modifiable!"),this._markClean(),$(b).triggerHandler("documentSaved",this);var a=this;this.file.getMetadata(function(b){a.diskTimestamp=b.modificationTime},function(b){console.log("Error updating timestamp after saving file: "+a.file.fullPath)})},A.prototype.toString=function(){var a=this.isDirty?" (dirty!)":" (clean)",b=this._masterEditor?" Editable":" Non-editable",c=" refs:"+this._refCount;return"[Document "+this.file.fullPath+a+b+c+"]"},b.Document=A,b.getCurrentDocument=o,b.getDocumentForPath=B,b.getWorkingSet=r,b.findInWorkingSet=s,b.getAllOpenDocuments=t,b.setCurrentDocument=w,b.addToWorkingSet=u,b.closeDocument=y,b.closeAll=z,g.addPreferencesClient(m,C,this),$(e).on("initializeComplete",function(a,b){D()})}),define("FileViewController",["require","exports","module","DocumentManager","CommandManager","EditorManager","Commands"],function(a,b,c){function l(a,c){var l;if(c!==j&&c!==i)throw new Error("Bad parameter passed to FileViewController.openAndSelectDocument");h=!0,k=c;var m=d.getCurrentDocument();return m&&m.file.fullPath===a?($(b).triggerHandler("documentSelectionFocusChange"),f.focusEditor(),l=(new $.Deferred).resolve()):l=e.execute(g.FILE_OPEN,{fullPath:a}),l.always(function(){h=!1}),l}function m(a){e.execute(g.FILE_ADD_TO_WORKING_SET,{fullPath:a}),l(a,i)}function n(){return k}"use strict";var d=a("DocumentManager"),e=a("CommandManager"),f=a("EditorManager"),g=a("Commands"),h=!1,i="WorkingSetView",j="ProjectManager",k=j;$(d).on("workingSetAdd",function(a,c){k=i,$(b).triggerHandler("documentSelectionFocusChange")}),$(d).on("currentDocumentChange",function(a){if(!h){var c=d.getCurrentDocument();c&&d.findInWorkingSet(c.file.fullPath)!==-1?k=i:k=j}$(b).triggerHandler("documentSelectionFocusChange")}),b.getFileSelectionFocus=n,b.openAndSelectDocument=l,b.addToWorkingSetAndSelect=m,b.WORKING_SET_VIEW=i,b.PROJECT_MANAGER=j}),define("ProjectManager",["require","exports","module","thirdparty/jstree_pre1.0_fix_1/jquery.jstree","NativeFileSystem","PreferencesManager","DocumentManager","EditorManager","CommandManager","Commands","Dialogs","strings","FileViewController","PerfUtils","ViewUtils","FileUtils"],function(a,b,c){function t(){return q}function u(a){return a.indexOf(q.fullPath)===0}function v(a){return u(a)?a.slice(q.fullPath.length):a}function w(a){a.projectPath=q.fullPath;var b=[],c=q.fullPath.length,d,e,f,g;$(".jstree-open").each(function(a){d=$(this).data("entry"),d.fullPath&&(e=d.fullPath,f=e.slice(c,-1),g=f.split("/").length-1,b[g]===undefined&&(b[g]=[]),b[g].push(e))}),a.projectTreeState=b}function x(a){var b=$("#project-files-container"),c=new $.Deferred;return p=b.jstree({plugins:["ui","themes","json_data","crrm","sort"],json_data:{data:a,correct_state:!1},core:{animation:0},themes:{theme:"brackets",url:"styles/jsTreeTheme.css",dots:!1,icons:!1},strings:{loading:"Loading ...",new_node:"New node"},sort:function(a,b){if(brackets.platform==="win"){var c=($(a).hasClass("jstree-leaf")?"1":"0")+this.get_text(a).toLowerCase(),d=($(b).hasClass("jstree-leaf")?"1":"0")+this.get_text(b).toLowerCase();return c>d?1:-1}return this.get_text(a).toLowerCase()>this.get_text(b).toLowerCase()?1:-1}}).bind("select_node.jstree",function(a,b){var c=b.rslt.obj.data("entry");c.isFile&&l.openAndSelectDocument(c.fullPath,"ProjectManager")}).bind("reopen.jstree",function(a,b){if(r.previous.length>0){var d=r.previous.shift(),e=[],f=null;$.each(d,function(a,b){f=r.fullPathToIdMap[b],f&&e.push(f)}),b.inst.data.core.to_open=e,p.jstree("reload_nodes",!1)}r.previous.length===0&&c.resolve()}),p.bind("init.jstree",function(){p.unbind("dblclick.jstree").bind("dblclick.jstree",function(a){var b=$(a.target).closest("li").data("entry");b&&b.isFile&&l.addToWorkingSetAndSelect(b.fullPath)})}),c.always(function(){n.updateChildrenToParentScrollwidth($("#project-files-container"))}),c}function y(a){return a.name[0]==="."?!1:a.name==="Thumbs.db"?!1:!0}function z(a){var b=[],c,d;for(d=0;d<a.length;d++){c=a[d];if(y(c)){var e={data:c.name,attr:{id:"node"+r.id++},metadata:{entry:c}};c.isDirectory&&(e.children=[],e.state="closed"),b.push(e),r.fullPathToIdMap[c.fullPath]=e.attr.id}}return b}function A(a,b){var c,d=!1;a===-1?(c=q,d=!0):c=a.data("entry"),c.createReader().readEntries(function(c){var e=z(c),f=!1,g=e.length===0;g&&(d?e.push({}):f=a.hasClass("jstree-open")),b(e);if(!d&&g){var h=f?"jstree-closed":"jstree-open";a.removeClass("jstree-leaf jstree-closed jstree-open").addClass(h)}n.updateChildrenToParentScrollwidth($("#project-files-container"))},function(a){j.showModalDialog(j.DIALOG_ID_ERROR,k.ERROR_LOADING_PROJECT,k.format(k.READ_DIRECTORY_ENTRIES_ERROR,c.fullPath,a.code))})}function B(){var a=window.location.pathname,b=a.substr(0,a.lastIndexOf("/"));return b=o.convertToNativePath(b),b}function C(a){r.id=0;var c=e.getPreferences(s),f=new $.Deferred,g,h=!1;if(a===null||a===undefined)a=c.projectPath,h=!0,r.previous=c.projectTreeState,brackets.inBrowser&&(a="DummyProject",$("#project-title").html(a));return m.markStart("Load Project: "+a),brackets.inBrowser||d.requestNativeFileSystem(a,function(c){var d=!q||!c||q.fullPath!==c.fullPath;q=c,$("#project-title").html(q.name),g=x(A),g.done(function(){f.resolve(),h&&$(b).triggerHandler("initializeComplete",q),d&&$(b).triggerHandler("projectRootChanged",q)}),g.fail(function(){f.reject()}),g.always(function(){m.addMeasurement("Load Project: "+a)})},function(b){j.showModalDialog(j.DIALOG_ID_ERROR,k.ERROR_LOADING_PROJECT,k.format(k.REQUEST_NATIVE_FILE_SYSTEM_ERROR,a,b.code,function(){f.reject()})).done(function(){return C(B())})}),f}function D(){h.execute(i.FILE_CLOSE_ALL,{promptOnly:!0}).done(function(){d.showOpenDialog(!1,!0,"Choose a folder",q.fullPath,null,function(a){a.length>0&&(f.closeAll(),C(a[0]))},function(a){j.showModalDialog(j.DIALOG_ID_ERROR,k.ERROR_LOADING_PROJECT,k.format(k.OPEN_DIALOG_ERROR,a.code))})})}function E(){var a=p.jstree("get_selected");return a?a.data("entry"):null}function F(a,b,c){var d=null,e=p.jstree("get_selected"),f=null,g="inside",h=!1,i=new $.Deferred,l=!0;e&&(f=e.data("entry"));if(f)if(f.isFile){g="after";var m=$.jstree._reference(p)._get_parent(e);typeof m.data=="function"?f=m.data("entry"):f=null}else f.isDirectory&&(l=e.hasClass("jstree-open"));f||(f=t()),p.on("create.jstree",function(a,b){function c(){var a=b.inst._get_parent(b.rslt.obj);p.jstree("remove",b.rslt.obj);if(a&&a!==-1){var c=l?"open_node":"close_node",d=l?"jstree-open":"jstree-closed";p.jstree(c,a),a.removeClass("jstree-leaf jstree-closed jstree-open").addClass(d)}i.reject()}$(a.target).off("create.jstree");if(!h){if(b.rslt.name.search(/[\/?*:;\{\}<>\\|]+/)!==-1){j.showModalDialog(j.DIALOG_ID_ERROR,k.INVALID_FILENAME_TITLE,k.INVALID_FILENAME_MESSAGE),c();return}f.getFile(b.rslt.name,{create:!0,exclusive:!0},function(a){b.rslt.obj.data("entry",a),p.jstree("select_node",b.rslt.obj,!0),i.resolve(a)},function(a){if(a.code===FileError.PATH_EXISTS_ERR||a.code===FileError.TYPE_MISMATCH_ERR)j.showModalDialog(j.DIALOG_ID_ERROR,k.INVALID_FILENAME_TITLE,k.format(k.FILE_ALREADY_EXISTS,b.rslt.name));else{var d=a.code===FileError.NO_MODIFICATION_ALLOWED_ERR?k.NO_MODIFICATION_ALLOWED_ERR:k.format(String.GENERIC_ERROR,a.code),e=k.format(k.ERROR_CREATING_FILE,b.rslt.name,d);j.showModalDialog(j.DIALOG_ID_ERROR,k.ERROR_CREATING_FILE_TITLE,e)}c()})}else c()}),d=e,p.jstree("open_node",d),p.jstree("create",d,g,{data:b},null,c);var n=p.find(".jstree-rename-input");return n.on("keydown",function(a){a.keyCode===27&&(h=!0)}),n.css({left:"17px",height:"24px"}).parent().css({height:"26px"}),i}"use strict",a("thirdparty/jstree_pre1.0_fix_1/jquery.jstree");var d=a("NativeFileSystem").NativeFileSystem,e=a("PreferencesManager"),f=a("DocumentManager"),g=a("EditorManager"),h=a("CommandManager"),i=a("Commands"),j=a("Dialogs"),k=a("strings"),l=a("FileViewController"),m=a("PerfUtils"),n=a("ViewUtils"),o=a("FileUtils"),p=null,q=null,r={previous:[],id:0,fullPathToIdMap:{}};$(l).on("documentSelectionFocusChange",function(a){var b=f.getCurrentDocument();b&&l.getFileSelectionFocus()!==l.WORKING_SET_VIEW?$("#project-files-container li").is(function(a){var c=$(this).data("entry");return c&&c.fullPath===b.file.fullPath&&!p.jstree("is_selected",$(this))?(p.jstree("deselect_all"),p.jstree("select_node",$(this),!1),!0):!1}):p.jstree("deselect_all")});var s="com.adobe.brackets.ProjectManager";b.getProjectRoot=t,b.isWithinProject=u,b.makeProjectRelativeIfPossible=v,b.openProject=D,b.loadProject=C,b.getSelectedItem=E,b.createNewItem=F,function(){var a={projectPath:B(),projectTreeState:""};e.addPreferencesClient(s,w,this,a)}()}),define("FileCommandHandlers",["require","exports","module","thirdparty/path-utils/path-utils.min","CommandManager","Commands","NativeFileSystem","ProjectManager","DocumentManager","EditorManager","FileUtils","Async","Dialogs","strings","PreferencesManager","PerfUtils"],function(a,b,c){function r(){var a=h.getCurrentDocument();a?p.text(q+(a.isDirty?" •":"")):p.text("")}function s(){var a=h.getCurrentDocument();if(a){var b=a.file.fullPath;q=g.makeProjectRelativeIfPossible(b)}else q=null;r()}function t(a,b){var c=h.getCurrentDocument();c&&b.file.fullPath===c.file.fullPath&&r()}function u(a){var b=new $.Deferred;return a?(o.markStart("Open File: "+a),b.always(function(){o.addMeasurement("Open File: "+a)}),h.getDocumentForPath(a).done(function(a){h.setCurrentDocument(a),b.resolve(a)}).fail(function(c){j.showFileOpenError(c.code,a).done(function(){i.focusEditor(),b.reject()})}),b):(console.log("doOpen() called without fullPath"),b.reject())}function w(a){var b;return a?b=u(a):(v||(v=g.getProjectRoot().fullPath),f.showOpenDialog(!1,!1,m.OPEN_FILE,v,null,function(a){if(a.length>0){b=u(a[0]).always(function(b){var c=PathUtils.parseUrl(b.file.fullPath);v=c.protocol+c.doubleSlash+c.authority+c.directory});return}})),b||(b=(new $.Deferred).reject()),b}function x(a){var b=null;return a&&(b=a.fullPath),w(b).always(i.focusEditor)}function y(a){x(a).done(function(a){h.addToWorkingSet(a)})}function z(a,b,c){var d=new $.Deferred,e=b+c,g=new f.DirectoryEntry(a);return d.progress(function(e,f){if(f>99){d.reject();return}g.getFile(e,{},function(e){d.notify(b+"-"+f+c,f+1)},function(b){d.resolve(e)})}),d.notify(b+c,1),d}function A(){var a,b=g.getSelectedItem()||g.getProjectRoot();a=b.fullPath,b.isFile&&(a=a.substr(0,a.lastIndexOf("/")));var c=z(a,"Untitled",".js"),d=function(b){g.createNewItem(a,b,!1).pipe(c.resolve,c.reject,c.notify)};return c.done(d),c.fail(function(){d("Untitled.js")}),c}function B(a,b){return l.showModalDialog(l.DIALOG_ID_ERROR,m.ERROR_SAVING_FILE_TITLE,m.format(m.ERROR_SAVING_FILE,b,j.getFileErrorString(a)))}function C(a){function c(a,c){B(a.code,c.fullPath).always(function(){b.reject(a)})}var b=new $.Deferred;if(a&&a.isDirty){var d=a.file,e=!1;d.createWriter(function(f){f.onwriteend=function(){e||(a.notifySaved(),b.resolve())},f.onerror=function(a){e=!0,c(a,d)},f.write(a.getText())},function(a){c(a,d)})}else b.resolve();return b.always(function(){i.focusEditor()}),b}function D(a){var b=null;a&&(b=a.doc);if(!b){var c=i.getFocusedEditor();c&&(b=c.document)}return C(b)}function E(){return k.doSequentially(h.getWorkingSet(),C,!1)}function F(a){function c(b){if(!a||!a.promptOnly)h.closeDocument(b),i.focusEditor()}var b=null;a&&(b=a.doc);var d=new $.Deferred;b||(b=h.getCurrentDocument());if(!b)return;if(b.isDirty){var e=PathUtils.parseUrl(b.file.fullPath).filename;l.showModalDialog(l.DIALOG_ID_SAVE_CLOSE,m.SAVE_CLOSE_TITLE,m.format(m.SAVE_CLOSE_MESSAGE,e)).done(function(a){a===l.DIALOG_BTN_CANCEL?d.reject():a===l.DIALOG_BTN_OK?C(b).done(function(){c(b),d.resolve()}).fail(function(){d.reject()}):(c(b),d.resolve())}),d.always(function(){i.focusEditor()})}else c(b),i.focusEditor(),d.resolve();return d}function G(a){var b=new $.Deferred,c=h.getWorkingSet().filter(function(a){return a.isDirty});if(c.length===0)b.resolve();else if(c.length===1){var d={doc:c[0],promptOnly:a.promptOnly};F(d).done(function(){b.resolve()}).fail(function(){b.reject()})}else{var e=m.SAVE_CLOSE_MULTI_MESSAGE;e+="<ul>",c.forEach(function(a){e+="<li>"+g.makeProjectRelativeIfPossible(a.file.fullPath)+"</li>"}),e+="</ul>",l.showModalDialog(l.DIALOG_ID_SAVE_CLOSE,m.SAVE_CLOSE_TITLE,e).done(function(a){a===l.DIALOG_BTN_CANCEL?b.reject():a===l.DIALOG_BTN_OK?E().done(function(){b.resolve()}).fail(function(){b.reject()}):b.resolve()})}return b.done(function(){(!a||!a.promptOnly)&&h.closeAll()}),b}function I(a,b){return H?(new $.Deferred).resolve():(a&&a.evt&&a.evt.cancelable&&a.evt.preventDefault(),d.execute(e.FILE_CLOSE_ALL,{promptOnly:!0}).done(function(){H=!0,n.savePreferences(),b()}))}function J(a){return I(a,function(){window.close()})}function K(a){return I(a,function(){brackets.app.quit()})}function L(a){return I(a,function(){window.location.reload()})}function M(a){p=a,d.register(e.FILE_OPEN,x),d.register(e.FILE_ADD_TO_WORKING_SET,y),d.register(e.FILE_NEW,A),d.register(e.FILE_SAVE,D),d.register(e.FILE_CLOSE,F),d.register(e.FILE_CLOSE_ALL,G),d.register(e.FILE_CLOSE_WINDOW,J),d.register(e.FILE_QUIT,K),d.register(e.FILE_RELOAD,L),$(h).on("dirtyFlagChange",t),$(h).on("currentDocumentChange",s)}"use strict",a("thirdparty/path-utils/path-utils.min");var d=a("CommandManager"),e=a("Commands"),f=a("NativeFileSystem").NativeFileSystem,g=a("ProjectManager"),h=a("DocumentManager"),i=a("EditorManager"),j=a("FileUtils"),k=a("Async"),l=a("Dialogs"),m=a("strings"),n=a("PreferencesManager"),o=a("PerfUtils"),p=null,q=null,v=null,H=!1;b.init=M}),define("FileIndexManager",["require","exports","module","NativeFileSystem","PerfUtils","ProjectManager","Dialogs","strings"],function(a,b,c){function k(a,b){this.name=a,this.fileInfos=[],this.filterFunction=b}function l(a){this.name=a.name,this.fullPath=a.fullPath}function m(a,b){if(i.hasOwnProperty(a))throw new Error("Duplicate index name");if(typeof b!="function")throw new Error("Invalid arguments");i[a]=new k(a,b),j=!0}function n(a){if(brackets.platform==="mac"&&a.name.charAt(0)===".")return;var b=new l(a);$.each(i,function(c,d){d.filterFunction(a)&&d.fileInfos.push(b)})}function o(){return g.showModalDialog(g.DIALOG_ID_ERROR,h.ERROR_MAX_FILES_TITLE,h.ERROR_MAX_FILES)}function p(a){function d(){var a;for(a in b.dirInProgress)if(b.dirInProgress.hasOwnProperty(a))return!1;return!0}function e(a){delete b.dirInProgress[a.fullPath],d()&&c.resolve()}function f(a){if(brackets.platform==="mac"&&a.name.charAt(0)===".")return;b.dirInProgress[a.fullPath]=!0,a.createReader().readEntries(function(c){c.forEach(function(a){if(b.fileCount>1e4){b.maxFilesHit||(b.maxFilesHit=!0,o());return}a.isFile?(n(a),b.fileCount++):a.isDirectory&&f(a)}),e(a)},function(c){b.dirError[a.fullPath]=c,e(a)})}if(!a)throw new Error("Bad dirEntry passed to _scanDirectorySubTree");var b={fileCount:0,dirInProgress:{},dirError:{},maxFilesHit:!1},c=new $.Deferred;return f(a),c.promise()}function q(a){a.forEach(function(a){console.log(a.name)}),console.log("length: "+a.length)}function r(){$.each(i,function(a,b){b.fileInfos=[]})}function s(){j=!0}function u(){if(t)throw new Error("syncFileIndex cannot be called Recursively");t=!0;var a=f.getProjectRoot();return j?(e.markStart("FileIndexManager.syncFileIndex(): "+a.fullPath),r(),p(a).done(function(){e.addMeasurement("FileIndexManager.syncFileIndex(): "+a.fullPath),j=!1,t=!1})):(t=!1,$.Deferred().resolve().promise())}function v(a){var b=new $.Deferred;if(!i.hasOwnProperty(a))throw new Error("indexName not found");return u().done(function(){b.resolve(i[a].fileInfos)}),b.promise()}function w(a,b){var c=new $.Deferred;if(!i.hasOwnProperty(a))throw new Error("indexName not found");return u().done(function(){var d=[];v(a).done(function(a){d=a.filter(function(a){return b(a.name)}),c.resolve(d)})}),c.promise()}function x(a,b){return w(a,function(a){return a===b})}"use strict";var d=a("NativeFileSystem").NativeFileSystem,e=a("PerfUtils"),f=a("ProjectManager"),g=a("Dialogs"),h=a("strings"),i={},j=!0,t=!1;m("all",function(a){return!0}),m("css",function(a){var b=a.name;return PathUtils.filenameExtension(b)===".css"}),$(f).on("projectRootChanged",function(a,b){s()}),b.markDirty=s,b.getFileInfoList=v,b.getFilenameMatches=x}),define("CSSUtils",["require","exports","module","Async","DocumentManager","FileIndexManager","NativeFileSystem"],function(a,b,c){function h(a){var b=[],c=CodeMirror.getMode({indentUnit:2},"css"),d=CodeMirror.startState(c),e=CodeMirror.splitLines(a),f=e.length,g="",h=-1,i,j,k,l,m,n,o=!1,p=-1,q=-1,r=-1,s=-1;for(m=0;m<f;++m){g.trim()!==""&&(g+=" "),l=new CodeMirror.StringStream(e[m]);while(!l.eol()){k=c.token(l,d),j=l.current();if(d.stack.indexOf("{")!==-1||d.stack.length!==0&&d.stack[d.stack.length-1]==="@media"||!(k===null&&j!=="{"&&j!=="}"&&j!==","||k!==null&&k!=="comment"&&k!=="meta")){g.trim()!==""&&b.push({selector:g.trim(),line:i,character:h,ruleEndLine:-1,selectorEndLine:m,selectorEndChar:l.start-1,selectorGroupStartLine:p,selectorGroupStartChar:q}),g="",h=-1;if(!o&&d.stack.indexOf("{")>-1)o=!0,r=m,s=l.start,p=-1,q=-1;else if(o&&d.stack.indexOf("{")===-1){o=!1;for(n=b.length-1;n>=0;n--){if(b[n].ruleEndLine!==-1)break;b[n].ruleStartLine=r,b[n].ruleStartChar=s,b[n].ruleEndLine=m,b[n].ruleEndChar=l.pos-1}}}else h<0&&(h=l.start,i=m,p<0&&(p=i,q=h)),g+=j;l.start=l.pos}}return b}function i(a,b){var c=h(a),d=[],e,f=b[0]==="."||b[0]==="#",g="";b[0]==="."&&(b="\\"+b),f||(b="(^|\\s)"+b);var i=new RegExp(b+"(\\[[^\\]]*\\]|:{1,2}[\\w-()]+|\\.[\\w-]+|#[\\w-]+)*\\s*$",f?"":"i");return c.forEach(function(a){a.selector.search(i)!==-1?d.push(a):f||a.selector.trim().search(/\*$/)!==-1&&d.push(a)}),d}function j(a){function j(a,b){var c=new $.Deferred;return e.getDocumentForPath(a).done(function(d){var e=i(d.getText(),b),f=new g.FileEntry(a);e.forEach(function(a){h.push({document:d,lineStart:a.selectorGroupStartLine,lineEnd:a.ruleEndLine})}),c.resolve()}).fail(function(a){c.reject(a)}),c.promise()}var b=new $.Deferred,c=f.getFileInfoList("css"),h=[];return c.done(function(c){d.doInParallel(c,function(b,c){return j(b.fullPath,a)}).done(function(){b.resolve(h)}).fail(function(a){console.log("Error reading CSS files."),b.reject(a)})}),b.promise()}"use strict";var d=a("Async"),e=a("DocumentManager"),f=a("FileIndexManager"),g=a("NativeFileSystem").NativeFileSystem;b._findAllMatchingSelectorsInText=i,b.findMatchingRules=j,b.extractAllSelectors=h}),define("InlineEditorProviders",["require","exports","module","CodeHintUtils","CSSUtils","DocumentManager","EditorManager","FileUtils","ProjectManager"],function(a,b,c){function k(a,b){var c=$(b).outerWidth();$(b).css("left",a-c-40)}function l(a,b){a.css("width",b?16:4)}function m(){return $("#editorHolder").width()}function n(){var a=m();j.forEach(function(b){var c=$(b).find(".filename");k(a,c)})}function o(a,b){j.forEach(function(a){var c=$(a).find(".filename");c.text()===b.file.name&&l(c.find(".dirty-indicator"),b.isDirty)})}function p(a){var b=j.indexOf(a);b>=0&&j.splice(b,1),j.length===0&&($(window).off("resize",n),$(f).off("dirtyFlagChange",o))}function q(a,b,c,d){var e={startLine:c,endLine:d},f=g.createInlineEditorForDocument(a,b,e);return f}function r(a,b){var c=d.getTagInfo(a,b),e="";if(c.position.tokenType===d.TAG_NAME)e=c.tagName;else if(c.position.tokenType===d.ATTR_NAME||c.position.tokenType===d.ATTR_VALUE)if(c.attr.name==="class"){var f=c.attr.value,g=f.substr(0,c.position.offset).lastIndexOf(" "),h=f.indexOf(" ",c.position.offset);e="."+f.substring(g===-1?0:g+1,h===-1?f.length:h),e==="."&&(e="")}else c.attr.name==="id"&&(e="#"+c.attr.value);return e}function s(a,b){var c=$('<div class="filename" style="visibility: hidden"/>').append('<div class="dirty-indicator"/>').append(b.file.name);$(a.getScrollerElement()).append('<div class="shadow top"/>').append('<div class="shadow bottom"/>').append(c),setTimeout(function(){k(m(),c),l(c.find(".dirty-indicator"),b.isDirty),c.css("visibility","")},0)}function t(a,b){if(a._codeMirror.getOption("mode")!=="htmlmixed")return null;var c=a._codeMirror.getTokenAt(b).state;if(c.mode!=="html")return null;var d=a.getSelection(!1);if(d.start.line!==d.end.line||d.start.ch!==d.end.ch)return null;var g=r(a,b);if(g==="")return null;var h=new $.Deferred;return e.findMatchingRules(g).done(function(b){if(b&&b.length>0){var c=b[0],d=q(a,c.document,c.lineStart,c.lineEnd),e=d.onClosed;d.onClosed=function(){e(),p(d.content)},s(d.editor,c.document),j.push(d.content),j.length>0&&($(window).on("resize",n),$(f).on("dirtyFlagChange",o)),h.resolve(d)}else h.reject()}).fail(function(){console.log("Error in findMatchingRules()"),h.reject()}),h.promise()}function u(){g.registerInlineEditProvider(t)}"use strict";var d=a("CodeHintUtils"),e=a("CSSUtils"),f=a("DocumentManager"),g=a("EditorManager"),h=a("FileUtils"),i=a("ProjectManager"),j=[];b.init=u}),define("WorkingSetView",["require","exports","module","DocumentManager","CommandManager","Commands","EditorManager","FileViewController","NativeFileSystem","ViewUtils"],function(a,b,c){function l(){d.getWorkingSet().length===0?($("#open-files-header").hide(),$("#open-files-container").hide(),$("#open-files-divider").hide()):($("#open-files-header").show(),$("#open-files-container").show(),$("#open-files-divider").show()),j.updateChildrenToParentScrollwidth($("#open-files-container"))}function m(a,b,c){var d=a.find(".file-status-icon"),g=b||c;!g&&d.length!==0?(d.remove(),d=null):g&&d.length===0&&(d=$("<div class='file-status-icon'></div>").prependTo(a).click(function(){var b=a.data(k);e.execute(f.FILE_CLOSE,{doc:b})})),d&&(d.toggleClass("dirty",b),d.toggleClass("canClose",c))}function n(a,b){$(a).toggleClass("selected",$(a).data(k)===b)}function o(a){var b=d.getCurrentDocument(),c=$("<a href='#'></a>").text(a.file.name),e=$("<li></li>").append(c).data(k,a);$("#open-files-container > ul").append(e),m(e,a.isDirty,!1),n(e,b),e.click(function(){h.openAndSelectDocument(a.file.fullPath,h.WORKING_SET_VIEW)}),e.hover(function(){m($(this),a.isDirty,!0)},function(){m($(this),a.isDirty,!1)})}function p(){$("#open-files-container > ul").empty(),d.getWorkingSet().forEach(function(a){o(a)}),l()}function q(){var a;h.getFileSelectionFocus()===h.WORKING_SET_VIEW?a=d.getCurrentDocument():a=null;var b=$("#open-files-container > ul").children().each(function(){n(this,a)})}function r(a){o(a),l()}function s(){q()}function t(a){e.execute(f.FILE_CLOSE,{doc:a})}function u(a){var b=null;if(a){var c=$("#open-files-container > ul").children();c.each(function(){var c=$(this);if(c.data(k)===a)return b=c,!1})}return b}function v(a){var b=u(a);b&&b.remove(),l()}function w(a){var b=u(a);if(b){var c=$(b).find("canClose").length===1;m(b,a.isDirty,c)}}"use strict";var d=a("DocumentManager"),e=a("CommandManager"),f=a("Commands"),g=a("EditorManager"),h=a("FileViewController"),i=a("NativeFileSystem").NativeFileSystem,j=a("ViewUtils"),k="document";$(d).on("workingSetAdd",function(a,b){r(b)}),$(d).on("workingSetRemove",function(a,b){v(b)}),$(d).on("dirtyFlagChange",function(a,b){w(b)}),$(h).on("documentSelectionFocusChange",function(a,b){s()}),l()}),define("FileSyncManager",["require","exports","module","ProjectManager","DocumentManager","EditorManager","Commands","CommandManager","Async","Dialogs","strings","FileUtils"],function(a,b,c){function s(a){function b(a){var b=new $.Deferred;return a.diskTimestamp?a.file.getMetadata(function(c){c.modificationTime.getTime()!==a.diskTimestamp.getTime()&&(a.isDirty?q.push(a):o.push(a)),b.resolve()},function(c){c.code===FileError.NOT_FOUND_ERR?(a.isDirty?r.push(a):p.push(a),b.resolve()):(console.log("Error checking modification status of "+a.file.fullPath,c.code),b.reject())}):b.resolve(),b}return o=[],p=[],q=[],r=[],i.doInParallel(a,b,!0)}function t(a){var b=l.readAsText(a.file);return b.done(function(b,c){a.refreshText(b,c)}),b.fail(function(b){console.log("Error reloading contents of "+a.file.fullPath,b.code)}),b}function u(){return i.doInParallel(o,t,!1)}function v(a,b){return j.showModalDialog(j.DIALOG_ID_ERROR,k.ERROR_RELOADING_FILE_TITLE,k.format(k.ERROR_RELOADING_FILE,b.file.fullPath,l.getFileErrorString(a.code)))}function w(){p.forEach(function(a){e.closeDocument(a)})}function x(){function b(a,b){var c=new $.Deferred;if(n)return c.resolve(),c;var f,g,h;return b<q.length?(h=!1,g=j.DIALOG_ID_EXT_CHANGED,f=k.format(k.EXT_MODIFIED_MESSAGE,d.makeProjectRelativeIfPossible(a.file.fullPath))):(h=!0,g=j.DIALOG_ID_EXT_DELETED,f=k.format(k.EXT_DELETED_MESSAGE,d.makeProjectRelativeIfPossible(a.file.fullPath))),j.showModalDialog(g,k.EXT_MODIFIED_TITLE,f).done(function(b){b===j.DIALOG_BTN_DONTSAVE?h?(e.closeDocument(a),c.resolve()):t(a).done(function(){c.resolve()}).fail(function(b){v(b,a).always(function(){c.reject
()})}):c.resolve()}),c}var a=q.concat(r);return i.doSequentially(a,b,!1)}function y(){if(m){n=!0,j.cancelModalDialogIfOpen(j.DIALOG_ID_EXT_CHANGED),j.cancelModalDialogIfOpen(j.DIALOG_ID_EXT_DELETED);return}m=!0;var a=e.getAllOpenDocuments();s(a).done(function(){u().always(function(){w(),x().always(function(){n?(n=!1,m=!1,y()):(m=!1,(q.length>0||r.length>0)&&f.focusEditor())})})}).fail(function(){m=!1})}"use strict";var d=a("ProjectManager"),e=a("DocumentManager"),f=a("EditorManager"),g=a("Commands"),h=a("CommandManager"),i=a("Async"),j=a("Dialogs"),k=a("strings"),l=a("FileUtils"),m=!1,n=!1,o,p,q,r;b.syncOpenDocuments=y}),define("CodeHintManager",["require","exports","module","CodeHintUtils","EditorManager"],function(a,b,c){function f(a,b,c){}function g(a,b,c){}function h(a){var b=a.getCursor(),c=d.getTagInfo(a,b);c.position.type===d.ATTR_VALUE&&(c.attr.name==="class"?f(a,b,c):c.attr.name==="id"&&g(a,b,c))}function i(a,b,c){if(c.type!=="keypress")return;setTimeout(function(){h(b)},40)}"use strict";var d=a("CodeHintUtils"),e=a("EditorManager")}),define("QuickFileOpen",["require","exports","module","FileIndexManager","DocumentManager","CommandManager","EditorManager","Commands","ProjectManager"],function(a,b,c){function j(){this.closed=!1,this.result=null}function k(a){return a.slice(a.lastIndexOf("/")+1,a.length)}function l(){var a=new j;a.showDialog().done(function(a){if(a)if(a.charAt(0)===":"){var b=parseInt(a.slice(1,a.length),10);if(!isNaN(b)){var c=g.getCurrentFullEditor();c.setCursorPos(b-1,0)}}else f.execute(h.FILE_OPEN,{fullPath:a})})}"use strict";var d=a("FileIndexManager"),e=a("DocumentManager"),f=a("CommandManager"),g=a("EditorManager"),h=a("Commands"),i=a("ProjectManager");j.prototype._createDialogDiv=function(a){var b=$("#editorHolder")[0];this.dialog=b.insertBefore(document.createElement("div"),b.firstChild),this.dialog.className="CodeMirror-dialog",this.dialog.innerHTML="<div>"+a+"</div>"},j.prototype._close=function(a){if(this.closed)return;this.closed=!0,this.dialog.parentNode.removeChild(this.dialog),$(".smart_autocomplete_container").remove(),this.result.resolve(a)},j.prototype.showDialog=function(){var a=this,b;return this.result=new $.Deferred,d.getFileInfoList("all").done(function(c){function h(a){var b=k(a),c=i.makeProjectRelativeIfPossible(a),d=b.replace(new RegExp($("input#quickFileOpenSearch").val(),"gi"),"<strong>$&</strong>");return"<li data-fullpath='"+encodeURIComponent(a)+"'>"+d+"<br><span class='quickOpenPath'>"+c+"</span></li>"}function j(a,b){var c=$.map(b,function(b){var c=b.fullPath,d=k(c);return d.toLowerCase().indexOf(a.toLowerCase())!==-1?b.fullPath:null}).sort(function(a,b){var c=k(a).toLowerCase(),d=k(b).toLowerCase();return c<d?-1:c>d?1:0});return c}b=c;var d='Quick Open: <input type="text" autocomplete="off" id="quickFileOpenSearch" style="width: 30em">';a._createDialogDiv(d);var e=!1,f=$("input#quickFileOpenSearch");f.smartAutoComplete({source:b,maxResults:10,forceSelect:!1,typeAhead:!0,filter:j,resultFormatter:h}),f.bind({itemSelect:function(b,c){var d=decodeURIComponent($(c).attr("data-fullpath"));a._close(d)},keydown:function(b){var c=f.val();if(b.keyCode===13&&c.charAt(0)===":"||b.keyCode===27)b.stopPropagation(),b.preventDefault(),b.keyCode===27&&(c=null),a._close(c),g.focusEditor()}}),f.focus()}),this.result},f.register(h.FILE_QUICK_NAVIGATE,l)}),define("JSLint",["require","exports","module","thirdparty/path-utils/path-utils.min","thirdparty/jslint/jslint","DocumentManager","EditorManager"],function(a,b,c){function g(){return f}function h(a){f=a}function i(){var a=d.getCurrentDocument(),b=a?PathUtils.filenameExtension(a.file.fullPath):"",c=$("#jslint-results"),f=$("#gold-star");if(g()&&/^(\.js|\.htm|\.html)$/i.test(b)){var h=a.getText(),i,j=h.split("\n");for(i=0;i<j.length;i++)j[i].match(/\S/)||(j[i]="");h=j.join("\n");var k=JSLINT(h,null);if(!k){var l=$("<table class='zebra-striped condensed-table'>").append("<tbody>"),m;JSLINT.errors.forEach(function(a,b){if(a){var c=function(a){return $("<td/>").text(a)},d=$("<tr/>").append(c(a.line)).append(c(a.reason)).append(c(a.evidence||"")).appendTo(l);d.click(function(){m&&m.removeClass("selected"),d.addClass("selected"),m=d;var b=e.getCurrentFullEditor();b.setCursorPos(a.line-1,a.character-1),e.focusEditor()})}}),$("#jslint-results .table-container").empty().append(l),c.show(),f.hide()}else c.hide(),f.show()}else c.hide(),f.hide();e.resizeEditor()}"use strict",a("thirdparty/path-utils/path-utils.min"),a("thirdparty/jslint/jslint");var d=a("DocumentManager"),e=a("EditorManager"),f=!0;$(d).on("currentDocumentChange",function(){i()}),$(d).on("documentSaved",function(a,b){b===d.getCurrentDocument()&&i()}),b.run=i,b.getEnabled=g,b.setEnabled=h}),define("DebugCommandHandlers",["require","exports","module","Commands","CommandManager","JSLint","PerfUtils"],function(a,b,c){function h(){f.setEnabled(!f.getEnabled()),f.run(),$("#jslint-enabled-checkbox").css("display",f.getEnabled()?"":"none")}function j(){if(i)try{i.location.reload()}catch(a){i=null}i||(i=window.open("../test/SpecRunner.html"),i.location.reload())}function k(){var a=$("<div class='modal-header' />").append("<a href='#' class='close'>&times;</a>").append("<h3 class='dialog-title'>Performance Data</h3>"),b=$("<div class='modal-body' style='padding: 0' />"),c=$("<table class='zebra-striped condensed-table' style='max-height: 600px; overflow: auto;'>").append("<thead><th>Operation</th><th>Time (ms)</th></thead>").append("<tbody />").appendTo(b),d=function(a){return $("<td/>").text(a)},e=function(a){if(Array.isArray(a)){var b,c=0;for(b=0;b<a.length;b++)c+=a[b];return String(Math.floor(c/a.length))+" (avg)"}return a},f,h=g.perfData;for(f in h)if(h.hasOwnProperty(f))var i=$("<tr/>").append(d(f)).append(d(e(h[f]))).appendTo(c);var j=$("<div class='modal hide' />").append(a).append(b).appendTo(document.body).modal({backdrop:"static",show:!0})}function l(){window.open(window.location.href)}"use strict";var d=a("Commands"),e=a("CommandManager"),f=a("JSLint"),g=a("PerfUtils"),i=null;e.register(d.DEBUG_JSLINT,h),e.register(d.DEBUG_RUN_UNIT_TESTS,j),e.register(d.DEBUG_SHOW_PERF_DATA,k),e.register(d.DEBUG_NEW_BRACKETS_WINDOW,l)}),define("brackets",["require","exports","module","widgets/bootstrap-dropdown","widgets/bootstrap-modal","thirdparty/path-utils/path-utils.min","thirdparty/smart-auto-complete/jquery.smart_autocomplete","ProjectManager","DocumentManager","EditorManager","InlineEditorProviders","WorkingSetView","FileCommandHandlers","FileViewController","FileSyncManager","KeyBindingManager","KeyMap","Commands","CommandManager","CodeHintManager","PerfUtils","FileIndexManager","QuickFileOpen","Menus","JSLint","CodeHintManager","DebugCommandHandlers","PreferencesManager","CommandManager","CSSUtils","ShellAPI"],function(a,b,c){"use strict",a("widgets/bootstrap-dropdown"),a("widgets/bootstrap-modal"),a("thirdparty/path-utils/path-utils.min"),a("thirdparty/smart-auto-complete/jquery.smart_autocomplete");var d=a("ProjectManager"),e=a("DocumentManager"),f=a("EditorManager"),g=a("InlineEditorProviders"),h=a("WorkingSetView"),i=a("FileCommandHandlers"),j=a("FileViewController"),k=a("FileSyncManager"),l=a("KeyBindingManager"),m=a("KeyMap"),n=a("Commands"),o=a("CommandManager"),p=a("CodeHintManager"),q=a("PerfUtils"),r=a("FileIndexManager"),s=a("QuickFileOpen"),t=a("Menus");a("JSLint"),a("CodeHintManager"),a("DebugCommandHandlers");var u=Function,v=(new u("return this"))();v.brackets||(v.brackets={}),brackets.test={PreferencesManager:a("PreferencesManager"),ProjectManager:d,FileCommandHandlers:i,FileViewController:j,DocumentManager:e,EditorManager:f,Commands:n,WorkingSetView:h,CommandManager:a("CommandManager"),FileIndexManager:r,CSSUtils:a("CSSUtils")},brackets.shellAPI=a("ShellAPI"),brackets.inBrowser=!brackets.hasOwnProperty("fs"),brackets.platform=v.navigator.platform==="MacIntel"||v.navigator.platform==="MacPPC"?"mac":"win",$(document).ready(function(){function a(){$(document.body).on("dragover",function(a){a.originalEvent.dataTransfer.files&&(a.stopPropagation(),a.preventDefault(),a.originalEvent.dataTransfer.dropEffect="none")}).on("drop",function(a){a.originalEvent.dataTransfer.files&&(a.stopPropagation(),a.preventDefault())})}function b(){d.loadProject(),$("#btn-open-project").click(function(){d.openProject()}),$("#open-files-header").click(function(){$("#open-files-disclosure-arrow").toggleClass("disclosure-arrow-closed"),$("#open-files-container").toggle()}),$("#project-files-header").click(function(){$("#project-files-disclosure-arrow").toggleClass("disclosure-arrow-closed"),$("#project-files-container").toggle()})}function c(){i.init($("#main-toolbar .title"))}function e(){var a=m.create({bindings:[{"Ctrl-O":n.FILE_OPEN},{"Ctrl-S":n.FILE_SAVE},{"Ctrl-W":n.FILE_CLOSE},{"Ctrl-Shift-O":n.FILE_QUICK_NAVIGATE},{"Ctrl-R":n.FILE_RELOAD,platform:"mac"},{F5:n.FILE_RELOAD,platform:"win"}],platform:brackets.platform});l.installKeymap(a),$(document.body).keydown(function(a){l.handleKey(m.translateKeyboardEvent(a))&&a.preventDefault()})}function h(){$(window).focus(function(){k.syncOpenDocuments(),r.markDirty()}),$(window).unload(function(){o.execute(n.FILE_CLOSE_WINDOW)}),$(window).contextmenu(function(a){a.preventDefault()})}f.setEditorHolder($("#editorHolder")),g.init(),a(),b(),t.init(),c(),e(),h(),q.addMeasurement("Application Startup")})});